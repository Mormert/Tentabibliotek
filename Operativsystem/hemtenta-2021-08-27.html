<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">

<html lang="sv">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
<title>Operativsystem för civilingenjörer: Hemtentamen 2021-08-27</title>
<STYLE TYPE="text/css">
     P.breakhere {page-break-before: always}
</STYLE>
</head>

<body bgcolor="#ffffff" text="#000000" link="#0000cc" vlink="#551a8b" alink="#ff0000">


<h1><a href="../../index.html">Operativsystem för civilingenjörer</a>: Hemtentamen 2021-08-27</h1>

Det här är hemtentan som går fredag 28 augusti 2021 i kursen
DT513G Operativsystem för civilingenjörer
vid Örebro universitet, provkod A001.
Ansvarig lärare är
<a href="http://www.aass.oru.se/~tpy/">Thomas Padron-McCarthy</a>
(<a href="mailto:thomas.padron-mccarthy@oru.se?subject=Operativsystem-hemtenta 2021-08-27">thomas.padron-mccarthy@oru.se</a>),
telefon <b>070-73 47 013</b>.

<p>

Tid: 08:15 - 13:15



<h2>Instruktioner</h2>

<ol>

<li>
Den här hemtentan ersätter den planerade salstentan.

<li>
Tentatiden är utökad med en extra timme
för att täcka in problem med e-post, inscanning eller fotografering av diagram, och liknande.

<li>
Uppgifterna ska lösas enskilt, dvs inga grupper av två eller flera studenter.

<li>
<b>Du får använda dator, böcker och vilka andra hjälpmedel som helst,</b>
men du får inte samarbeta eller fråga någon (utom mig).
Exempelvis är det tillåtet att söka och läsa på webbplatser som Stack Overflow, men inte att ställa egna frågor.
Du kan alltså provköra kommandon och program, om du vill.

<li>
<b>Diskutera inte uppgifterna eller dela med dig av svar förrän tidigast dagen efter tentan.</b>

<li>
Lös de angivna uppgifterna och samla svaren på lämpligt sätt,
till exempel i en PDF.
Skicka sen in lösningarna till mig i
<a href="http://lms.oru.se/">Blackboard</a>.
Välj <b>Kursmaterial</b> i menyn till vänster på kursens Blackboard-sida,
gå in i mappen <b>Hemtentor</b>,
och välj den rätta tentan.
Där kan man sedan välja att skicka in sin lösning.
Då blir bedömningen anonym.
Glöm inte att klicka på knappen <b>Skicka</b> längst ner till höger.

<li>
Om det skulle bli problem med Blackboard,
kan man i nödfall skicka in svaren
antingen som ett kursmeddelande i Blackboard
eller via vanlig e-post
(<a href="mailto:thomas.padron-mccarthy@oru.se?subject=Databasteknik-hemtenta 2021-08-27">thomas.padron-mccarthy@oru.se</a>),
senast vid tentatidens slut.
Då blir bedömningen inte anonym.

<li>
I Blackboard ser du att du skickat in din lösning.
Om du i stället skickade in med e-post,
och inte senast en timme efter tentatidens slut fått
ett svar från mig med en bekräftelse
på att du skickat in svaren,
bör du kontakta mig, enklast genom att ringa eller SMS:a mig
(ifall det är e-posten som inte fungerar).
Tänk på att en del mailtjänster
(särskilt Microsoft-tjänster som Hotmail.com, Outlook.com och Live.com)
ibland kastar bort brev med bilagor, utan att meddela det.

<li>
Skriv gärna svaren i ett ordbehandlingsprogram.
Rita gärna eventuella diagram i ett ritprogram.
Det är inte förbjudet att skriva och rita för hand,
men då måste text och bilder scannas in eller fotograferas.
Det finns scanner-appar till Android och iPhone,
till exempel Adobe Scan,
som ger bättre resultat än att bara ta vanliga kort med kameran.

<li>
Om du behöver fråga något, så kontakta gärna mig.
Ring eller skicka SMS,
för jag kanske inte kommer att sitta vid datorn hela tiden.

<li>
Oklara och tvetydiga formuleringar kommer att misstolkas.
Lösningar som inte går att läsa eller förstå kan naturligtvis inte ge några poäng. 

<li>
Antaganden utöver de som står i uppgifterna måste anges. Gjorda antaganden får inte förändra den givna uppgiften.

<li>
Skriv gärna förklaringar om hur du tänkt. Även ett svar som är fel kan ge poäng, om det finns med en förklaring som visar att huvudtankarna var rätt. 

<li>
Maximal poäng är 26.
För godkänt betyg krävs minst 14 poäng.

<li>
Resultat meddelas senast 15 arbetsdagar efter tentamensdatum.
Eftersom svaren skickas in elektroniskt scannas tentorna inte för retur.

</ol>



<h2>Information från institutionen angående fusk</h2>

<table border="1" cellspacing="0" cellpadding="3" width="100%"><tr><td bgcolor="yellow">

<b>Instruktioner inför digital hemtentamen/ examination</b>

<p>

<b>Jag vill undvika fusk - hur gör jag? / All form av fusk anmäls</b>
<br>
<b>Du ska följa instruktionerna för uppgiften.</b>
Om du är osäker, fråga ansvarig lärare om något i instruktionerna är oklart.
<br>
<b>Du får inte samarbeta.</b>
Det här är en individuell examinationsuppgift. Du ska inte prata med någon, ställa frågor till eller ta hjälp av andra studenter eller kurskamrater. Att hjälpa andra under en individuell examination är också fusk.

<p>

<b>Lägg undan mobilen.</b> Stäng av sociala medier.

<p>

<b>Du får inte använda hjälpmedel.</b>
Det vill säga att du får inte använda dig av något annat än det som står angivet i instruktionerna.
<br>
<b>Du får inte använda andra formuleringar än dina egna.</b>
Dina svar ska vara <b>självständigt formulerade</b> och <b>redovisa dina kunskaper.</b>
Det betyder att inga citat eller referat ska förekomma i dina svar om det inte står i instruktionerna att du får använda citat eller referat.
<br>
<b>Dina svar kontrolleras via Urkund.</b>
<br>
<b>All misstanke om fusk anmäls</b> till universitetets rektor och kan leda till en prövning i universitets disciplinnämnd.

<p>

<b>Konsekvenser av fusk</b>

<p>

Om du fuskar kan detta leda till en avstängning som kan få följder både för dina studier och privat:

<ul>
<li>Uteblivet studiemedel som t.ex. som kan påverka din möjlighet att behålla din bostad.

<li>Ingen åtkomst till digitala plattformar.

<li>Du kan behöva meddela dina kursare om att du är fälld för fusk, om du t.ex. ingår i ett grupparbete på en pågående kurs men blir avstängd.

<li>Tillfällen för examination går förlorade vilket kan innebära att du inte kommer vidare i dina studier nästa läsperiod/termin och din studiegång blir därmed påverkad.

<li>Beslutet är en offentlig handling som begärs regelbundet ut av en nyhetsbyrå. Och kan även begäras ut av framtida arbetsgivare eller andra.

<li>Om du fuskar dig igenom din utbildning har du inte den kunskap som arbetsmarknaden förväntar av dig.
</ul>

<b>OBS: Tänk efter en gång till innan du påbörjar och genomför din tentamen!</b>

</td></tr></table>



<P CLASS="breakhere">



<a name="uppgift-1"></a>
<h2>Uppgift 1 (6 p)</h2>

Om man läser om x86-arkitekturen,
ser man att x86-processorer kan köras på flera olika sätt, i olika "moder":
<ul>
<li>
"Real mode", utan virtuellt minne,
där processorn arbetar direkt mot det fysiska minnet,
och minnesadresser bara är 20 bitar.
<li>
"Protected mode", som är den vanligaste 32-bitarsmoden, där man har virtuellt minne
med både virtuella och fysiska adresser på 32 bitar.
<li>
Protected mode med "Physical Address Extension",
som fungerar som protected mode, men fysiska adresser är på 36 bitar.
<li>
"Long mode", som är den vanligaste 64-bitarsmoden, där man har virtuellt minne
med virtuella adresser på 48 bitar och fysiska adresser på 52 bitar.
(Adresserna lagras normalt med 64 bitar,
men det är alltså bara 48 respektive 52 som faktiskt används.)
</ul>

<p>

En student (som eventuellt kan ha slarvat lite när hen läste OS-kursen)
behöver hjälp med några frågor.
Svara på dessa frågor, och red ut eventuella missförstånd!

<p>

a)
"Hur fungerar page-tabellen i real mode? Är det en för varje process fortfarande, eller vad?"

<p>

b)
"I vanliga fall brukar den virtuella minnesrymden vara större än det fysiska minnet,
och data i den virtuella minnesrymden som inte får plats i det fysiska minnet pagas ut till disk.
Men när man använder Physical Address Extension är fysiska adresser 36 bitar,
medan virtuella är 32 bitar,
så man kan ha mer fysiskt minne än virtuellt minne.
Hur fungerar det med paging? Gör man tvärtom mot vanligt,
så de data som inte får plats på disken pagas till RAM-minnet, eller vad?"

<p>

c)
"I long mode är virtuella adresser 48 bitar,
så man kan ha 2<sup>48</sup> = 281474976710656 byte virtuellt minne,
dvs mer än 200 terabyte, eller 200000 gigabyte.
Men hur kan det fungera? Min dator har bara en disk på en enda terabyte, eller 1000 gigabyte,
och även om man pagar ut data ur primärminnet till disken skulle det ju inte få plats!"



<a name="uppgift-2"></a>
<h2>Uppgift 2 (4 p)</h2>

a)
Den mjukvara som finns på en dator brukar delas in i
operativsystemkärna, systemprogram och applikationsprogram.
Förklara vad som menas med dessa tre olika typer.

<p>

b)
I operativsystem med en mikrokärna ("microkernel" på engelska)
tar man en del av de uppgifter som i en monolitisk eller modulär kärna
skulle utföras av operativsystemkärnan,
och flyttar dem till program som kör i "user space", dvs utan kärnans rättigheter.
Vad händer då med de tre olika typerna av program från a-uppgiften?
Har det uppstått en ny typ, eller vad? Diskutera!



<a name="uppgift-3"></a>
<h2>Uppgift 3 (13 p)</h2>

Filen <a href="blaj.txt">blaj.txt</a> innehåller texten <b>blaj</b>, följt av ett radslut.
Det är sammanlagt 5 byte.
(På Unix och Linux i alla fall.
Windows och en del andra system lagrar radslut med två byte.)

<p>

a) (3p)
Skriv ett C-program för Unix eller Linux,
som startar tre olika processer (med <b>fork</b>),
som var och en läser innehållet i den filen med ett <b>read</b>-anrop.
Efter <b>read</b>-anropet ska respektive process avslutas,
så vi ska inte göra något med de data som vi läst in.

<p>

b) (3p)
När en process körs på en dator kommer operativsystemet att flytta processen
(eller egentligen dess process control block, även kallad task-struct)
mellan olika köer.
Visa hur de tre processerna kan komma att flyttas mellan köerna
(dvs vilka köer varje process finns i, och hur den flyttas mellan dem, och när det händer)
om vi kör programmet på en dator med en enda processorkärna.

<p>

c) (3p)
Nu kör vi i stället programmet på en dator med många lediga processorkärnor.
Visa hur processerna nu kan komma att flyttas mellan köerna!

<p>

d) (1p)
Vad är egentligen skillnaden mellan en processorkärna och en operativsystemkärna?

<p>

e) (3p)
Om vi hade skrivit ett program som skapade trådar i stället för processer,
hade det blivit någon skillnad i hur trådarna då flyttas mellan köer,
jämfört med hur processerna flyttades? Förklara!



<a name="uppgift-4"></a>
<h2>Uppgift 4 (3 p)</h2>

När man installerar applikationsprogram ("appar") på en mobiltelefon,
brukar man kunna ange för varje sådant program vad det får och inte får göra,
till exempel om det får göra uppkopplingar via Internet.

<p>

På en vanlig Linux-dator (en server, eller en stationär eller bärbar dator) kan man normalt inte göra det,
utan alla applikationsprogram som man installerar får alla rättigheter,
och det går inte (särskilt lätt) att begränsa dem.

<p>

Varför är det gjort så?
  
<p>

<hr>

<font size=-1>
<a href="http://www.aass.oru.se/~tpy/">Thomas Padron-McCarthy</a>
(<a href="mailto:thomas.padron-mccarthy@oru.se?subject=Operativsystem-hemtenta 2021-08-27">thomas.padron-mccarthy@oru.se</a>),
26 augusti 2021
</font>

</body>
</html>
