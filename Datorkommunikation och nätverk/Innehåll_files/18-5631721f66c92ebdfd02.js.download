(window.webpackJsonp=window.webpackJsonp||[]).push([[18],{"+ImK":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n("D57K"),a=i.__importDefault(n("ERkP")),o=i.__importDefault(n("aWzz"));n("1W57");var r=i.__importDefault(n("Bt0e")),l=i.__importDefault(n("I81k")),s=function(e){var t=e.title,n=e.description,i=e.bottomMargin,o=e.size;return a.default.createElement("div",{className:i?"inline-error-container inline-error-container-bottom":"inline-error-container"},a.default.createElement(r.default,{icon:l.default,size:o,color:!0}),a.default.createElement("div",{"aria-live":"assertive",role:"alert",className:"inline-error-message-container__"+o},a.default.createElement("div",{className:"inline-error-title"},t),a.default.createElement("div",null,n)))};s.propTypes={title:o.default.string.isRequired,size:o.default.oneOf(["small","medium"]).isRequired,description:o.default.string,bottomMargin:o.default.bool},s.defaultProps={bottomMargin:!1,description:""},t.default=s},"+xlf":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n("D57K").__importDefault(n("enG4"));t.default=i.default},"/zoO":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n("D57K"),a=i.__importDefault(n("ERkP")),o=i.__importDefault(n("aWzz")),r=n("kBJj"),l=i.__importDefault(n("Ebvs")),s=i.__importDefault(n("+xlf")),u=i.__importDefault(n("BnC3")),d=i.__importDefault(n("6wo1")),c=i.__importDefault(n("dw5F")),f=n("f16b"),p=function(e){var t=e.dispatch,n=e.module,i=e.session,o=e.onOpenEditImagePanel,r=e.setUnsavedResources,u=e.onUpdateDetails,d=e.onValidateInput,f=e.pluginsConfig,p=e.analyticsId;switch(n.type){case c.default.LINKS:return a.default.createElement(l.default,{dispatch:t,module:n,session:i,onOpenEditImagePanel:o,setUnsavedResources:r,onUpdateDetails:u,onValidateInput:d,analyticsId:p+".imageModule"});case c.default.CONTENT:return a.default.createElement(s.default,{module:n,setUnsavedResources:r,pluginsConfig:f,analyticsId:""+p});default:return null}};p.propTypes=i.__assign({dispatch:o.default.func.isRequired,module:u.default.isRequired,session:d.default.isRequired,onOpenEditImagePanel:o.default.func.isRequired,setUnsavedResources:o.default.func.isRequired,onUpdateDetails:o.default.func.isRequired,onValidateInput:o.default.func.isRequired,pluginsConfig:r.optionalPluginConfigPropTypes.isRequired},f.addAnalyticsProps),t.default=p},"0/jh":function(e,t,n){},"0Kat":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n("D57K").__importStar(n("Mse8"));t.defaultBanner=i.defaultBanner,t.defaultLogo=i.defaultLogo,t.default=i.default},"0UfF":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n("D57K"),a=i.__importDefault(n("ERkP")),o=i.__importDefault(n("aWzz"));n("pXEe");var r=function(e){var t=e.title,n=e.superTitle;return a.default.createElement("header",{className:"panel-header-component"},a.default.createElement("h2",{className:"subheader panel-header-component__super-title"},n),a.default.createElement("h1",{className:"subheader panel-header-component__title"},t))};r.propTypes={superTitle:o.default.string,title:o.default.string},r.defaultProps={superTitle:"",title:""},t.default=r},"0wpS":function(e,t,n){},"188D":function(e,t,n){e.exports=n.p+"fb06ab22876178c6578a5011df11fc8a.png"},"1Cy1":function(e,t,n){},"1W57":function(e,t,n){},"2lmt":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n("D57K"),a=n("FzJq"),o=n("wg1p"),r=n("DqOQ"),l=i.__importDefault(n("vlH4")),s=i.__importDefault(n("skTy"));t.START_MODULE_XHR="module.start.xhr",t.GET_DATA="module.get.data",t.LINK_ADD="module.link.add",t.LINK_REMOVE="module.link.remove",t.LINK_UPDATE="module.link.update",t.MODULES_RECEIVED="module.all.received",t.MODULE_ADD="module.add",t.MODULE_REMOVE="module.remove",t.MODULE_UPDATE="module.update",t.IS_VISIBLE="module.visible",t.startModuleXhr=function(e){return void 0===e&&(e={}),{type:t.START_MODULE_XHR,props:e}},t.modulesReceived=function(e){return{type:t.MODULES_RECEIVED,modules:e,receivedAt:Date.now()}},t.getData=function(e){return function(n){return(e&&"default"!==e?a.getPageVariant("IP",e).then((function(e){return e&&e.available?e:null}),(function(e){if(e.name===s.default.NotFoundError)return null;throw e})).then((function(e){return e||a.getPageVariant("IP",null)})):a.getPageVariant("IP",null)).then((function(e){if(!e)throw new Error("no institution pages found!");return Promise.all([n(r.pageReceived(e)),a.getModules(e.id).then((function(e){var t=e.map((function(e){return a.getModuleResources(e).then((function(t){return e.resources=t,e}))}));return Promise.all(t)})).then((function(e){return n(t.modulesReceived(e))}))])})).catch((function(e){return n(o.Action(o.fail(t.GET_DATA),{err:e}))}))}},t.addLink=function(e,n){return function(i){return a.addResource(n).then((function(a){return i(o.Action(o.ok(t.LINK_ADD),{data:a,module:e,link:n}))})).catch((function(a){return i(o.Action(o.fail(t.LINK_ADD),{err:a,module:e,link:n}))}))}},t.updateLink=function(e,n){return function(i){return a.updateResource(n).then((function(a){return i(o.Action(o.ok(t.LINK_UPDATE),{data:a,module:e,link:n}))})).catch((function(a){return i(o.Action(o.fail(t.LINK_UPDATE),{err:a,module:e,link:n}))}))}},t.removeLink=function(e,n){return function(i){return a.deleteResource(n).then((function(a){return i(o.Action(o.ok(t.LINK_REMOVE),{data:a,module:e,linkId:n}))})).catch((function(a){return i(o.Action(o.fail(t.LINK_REMOVE),{err:a,module:e,linkId:n}))}))}},t.updateModule=function(e){var n=e.moduleId,r=e.module;return function(e){return a.callUpdateModuleAPI(r,n).then((function(n){var a=i.__assign(i.__assign({},n),{moduleId:n.module.id});e(o.Action(o.ok(t.MODULE_UPDATE),a))})).catch((function(i){return e(o.Action(o.fail(t.MODULE_UPDATE),{err:i,moduleId:n,module:r}))}))}},t.addModule=function(e,n,r){return function(l){var s=i.__assign({},e);if(!n||0===n.length)return Promise.resolve().then((function(){return l(o.Action(o.fail(t.MODULE_ADD),{err:"no module resources found!",createdModule:s}))}));var u=[];return a.callCreateModuleAPI(s,n,r).then((function(e){u=e.updatedData,(s=e.insertedData).resources=e.resources,s.institutionRoleIds=e.institutionRoleIds,l(o.Action(o.ok(t.MODULE_ADD),{updatedModules:u,createdModule:s}))})).catch((function(e){return l(o.Action(o.fail(t.MODULE_ADD),{err:e,createdModule:s}))}))}},t.removeModule=function(e){return function(n){return a.deleteModule(e).then((function(i){return n(o.Action(o.ok(t.MODULE_REMOVE),{data:i,moduleId:e}))})).catch((function(i){return n(o.Action(o.fail(t.MODULE_REMOVE),{err:i,moduleId:e}))}))}},t.checkModuleVisibility=function(e){return function(n){return a.getModuleVisibility(e).then((function(i){return n(o.Action(o.ok(t.IS_VISIBLE),{data:i,moduleId:e}))})).catch((function(i){return n(o.Action(o.fail(t.IS_VISIBLE),{err:i,moduleId:e})),Promise.reject(l.default.GET_MODULE_VISIBILITY)}))}}},"2lnG":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n("D57K");i.__exportStar(n("2lmt"),t),i.__exportStar(n("DqOQ"),t),i.__exportStar(n("q6cp"),t),i.__exportStar(n("Rz79"),t),i.__exportStar(n("GIAz"),t);var a=n("wg1p");t.ok=a.ok,t.fail=a.fail},"2xZF":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n("D57K"),a=i.__importDefault(n("ERkP")),o=i.__importDefault(n("aWzz")),r=n("MC1S"),l=n("f16b"),s=i.__importDefault(n("bA9G"));n("PFnq");var u=function(e){var t,n,o,l,s,u=e.currentPageIndex,d=e.currentViewerIndex,c=e.localize,f=e.onSwitchPage,p=e.onSwitchMode,m=e.onClickSettingsButton,_=e.variantId,g=e.viewerRoles,h=e.variantOptions,v=e.analyticsId,y=c.translate("ip.header.admin"),b=c.translate("ip.header.allOthers"),E=c.translate("ip.header.brandSelectLabel"),I=c.translate("ip.header.edit");return a.default.createElement("header",{className:"header"},a.default.createElement("h1",{className:"subheader header__title js-base-page-skip-link-target",tabIndex:"-1"},c.translate("ip.header.title")),function(){var e=h&&h.map((function(e,t){return{key:e.variantId||"default",text:e.variantName,action:function(){f(e,t),p("edit",0,"admin")}}}));if(!e||e.length<=1)return null;var t=e[u]&&e[u].text,n=I+" "+t,i=a.default.createElement("div",{className:"header__brand-select-label"},E);return a.default.createElement("div",{className:"header__brand-container inline-label"},a.default.createElement(r.Dropdown,{ariaLabel:n,defaultSelectedKey:e[u]&&e[u].key,selectedKey:e[u]&&e[u].key,label:i,options:e,inlineLabel:!0,onChanged:function(e){return e.action&&e.action()},analyticsId:v+".pages"}))}(),(t=g.map((function(e,t){return{key:e.roleKey,text:e.roleName,action:function(){return p("preview",t+1,e.roleKey)}}})),n=i.__spreadArrays([{key:"admin",text:y,action:function(){return p("edit",0,"admin")}}],t,[{key:"",text:b,action:function(){return p("preview",t.length+1,"")}}]),o=n[d]&&n[d].text,l=I+" "+o,s=a.default.createElement("div",{className:"header__role-select-label"},I),a.default.createElement("div",{className:"header__role-container inline-label"},a.default.createElement(r.Dropdown,{ariaLabel:l,defaultSelectedKey:n[d]&&n[d].key,selectedKey:n[d]&&n[d].key,label:s,options:n,inlineLabel:!0,onChanged:function(e){return e.action&&e.action()},analyticsId:v+".roles"}))),!!m&&a.default.createElement(r.IconButton,{href:"#",className:"header__settings-button",iconProps:{iconName:"settings",iconSize:"small"},onClick:function(){m(_||"default")},analyticsId:v+".brandSettings.button",ariaLabel:c.translate("ip.header.brandSettingsTitle")}))};u.propTypes=i.__assign({currentPageIndex:o.default.number.isRequired,currentViewerIndex:o.default.number.isRequired,localize:s.default.isRequired,onSwitchPage:o.default.func.isRequired,onSwitchMode:o.default.func.isRequired,onClickSettingsButton:o.default.func,variantId:o.default.string,variantOptions:o.default.arrayOf(o.default.shape({variantId:o.default.string,variantName:o.default.string.isRequired})),viewerRoles:o.default.arrayOf(o.default.shape({roleKey:o.default.string.isRequired,roleName:o.default.string.isRequired})).isRequired},l.addAnalyticsProps),u.defaultProps={onClickSettingsButton:null,variantId:"default",variantOptions:null},t.default=u},"3SOn":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n("D57K"),a=i.__importDefault(n("ERkP")),o=i.__importDefault(n("aWzz")),r=n("8unJ"),l=n("myse"),s=n("f16b"),u=i.__importDefault(n("Egus")),d=i.__importDefault(n("QicL")),c=i.__importDefault(n("mbH0")),f=i.__importDefault(n("Bt0e")),p=i.__importDefault(n("bA9G")),m=i.__importDefault(n("d1Rw"));n("iiwF");var _=function(e){function t(t){var n=e.call(this,t)||this;return n.onEditButtonFocus=function(){n.setState((function(){return{editButtonFocused:!0}}))},n.onEditButtonBlur=function(){n.setState((function(){return{editButtonFocused:!1}}))},n.onDeleteButtonFocus=function(){n.setState((function(){return{deleteButtonFocused:!0}}))},n.onDeleteButtonBlur=function(){n.setState((function(){return{deleteButtonFocused:!1}}))},n.state={editButtonFocused:!1,deleteButtonFocused:!1},n}return i.__extends(t,e),t.prototype.render=function(){var e,t=this.props,n=t.link,i=t.localize,o=t.handleOpenEditLinkImageButtonClick,r=t.handleDeleteLinkImageButtonClick,s=t.buttonTitle,p=t.analyticsId,m=t.analyticsEventAugmentor,_=p+".edit.button",g=p+".edit.link",h=p+".delete.button";if(n.details.imageHref){var v={backgroundImage:"url('"+n.details.imageHref+"')"},y=this.state.editButtonFocused||this.state.deleteButtonFocused;e=a.default.createElement("div",{className:"image-thumbnail",style:v},a.default.createElement("button",{onFocus:this.onEditButtonFocus,onBlur:this.onEditButtonBlur,className:y?"image-thumbnail-edit visible":"image-thumbnail-edit","aria-label":i.translate("ip.editModule.editLinkImage",{buttonTitle:s}),onClick:m(l.AnalyticsEventTypes.CLICK_EVENT,o,_),"data-analytics-id":_,tabIndex:0},a.default.createElement(f.default,{icon:d.default,size:"small"})),a.default.createElement("button",{onFocus:this.onDeleteButtonFocus,onBlur:this.onDeleteButtonBlur,className:y?"image-thumbnail-delete visible":"image-thumbnail-delete","aria-label":i.translate("ip.editModule.deleteLinkImage",{buttonTitle:s}),tabIndex:0,onClick:m(l.AnalyticsEventTypes.CLICK_EVENT,r,h),"data-analytics-id":h},a.default.createElement(f.default,{icon:c.default,size:"small"})),a.default.createElement("div",{className:y?"overlay visible":"overlay"}))}return this.props.hasMaxImages||e||(e=a.default.createElement("div",{className:"edit-image-button-add"},a.default.createElement("button",{className:"add-button","aria-label":i.translate("ip.editModule.addLinkImageTitle",{buttonTitle:s}),onClick:m(l.AnalyticsEventTypes.CLICK_EVENT,o,_),"data-analytics-id":_},a.default.createElement(f.default,{icon:u.default,size:"small"})),a.default.createElement("a",{className:"small-only-link",href:void 0,onClick:m(l.AnalyticsEventTypes.CLICK_EVENT,o,g),"data-analytics-id":g},i.translate("ip.editModule.addLinkImage")))),a.default.createElement("div",{className:"edit-image-button"},e)},t}(a.default.Component);t.BaseEditImageButton=_,_.propTypes=i.__assign({buttonTitle:o.default.string.isRequired,link:m.default.isRequired,handleDeleteLinkImageButtonClick:o.default.func.isRequired,handleOpenEditLinkImageButtonClick:o.default.func.isRequired,localize:p.default.isRequired,hasMaxImages:o.default.bool},s.withAnalyticsProps),_.defaultProps={hasMaxImages:!1};var g=r.localizedComponentWrapper(_);t.LocalizedEditImageButton=g,t.default=l.withAnalytics(g)},"3uNv":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n("D57K"),a=n("9OUN"),o=i.__importDefault(n("L7bQ")),r=i.__importDefault(n("aLoj")),l=i.__importDefault(n("qrct")),s=i.__importDefault(n("7fuL")),u=i.__importDefault(n("MPZR")),d=a.combineReducers({module:o.default,page:r.default,role:l.default,common:s.default,session:u.default});t.default=d},"3y1u":function(e,t,n){},"4M3I":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n("D57K").__importDefault(n("w35b"));t.default=i.default},"4PSn":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n("D57K"),a=i.__importDefault(n("ERkP")),o=i.__importDefault(n("aWzz")),r=n("8unJ"),l=i.__importDefault(n("bA9G"));n("yCqE");var s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.getLoadingText=function(){return t.props.localize.translate("ip.header.loading")},t}return i.__extends(t,e),t.prototype.render=function(){var e=this.props.backDrop?a.default.createElement("div",{className:"loading-icon__back-drop"}):"";return a.default.createElement("div",{className:"loading-icon"},e,a.default.createElement("div",{className:"loading-icon__inner"},a.default.createElement("span",{className:"sr-only"},this.getLoadingText())))},t}(a.default.Component);s.propTypes={backDrop:o.default.bool,localize:l.default},s.defaultProps={backDrop:!1,localize:{}},t.default=r.localizedComponentWrapper(s)},"4gyk":function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),n("916l");var a=i(n("s4yx")),o=i(n("mWAx"));t.default=a.default,t.Icon=a.default,t.IconStack=o.default},"4jkJ":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n("HopG");var i=n("hTyS"),a=n("SLwq");t.getRoles=function(){var e=i.baseRoute+"/institutionRoles";return a.fetchReturnBody(e)}},"4sPl":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={ESC:27,ENTER:13,ARROW_UP:38,ARROW_DOWN:40}},"5cGW":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n("D57K").__importDefault(n("MQeD"));t.default=i.default},"5iPf":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n("D57K"),a=i.__importStar(n("kBJj"));t.default=function(e){var t=[a.link(),a.image(),a.video()],n=Object.keys(e).map((function(t){return a[t](e[t])}));return i.__spreadArrays(t,n)}},"6RIU":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var n=e;return e&&e.indexOf("//")<0&&("/"!==e[0]&&(n="/"+e),n=t?t+n:window.location.origin+n),n}},"6ZFR":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n("D57K"),a=i.__importDefault(n("ERkP")),o=i.__importDefault(n("aWzz")),r=n("MC1S"),l=n("myse"),s=n("f16b"),u=i.__importDefault(n("dBOD")),d=function(e){var t=e.content,n=e.id,i=e.title,o=e.onOk,s=e.onCancel,d=e.onOkText,c=e.onCancelText,f=e.analyticsId;return a.default.createElement(u.default,{content:t,id:n,title:i,onCancel:s,analyticsId:f},a.default.createElement(r.DialogFooter,null,a.default.createElement(r.DefaultButton,{onClick:l.useAnalyticsAugmentEventOnElement("click",s,f+".cancel.button"),text:c,className:"js-cancel-button"}),a.default.createElement(r.DefaultButton,{onClick:l.useAnalyticsAugmentEventOnElement("click",o,f+".ok.button"),text:d,primary:!0,className:"js-ok-button"})))};d.propTypes=i.__assign({content:o.default.oneOfType([o.default.string,o.default.element]).isRequired,id:o.default.string.isRequired,title:o.default.string.isRequired,onOk:o.default.func.isRequired,onCancel:o.default.func.isRequired,onOkText:o.default.string.isRequired,onCancelText:o.default.string.isRequired},s.addAnalyticsProps),t.default=d},"6fMO":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n("D57K").__importDefault(n("u60F"));t.default=i.default},"6wo1":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n("D57K"),a=i.__importDefault(n("aWzz")),o=i.__importDefault(n("d1Rw"));t.default=a.default.shape({image:o.default})},"6y7X":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n("D57K"),a=i.__importDefault(n("ERkP")),o=i.__importDefault(n("aWzz")),r=n("MC1S"),l=i.__importDefault(n("O94r")),s=n("myse"),u=n("f16b");n("imzg");var d=function(e){function t(t){var n=e.call(this,t)||this;return n.toggleExpanded=function(){n.setState((function(e){return{expanded:!e.expanded}}))},n.state={expanded:t.startExpanded},n}return i.__extends(t,e),t.prototype.componentWillReceiveProps=function(e){e.startExpanded!==this.props.startExpanded&&this.setState((function(){return{expanded:e.startExpanded}}))},t.prototype.render=function(){var e=this.props,t=e.analyticsEventAugmentor,n=e.analyticsId,i=this.props.className?"collapsible-panel "+this.props.className:"collapsible-panel",o=n+".collapsiblePanel.toggle.button",u=a.default.createElement("button",{className:"collapsible-panel__header","aria-expanded":this.state.expanded,onClick:t(s.AnalyticsEventTypes.CLICK_EVENT,this.toggleExpanded,o),"data-analytics-id":o},a.default.createElement("div",{className:"collapsible-panel__header-left"},this.props.headerLeft),a.default.createElement("div",{className:"collapsible-panel__header-right"},a.default.createElement("div",{className:"collapsible-panel__header-right-text"},this.props.headerRight),a.default.createElement(r.SvgIcon,{className:"collapsible-panel__header-right-chevron",iconName:this.state.expanded?"arrow-up":"arrow-down",iconSize:"small",iconDecorative:!0}))),d=l.default({"collapsible-panel__content":!0,hidden:!this.state.expanded}),c=a.default.createElement("div",{className:d,"aria-hidden":!this.state.expanded},this.props.children);return a.default.createElement("div",{className:i},u,c)},t}(a.default.Component);t.BaseCollapsiblePanel=d,d.propTypes=i.__assign({startExpanded:o.default.bool,className:o.default.string,headerLeft:o.default.element.isRequired,headerRight:o.default.element.isRequired,children:o.default.node.isRequired},u.withAnalyticsProps),d.defaultProps={startExpanded:!1,className:""};var c=s.withAnalytics(d);t.default=c},"6zpC":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n("D57K").__importDefault(n("kqdT"));t.default=i.default},"721Y":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n("D57K"),a=i.__importDefault(n("ERkP")),o=i.__importDefault(n("aWzz")),r=n("nBlB"),l=n("f16b"),s=n("YxpF"),u=i.__importDefault(n("YyhZ")),d=i.__importDefault(n("d1Rw"));n("d+xE");var c=function(e){var t=e.items,n=e.itemOffset,i=e.dragPointRef,o=e.onInsertLink,r=e.onOpenEditLinkImage,l=e.onDeleteEditLinkImage,d=e.onUpdateResource,c=e.onValidateInput,f=e.onDelete,p=e.actions,m=e.state,_=e.translations,g=e.hideCutoff,h=e.maxLinksViewable,v=e.hasMaxImages,y=e.isImageColVisible,b=e.analyticsId,E=t.map((function(e,s){return a.default.createElement(u.default,{link:e,module:e,index:s,offset:n,key:e.id,preview:a.default.createElement("div",null,a.default.createElement("div",{className:"link-name"},e.details.title)),canBeReordered:t.length>1,onInsertLink:o,hasMaxImages:v,isImageColVisible:y,dragPointRef:i,onDeleteEditLinkImage:l,onOpenEditLinkImage:r,onUpdateResource:d,onValidateInput:c,onDelete:f,actions:p,state:m,analyticsId:b+".item"})}));if(!g&&n+t.length>h){var I=a.default.createElement("div",{key:"AllLinksCutoff",className:"module-content__divider-container"},a.default.createElement("div",{className:"module-table__row module-content__row module-content__divider",id:"split-section-divider"},a.default.createElement("span",{className:"module-content__divider-text"},_.splitSectionText)),a.default.createElement("div",{className:"module-content__divider-bar"},a.default.createElement("div",{className:"module-content__divider-bar__line"})));E.splice(h-1-n,0,I)}return a.default.createElement("div",{className:"module-table__body",id:"modules-section"},0===n&&a.default.createElement(s.InsertButton,{onClick:function(e){o(e,0)},buttonTitle:_.createLinkBtn,analyticsId:""+b}),E)};c.propTypes=i.__assign({items:o.default.arrayOf(d.default).isRequired,itemOffset:o.default.number,translations:o.default.shape().isRequired,dragPointRef:o.default.func,hasMaxImages:o.default.bool,isImageColVisible:o.default.bool,onInsertLink:o.default.func.isRequired,onDeleteEditLinkImage:o.default.func,onOpenEditLinkImage:o.default.func,onUpdateResource:o.default.func.isRequired,onValidateInput:o.default.func.isRequired,onDelete:o.default.func.isRequired,hideCutoff:o.default.bool,actions:o.default.shape().isRequired,state:o.default.shape().isRequired,maxLinksViewable:o.default.number.isRequired},l.addAnalyticsProps),c.defaultProps={itemOffset:0,hideCutoff:!1,hasMaxImages:!1,isImageColVisible:!0,dragPointRef:function(){},onDeleteEditLinkImage:function(){},onOpenEditLinkImage:function(){}},t.default=r.DragNDropContainer(c)},"79sU":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n("D57K").__importDefault(n("0UfF"));t.default=i.default},"7Bmz":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n("D57K").__importDefault(n("+ImK"));t.default=i.default},"7ONb":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n("D57K"),a=i.__importDefault(n("c6tI"));t.sanitizeLinkUrl=a.default;var o=i.__importDefault(n("5iPf"));t.configureEditorPlugins=o.default;var r=i.__importDefault(n("6RIU"));t.convertToAbsoluteUrl=r.default;var l=n("ATuK");t.validateIsEmpty=l.validateIsEmpty,t.validateTooLong=l.validateTooLong,t.validateAll=l.validateAll;var s=n("8rgp");t.getDisplayName=s.getDisplayName,t.omit=s.omit,t.values=s.values,t.trimStringValues=s.trimStringValues;var u=n("iVn3");t.getImageOrientation=u.getImageOrientation,t.isValidImageOrientation=u.isValidImageOrientation,t.determineImageOrientation=u.determineImageOrientation;var d=n("sTma");t.generateAudienceLabel=d.generateAudienceLabel,t.areRolesValid=d.areRolesValid,t.filterValidRoles=d.filterValidRoles},"7fW2":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n("D57K").__importDefault(n("6y7X"));t.default=i.default},"7fuL":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n("D57K"),a=n("Rz79"),o={error:!1,errorType:""},r=".ok",l=".fail";t.default=function(e,t){if(void 0===e&&(e=o),t&&t.type){if(t.type.endsWith(r))return i.__assign(i.__assign({},e),{error:!1,errorType:""});if(t.type.endsWith(l))return i.__assign(i.__assign({},e),{error:!0,errorType:t.err.name});if(t.type===a.SET_FEATURE_FLAGS)return i.__assign(i.__assign({},e),{featureFlags:t.flags});if(t.type===a.CLEAR_ERROR)return i.__assign(i.__assign({},e),{error:!1,errorType:""})}return e}},"81Z+":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n("D57K").__importDefault(n("kTYZ"));t.default=i.default},"8FZW":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n("D57K").__importDefault(n("/zoO"));t.default=i.default},"8W9E":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n("D57K").__importDefault(n("XFZ8"));t.default=i.default},"8iF6":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n("D57K"),a=i.__importDefault(n("ERkP")),o=i.__importDefault(n("aWzz")),r=i.__importDefault(n("5cGW")),l=n("f16b");n("Upev");var s=i.__importDefault(n("Bt0e")),u=function(e){var t,n=e.buttonText,i=e.buttonAriaLabel,o=e.generateDropdownOptions,l=e.description,u=e.headline,d=e.image,c=e.permission,f=e.analyticsId;return t=c?a.default.createElement("div",{className:"hero-zero-message__dropdown_wrapper"},a.default.createElement(r.default,{index:0,generateDropdownOptions:o,title:n,ariaLabel:i,analyticsId:f+".create"})):"",a.default.createElement("div",{className:"hero-zero-message"},a.default.createElement(s.default,{passedClass:"hero-zero-message__image",icon:d,size:"custom",color:!0}),a.default.createElement("h3",{className:"subheader hero-zero-message__headline"},u),a.default.createElement("p",{className:"hero-zero-message__description"},l),t)};u.propTypes=i.__assign({headline:o.default.string,image:o.default.string,description:o.default.string,permission:o.default.bool,buttonText:o.default.string.isRequired,buttonAriaLabel:o.default.string.isRequired,generateDropdownOptions:o.default.func.isRequired},l.addAnalyticsProps),u.defaultProps={headline:"",image:"",description:"",permission:!1},t.default=u},"8rgp":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.omit=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return Object.keys(e).reduce((function(n,i){return-1===t.indexOf(i)&&(n[i]=e[i]),n}),{})},t.values=function(e){return Object.keys(e).map((function(t){return e[t]}))},t.getDisplayName=function(e){return e.displayName||e.name||"Component"},t.trimStringValues=function(e){return e?"string"==typeof e?e.trim():Object.keys(e).reduce((function(n,i){return"string"==typeof e[i]?n[i]=e[i].trim():Array.isArray(e[i])||"object"==typeof e[i]?n[i]=t.trimStringValues(e[i]):n[i]=e[i],n}),Array.isArray(e)?[]:{}):e}},"916l":function(e,t,n){},"95+z":function(e,t){e.exports='<svg id="Layer_1" data-name="Layer 1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 200 200"><defs><style>.cls-1{fill:none;}.cls-2{fill:#fcb92a;}.cls-3{fill:#fff170;}.cls-4{fill:#c08f2d;}.cls-5{fill:#7f5d25;}.cls-6{clip-path:url(#clip-path);}.cls-7{fill:#8e6f51;}.cls-8{fill:#d7a57d;}.cls-9{fill:#80614c;}.cls-10{fill:#d8b655;}.cls-11{fill:#806a34;}.cls-12{clip-path:url(#clip-path-6);}.cls-13{fill:#ffddac;}.cls-14{fill:#333;opacity:0.1;isolation:isolate;}.cls-15{clip-path:url(#clip-path-7);}.cls-16{fill:#81b166;}.cls-17{fill:#93ca74;}.cls-18{clip-path:url(#clip-path-11);}</style><clipPath id="clip-path"><circle class="cls-1" cx="99.8" cy="99.9" r="99.8"></circle></clipPath><clipPath id="clip-path-6"><circle class="cls-1" cx="100" cy="100" r="100"></circle></clipPath><clipPath id="clip-path-7"><path class="cls-1" d="M139.3,120s-0.8-1.2-7.3-1.2-8.7,1.2-8.7,1.2V98.2h16V120Z"></path></clipPath><clipPath id="clip-path-11"><path class="cls-1" d="M75.3,144.7s-4.6-.3-19.1-0.3-20.2.3-20.2,0.3V90.1H75.3v54.6Z"></path></clipPath></defs><title>Illustrations_ZeroState_Desert</title><circle class="cls-2" cx="99.8" cy="99.9" r="99.8"></circle><circle class="cls-3" cx="22.4" cy="83.9" r="7.2"></circle><circle class="cls-1" cx="99.8" cy="99.9" r="99.8"></circle><path class="cls-4" d="M94.2,123.5L6.5,127.8S45,104.2,48.9,98.2,94.2,123.5,94.2,123.5Z"></path><path class="cls-5" d="M50.2,97.5c4.1,2.3,25.9,28,25.9,28l18.1-2s-10.5-7.7-22.4-16.7S50.2,97.5,50.2,97.5Z"></path><path class="cls-4" d="M128.8,117H31.7s31.4-7.9,46.2-19.5c6.4-5,9.6-4.3,12.8-4C96.7,94.5,128.8,117,128.8,117Z"></path><path class="cls-5" d="M95.2,95.4s14.2,16.2,13.4,19.1-5.9,2.2-5.9,2.2h26.2c0.7-.2-17.1-12.3-23-15.9A56.85,56.85,0,0,0,95.2,95.4Z"></path><g class="cls-6"><path class="cls-7" d="M197.4,125.2a100.82,100.82,0,0,0,3.2-25.3V98.3c-1,.5-2,1-3,1.6-33.8,19.6-51.9,25.3-51.9,25.3h51.7Z"></path></g><g class="cls-6"><path class="cls-8" d="M222.5,125.2H125.3S172.5,99,177.2,98.3,222.5,125.2,222.5,125.2Z"></path></g><g class="cls-6"><path class="cls-9" d="M178.3,98.3c11.2,9.2,19,26.8,19,26.8h25.2l-23.2-16a109.05,109.05,0,0,0-13.4-7.7A80.16,80.16,0,0,0,178.3,98.3Z"></path></g><g class="cls-6"><path class="cls-10" d="M201.4,129.6H104.2s40.3-24.4,51.9-25.3C165.2,103.6,201.4,129.6,201.4,129.6Z"></path></g><g class="cls-6"><path class="cls-11" d="M157.3,104.3c1.8,1.7,7.8,6.9,11.7,12.3a59.87,59.87,0,0,1,7,12.7l29.2,1s-14.4-8.3-24.3-15.4a73.3,73.3,0,0,0-17.8-9.1A40.72,40.72,0,0,0,157.3,104.3Z"></path></g><g class="cls-12"><path class="cls-13" d="M196.3,126.9c-35.2-9-72.7-13-96.3-13-26.7,0-64.5,3.3-96.4,13A100,100,0,0,0,196.3,126.9Z"></path></g><path class="cls-13" d="M136.3,123.5h-9.9v-4.2a40.17,40.17,0,0,0,9.8,0v4.2h0.1Z"></path><path class="cls-14" d="M192.7,136.5l-59.2-17.7h-1.1l-2.4.1,60,24C190.9,140.8,191.8,138.7,192.7,136.5Z"></path><g class="cls-15"><path class="cls-16" d="M132,120.6h0a1.54,1.54,0,0,1-1.5-1.5V102.4a1.54,1.54,0,0,1,1.5-1.5h0a1.54,1.54,0,0,1,1.5,1.5v16.7A1.54,1.54,0,0,1,132,120.6Z"></path></g><g class="cls-15"><path class="cls-17" d="M131.4,120.6h0a1.54,1.54,0,0,1-1.5-1.5V102.4a1.54,1.54,0,0,1,1.5-1.5h0a1.54,1.54,0,0,1,1.5,1.5v16.7A1.54,1.54,0,0,1,131.4,120.6Z"></path></g><g class="cls-15"><path class="cls-17" d="M131.3,113.6q-6.6,0-6.6-5.1a0.8,0.8,0,1,1,1.6,0c0,1.7.6,3.5,5,3.5A0.8,0.8,0,1,1,131.3,113.6Z"></path></g><g class="cls-15"><path class="cls-17" d="M132.9,109.3a0.8,0.8,0,0,1,0-1.6c1.6,0,2.5-.7,2.5-2a0.8,0.8,0,0,1,1.6,0C136.9,107.9,135.4,109.3,132.9,109.3Z"></path></g><path class="cls-14" d="M146.1,188.4L60,143l-8.6,1.4,80.1,50.2A104.89,104.89,0,0,0,146.1,188.4Z"></path><g class="cls-18"><path class="cls-16" d="M58.8,118a2.4,2.4,0,0,1,0-4.8c5.6,0,6-2,6-4.8a2.4,2.4,0,0,1,4.8,0C69.6,114.7,66,118,58.8,118Z"></path></g><g class="cls-18"><path class="cls-17" d="M52.8,128c-11.6,0-14-4.4-14-11.1a2.4,2.4,0,0,1,4.8,0c0,4.1.4,6.3,9.2,6.3A2.4,2.4,0,1,1,52.8,128Z"></path></g><g class="cls-18"><path class="cls-16" d="M56.4,145.8h0a4.23,4.23,0,0,1-4.2-4.2V94.3a4.23,4.23,0,0,1,4.2-4.2h0a4.23,4.23,0,0,1,4.2,4.2v47.2A4.25,4.25,0,0,1,56.4,145.8Z"></path></g><g class="cls-18"><path class="cls-17" d="M54.6,145.8h0a4.23,4.23,0,0,1-4.2-4.2V94.3a4.23,4.23,0,0,1,4.2-4.2h0a4.23,4.23,0,0,1,4.2,4.2v47.2A4.25,4.25,0,0,1,54.6,145.8Z"></path></g></svg>'},"9wzl":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n("D57K"),a=i.__importDefault(n("ERkP")),o=i.__importDefault(n("aWzz")),r=n("8unJ"),l=n("uDfI"),s=n("7ONb"),u=i.__importDefault(n("dw5F")),d=i.__importDefault(n("bA9G")),c=i.__importDefault(n("uxYL")),f=i.__importDefault(n("Et+e")),p=i.__importDefault(n("bLwh")),m=i.__importDefault(n("6wo1")),_=n("2lnG"),g=n("FzJq"),h=i.__importDefault(n("GRnb"));t.default=function(e){var t=function(t){function n(e){var n=t.call(this,e)||this;return n.getResourceValidity=function(){return n.props.type===u.default.LINKS},n.sanitizeSequenceNumber=function(e){var t=Number(e),i=n.props.moduleList.modules.length>0?n.props.moduleList.modules.map((function(e){return Number(e.sequence)})).reduce((function(e,t){return Math.max(e,t)})):0;return t=(t=(t=Number.isNaN(t)?0:t)<0?0:t)>i?i+1:t},n.saveModule=function(e){n.props.dispatchStartModuleXhr();var t=s.omit(e,"id","resources","institutionRoleIds"),i=e.resources.map((function(e){return s.omit(e,"id","moduleId")})),a=e.institutionRoleIds;return n.props.dispatchAddModule(t,i,a)},n.createdSessionModule=!1,n.timeout=null,n.props.shouldCreateSession&&n.createSessionModule(),n}return i.__extends(n,t),n.prototype.componentDidUpdate=function(e){!e.session.module&&this.props.shouldCreateSession&&this.createSessionModule()},n.prototype.componentWillUnmount=function(){this.timeout&&clearTimeout(this.timeout)},n.prototype.getTranslations=function(){var e=this.props.localize.translate;return{moduleName:e("ip.defaultData.moduleName"),imageResourceTitle:e("ip.defaultData.imageResourceTitle"),imageResourceDescription:e("ip.defaultData.imageResourceDescription"),defaultLinkTitle:e("ip.defaultData.linkName")}},n.prototype.translationsReady=function(){return this.getTranslations().moduleName},n.prototype.createSessionModule=function(){var e=this;if(!this.createdSessionModule&&!(this.props.session.module||this.props.page.loading||this.props.moduleList.loading))if(this.translationsReady()){this.timeout=null;var t=this.getTranslations(),n=g.createDefaultPostDataWithTempIds(this.props.type,t),i=n.module,a=n.resources;i.resources=a,i.customPageId=this.props.page.id,i.sequence=this.sanitizeSequenceNumber(this.props.sequence),this.createdSessionModule=!0,this.props.dispatchSetSessionModule(i)}else this.timeout=setTimeout((function(){return e.createSessionModule()}),100)},n.prototype.render=function(){var t=this.props.session.module;return t?a.default.createElement(e,i.__assign({module:t,role:this.props.role,saveModule:this.saveModule,startDirty:!0,resourceStartValid:this.getResourceValidity()},s.omit(this.props,"type","sequence","shouldCreateSession","page","localize","dispatchStartModuleXhr","dispatchSetSessionModule","dispatchAddModule","moduleList"))):a.default.createElement(h.default,null)},n}(a.default.Component),n=s.values(u.default);t.propTypes={type:o.default.oneOf(n).isRequired,sequence:o.default.string.isRequired,session:m.default.isRequired,shouldCreateSession:o.default.bool,localize:d.default.isRequired,page:f.default.isRequired,dispatchStartModuleXhr:o.default.func.isRequired,dispatchSetSessionModule:o.default.func.isRequired,dispatchAddModule:o.default.func.isRequired,moduleList:c.default.isRequired,role:p.default.isRequired},t.defaultProps={shouldCreateSession:!1},t.displayName="SessionModule("+s.getDisplayName(e)+")";return l.connect((function(e){return{session:e.session,page:e.page,moduleList:e.module,role:e.role}}),(function(e){return{dispatch:e,dispatchStartModuleXhr:function(){return e(_.startModuleXhr())},dispatchSetSessionModule:function(t){return e(_.setSessionModule(t))},dispatchAddModule:function(t,n,i){return e(_.addModule(t,n,i))}}}))(r.localizedComponentWrapper(t))}},A2rX:function(e,t){e.exports='<svg id="icon-medium-trash" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" enable-background="new 0 0 24 24"><g stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" fill="none"><path d="M7.577 7.135l1.327 13.27M16.423 7.135l-1.327 13.27M12 7.135v13.27"></path></g><path stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" d="M20.846 4.48l-2.21 17.13c-.08 1.004-.936 1.89-2.002 1.89H7.366c-1.066 0-1.922-.886-2-1.89L3.153 4.48" fill="none"></path><path stroke-linejoin="round" stroke-miterlimit="10" d="M8.462 4V1.983c0-.818.67-1.483 1.493-1.483h4.09c.823 0 1.494.665 1.494 1.483V4" fill="none"></path><path stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" fill="none" d="M1.5 3.986l21 .028"></path></svg>'},ATuK:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TEXT_LIMIT=140;var i=function(e){return{isValid:!1,errorMessage:e}};t.validateIsEmpty=function(e,t){return void 0===t&&(t=""),e.trim()?{isValid:!0,errorMessage:""}:i(t)},t.validateTooLong=function(e,n){return void 0===n&&(n=""),e.trim().length>t.TEXT_LIMIT?i(n):{isValid:!0,errorMessage:""}},t.validateAll=function(e,n,i){void 0===n&&(n=""),void 0===i&&(i="");var a=t.validateIsEmpty(e,n);return a.isValid?t.validateTooLong(e,i):a}},AisW:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n("D57K"),a=i.__importDefault(n("ERkP")),o=i.__importDefault(n("aWzz")),r=n("MC1S"),l=n("myse"),s=n("f16b");n("fDgs");var u=i.__importDefault(n("QicL")),d=i.__importDefault(n("Bt0e")),c=i.__importDefault(n("4sPl")),f=function(e){function t(t){var n=e.call(this,t)||this;n.onFinishEdit=function(e){if(n.stopBlur)n.stopBlur=!1;else{var t=n.props.onValidateInput(n.state.curContent);Promise.resolve(n.props.onValueChange(n.props.id,n.state.curContent,n.props.attr)).catch((function(){n.setState({curContent:n.props.content})})),t.isValid&&n.setState((function(e){return{isEditing:!1,lastContent:e.curContent}}),(function(){n.props.onInputEdit(n.state.isEditing),e&&n.parentDiv.focus()}))}},n.onCancelEdit=function(){n.setState((function(e){return{isEditing:!1,curContent:e.lastContent}}),(function(){n.props.onInputEdit(n.state.isEditing),n.parentDiv.focus()}))},n.onEnterEdit=function(){n.setState({isEditing:!0},(function(){n.textInput.focus(),n.props.onInputEdit(n.state.isEditing)}))},n.onPressKey=function(e){e.keyCode===c.default.ENTER&&n.onFinishEdit(!0),e.keyCode===c.default.ESC&&n.onCancelEdit()},n.onChangeInput=function(e){n.setState({curContent:e})},n.onInputBlur=function(){n.onFinishEdit(!1)},n.getClasses=function(e){var t="";return n.props.isHeader&&(t=" inline-edit-container--header"+e),"inline-edit-container"+e+t},n.getErrorMessage=function(e){var t=n.props.onValidateInput(e);return t.isValid||t.errorMessage?Promise.resolve(t.errorMessage):new Promise((function(t){setTimeout((function(){return n.getErrorMessage(e).then((function(e){return t(e)}))}),0)}))},n.stopBlur=!1;var i=t.content,a=t.onValidateInput;return n.state={isEditing:!a(i).isValid,curContent:i,lastContent:i},n}return i.__extends(t,e),t.prototype.componentWillReceiveProps=function(e){e.content!==this.state.curContent&&this.onChangeInput(e.content)},t.prototype.render=function(){var e=this,t=this.props,n=t.analyticsEventAugmentor,i=t.analyticsId,o=""+this.props.buttonTitle,s=this.props.id+"-"+this.props.attr,c=i+".edit.inline.input",f=i+".edit.inline.button";return this.state.isEditing?a.default.createElement("div",{className:this.getClasses("")},a.default.createElement(r.TextField,{className:"inline-edit-text-field",ref:function(t){e.textInput=t},onBlur:this.onInputBlur,onKeyDown:this.onPressKey,onChanged:this.onChangeInput,value:this.state.curContent,placeholder:this.props.placeholder,onGetErrorMessage:this.getErrorMessage,deferredValidationTime:0,"aria-label":o})):a.default.createElement("div",{className:this.getClasses(""),tabIndex:-1,ref:function(t){e.parentDiv=t}},a.default.createElement("span",{id:s,className:this.getClasses("__link"),onClick:n(l.AnalyticsEventTypes.CLICK_EVENT,this.onEnterEdit,c),"data-analytics-id":c,role:"presentation"},this.state.curContent?a.default.createElement("span",{className:this.getClasses("__text")},this.state.curContent):a.default.createElement("span",{className:this.getClasses("__text-placeholder")},this.props.placeholder),a.default.createElement("button",{"aria-label":o,className:this.getClasses("__edit-button"),onClick:n(l.AnalyticsEventTypes.CLICK_EVENT,(function(){e.onEnterEdit()}),f),"data-analytics-id":f,tabIndex:0},a.default.createElement(d.default,{passedClass:this.getClasses("__edit"),icon:u.default,size:"small"}))))},t}(a.default.Component);t.BaseInlineEdit=f,f.propTypes=i.__assign({id:o.default.string.isRequired,content:o.default.string.isRequired,attr:o.default.string,buttonTitle:o.default.string.isRequired,onValidateInput:o.default.func,onValueChange:o.default.func,onInputEdit:o.default.func,isHeader:o.default.bool,placeholder:o.default.string},s.withAnalyticsProps),f.defaultProps={onValidateInput:function(){return{isValid:!0,errorMessage:""}},onValueChange:function(){},onInputEdit:function(){},attr:null,isHeader:!1,placeholder:""};var p=l.withAnalytics(f);t.default=p},Bk9K:function(e,t,n){},BnC3:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n("D57K"),a=i.__importDefault(n("aWzz")),o=i.__importDefault(n("dw5F")),r=i.__importDefault(n("d1Rw")),l=n("7ONb").values(o.default);t.default=a.default.shape({available:a.default.bool.isRequired,customPageId:a.default.string,id:a.default.string.isRequired,sequence:a.default.number.isRequired,title:a.default.string.isRequired,type:a.default.oneOf(l).isRequired,resources:a.default.arrayOf(r.default),institutionRoleIds:a.default.arrayOf(a.default.string)})},BoH5:function(e,t){var n="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof window.msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto);if(n){var i=new Uint8Array(16);e.exports=function(){return n(i),i}}else{var a=new Array(16);e.exports=function(){for(var e,t=0;t<16;t++)0==(3&t)&&(e=4294967296*Math.random()),a[t]=e>>>((3&t)<<3)&255;return a}}},Bt0e:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n("D57K"),a=i.__importDefault(n("ERkP")),o=i.__importDefault(n("aWzz"));n("SIuN");var r=function(e){var t="svg-icon svg-icon--"+e.size+"-icon svg-icon--"+(e.color?"color":"default")+" "+e.passedClass;return a.default.createElement("div",{className:t,dangerouslySetInnerHTML:{__html:e.icon}})};r.propTypes={icon:o.default.string.isRequired,size:o.default.string.isRequired,color:o.default.bool,passedClass:o.default.string},r.defaultProps={color:!1,passedClass:null},t.default=r},Bxgz:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n("D57K").__importDefault(n("hiIv"));t.default=i.default},C18T:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n("D57K");n("HopG");var a=n("hTyS"),o=n("SLwq"),r=i.__importDefault(n("e0LE"));t.getModuleResources=function(e){var t=a.baseRoute+"/module/"+e.id+"/resources";return o.fetchReturnBody(t)},t.getModule=function(e){var t=a.baseRoute+"/module/"+e;return o.fetchReturnBody(t)},t.getModuleVisibility=function(e){var t=a.baseRoute+"/module/"+e+"/is-visible",n=r.default.V2;return o.fetchReturnBody(t,null,!1,n)},t.getModules=function(e){var t=a.baseRoute+"/custom-page/"+e+"/modules",n=r.default.V2;return e||(t=a.baseRoute+"/module"),o.fetchReturnBody(t,null,!1,n)},t.callCreateModuleAPI=function(e,t,n){var l=i.__assign(i.__assign({},o.getFetchOptions(o.POST,r.default.V3)),{body:JSON.stringify({module:e,resources:t,institutionRoleIds:n})}),s=a.baseRoute+"/module";return o.fetchReturnBody(s,l)},t.callUpdateModuleAPI=function(e,t){var n=i.__assign(i.__assign({},o.getFetchOptions(o.PATCH,r.default.V2)),{body:JSON.stringify({module:e})}),l=a.baseRoute+"/module/"+t;return o.fetchReturnBody(l,n)},t.deleteModule=function(e){var t=a.baseRoute+"/module/"+e+"?force=true";return o.fetchReturnBody(t,o.getFetchOptions(o.DELETE))},t.addResource=function(e){var t=i.__assign(i.__assign({},o.getFetchOptions(o.POST)),{body:JSON.stringify(e)}),n=a.baseRoute+"/module-resource";return o.fetchReturnBody(n,t)},t.updateResource=function(e){var t=i.__assign(i.__assign({},o.getFetchOptions(o.PATCH)),{body:JSON.stringify(e)}),n=a.baseRoute+"/module-resource/"+e.id;return o.fetchReturnBody(n,t)},t.deleteResource=function(e){var t=a.baseRoute+"/module-resource/"+e;return o.fetchReturnBody(t,o.getFetchOptions(o.DELETE))},t.getXSRFToken=function(){var e=a.baseUltraRoute+"/utilities/xsrfToken";return fetch(e,o.getFetchOptions(o.GET)).then((function(e){return e.json()}))}},C1TO:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n("D57K"),a=i.__importDefault(n("ERkP")),o=i.__importDefault(n("aWzz")),r=n("8unJ"),l=n("f16b");n("N4x8");var s=n("2lnG"),u=n("FzJq"),d=i.__importDefault(n("fY1r")),c=n("YxpF"),f=i.__importDefault(n("Wl1g")),p=n("xK1l"),m=i.__importDefault(n("bA9G")),_=i.__importDefault(n("BnC3")),g=i.__importDefault(n("6wo1")),h=i.__importDefault(n("rB6G")),v=i.__importDefault(n("D3Id")),y=n("iOHJ"),b=n("7ONb"),E=function(e){function t(t){var n=e.call(this,t)||this;return n.onReorderLinks=function(e,t){var a=n.props.module.resources.filter((function(e){return!n.isLinkResource(e)})),o=n.props.module.resources.filter((function(t){return n.isLinkResource(t)&&!e.includes(t)})),r=o[0]&&o[0].details.imageHref?i.__spreadArrays(o,e):i.__spreadArrays(e,o),l=i.__spreadArrays(r,a);n.props.setUnsavedResources(l,n.validateResources(l),(function(){document.getElementById("dnd-"+t.id).focus()}))},n.onUpdateResource=function(e,t,a){var o=n.props.module.resources.findIndex((function(t){return t.id===e}));if(-1!==o&&t!==n.props.module.resources[o].details[a]){var r=n.props.module.resources.map((function(e,n){var r;return n===o?i.__assign(i.__assign({},e),{details:i.__assign(i.__assign({},e.details),(r={},r[a]=t,r))}):e}));n.props.setUnsavedResources(r,n.validateResources(r),(function(){var t=document.getElementById(e+"-"+a);t&&t.focus()}))}},n.onDelete=function(e,t){e.preventDefault();var a=n.props.module.resources,o=a.findIndex((function(e){return e.id===t})),r=i.__spreadArrays(a.slice(0,o),a.slice(o+1));n.props.setUnsavedResources(r,n.validateResources(r),(function(){n.jumpToFocus(o-1)}))},n.onInsertLink=function(e,t){e.preventDefault();var a=n.props.module.resources,o=u.defaultLinkResourceData(n.translations.defaultLinkTitle,n.props.module.id),r=a.filter(n.isLinkResource),l=n.props.module.resources.filter((function(e){return!n.isLinkResource(e)})),s=n.props.module.resources.filter((function(e){return n.isLinkResource(e)&&e.details.imageHref})).length,d=s>t?s:t,c=i.__spreadArrays(r.slice(0,d),[o],r.slice(d),l);n.props.setUnsavedResources(c,n.validateResources(c),(function(){n.jumpIntoFocusNewLink(d)}))},n.onImageOrientationToggleClick=function(e){var t=b.getImageOrientation(n.props.module);if(e!==t){var a=i.__assign(i.__assign({},n.props.module.details),{imageOrientation:e}),o=n.saveOrRestoreImageHrefs(t,e);n.props.onUpdateDetails(a,b.isValidImageOrientation(a.imageOrientation)),n.props.setUnsavedResources(o,n.validateResources(o))}},n.onDeleteEditLinkImage=function(e,t){n.setState((function(){return{resourceId:t,isShowPopup:!0}}))},n.onOpenEditLinkImage=function(e,t){n.props.dispatch(s.setSessionImage(t)),n.props.onOpenEditImagePanel(t)},n.onPopupCancel=function(){n.setState((function(){return{resourceId:null,isShowPopup:!1}}))},n.onPopupOk=function(){var e=n.props.module.resources.map((function(e){return e.id===n.state.resourceId?i.__assign(i.__assign({},e),{details:i.__assign(i.__assign({},e.details),{imageHref:"",imageId:""})}):e}));n.props.setUnsavedResources(e,n.validateResources(e)),n.setState({resourceId:null,isShowPopup:!1}),n.props.dispatch(s.setSessionImage(null))},n.saveOrRestoreImageHrefs=function(e,t){n.props.dispatch(s.setSessionImage(null));for(var a=[],o=t===v.default.NONE,r=e===v.default.NONE,l=0;l<n.props.module.resources.length;l++){var u=n.props.module.resources[l];n.isLinkResource(u)&&(o&&u.details.imageHref?(n.resourceImages[u.id]={imageHref:u.details.imageHref,imageId:u.details.imageId},u=i.__assign(i.__assign({},u),{details:i.__assign(i.__assign({},u.details),{imageHref:"",imageId:""})})):r&&(u=i.__assign(i.__assign({},u),{details:i.__assign(i.__assign({},u.details),{imageHref:n.resourceImages[u.id]?n.resourceImages[u.id].imageHref:"",imageId:n.resourceImages[u.id]?n.resourceImages[u.id].imageId:""})}),delete n.resourceImages[u.id]),a.push(u))}return a},n.isImageResource=function(e){return e.type===h.default.IMAGE},n.isLinkResource=function(e){return e.type===h.default.LINK},n.hasValidTitleAndHref=function(e){return n.props.onValidateInput(e.details.title).isValid&&b.validateIsEmpty(e.details.href).isValid},n.jumpToFocus=function(e){var t=e;-1===t&&(t=0);var n=document.querySelectorAll("#modules-section .module-table__row-container .module-table__row")[t];n&&n.focus()},n.jumpIntoFocusNewLink=function(e){var t=e;-1===t&&(t=0);var n=document.querySelectorAll("#modules-section .module-table__row-container .module-table__row")[t];if(n){var i=n.querySelector(".inline-edit-container__link");i&&i.click()}},n.validateResources=function(e){return e.length&&e.filter(n.isLinkResource).every((function(e){return n.hasValidTitleAndHref(e)}))},n.translations={},n.state={resourceId:null,isShowPopup:!1},n.resourceImages={},n}return i.__extends(t,e),t.prototype.componentWillReceiveProps=function(e){var t=this,n=!1,a=e.module.resources;if(!b.getImageOrientation(e.module)){var o=i.__assign(i.__assign({},e.module.details),{imageOrientation:v.default.LEFT});e.onUpdateDetails(o,b.isValidImageOrientation(o.imageOrientation))}var r=e.session.image;if(r){var l=r.details?r.details.imageHref:null;a=a.map((function(e){return e.id===r.id&&l!==e.details.imageHref?(n=!0,r):e}))}for(var s=[],u=[],d=[],c=-1,f=!1,p=0;p<a.length;p++){var m=a[p];this.isLinkResource(m)?m.details.imageHref?(f=c>=0&&p>c,u.push(m)):(c<0&&(c=p),d.push(m)):s.push(m)}if(f&&(a=i.__spreadArrays(u,d,s),n=!0),a.some((function(e){return t.isImageResource(e)}))&&(a=a.filter((function(e){return!t.isImageResource(e)})),n=!0),n){var _=i.__spreadArrays(a,[]);e.setUnsavedResources(_,this.validateResources(_))}},t.prototype.render=function(){var e=this,t=this.props.localize.translate,n=this.props.analyticsId;this.translations.createLinkBtn=t("ip.editModule.createLinkBtn"),this.translations.validateModuleName=t("ip.editModule.validateModuleName"),this.translations.validateTooLongMessage=t("ip.editModule.validateTooLongMessage"),this.translations.splitSectionText=t("ip.editModule.splitSectionText"),this.translations.incompleteLink=t("ip.editModule.incompleteLink"),this.translations.incompleteContent=t("ip.editModule.incompleteContent"),this.translations.defaultLinkTitle=t("ip.defaultData.linkName");for(var i=b.determineImageOrientation(this.props.module),o=i!==v.default.NONE,r=[],l=[],s=0;s<this.props.module.resources.length;s++){var u=this.props.module.resources[s];this.isLinkResource(u)&&(u.details.imageHref&&o?r.push(u):l.push(u))}var m=r.length>=y.MAX_IMAGE_LINKS,_=a.default.createElement("div",null,0===r.length&&0===l.length&&a.default.createElement(c.InsertButton,{onClick:function(t){e.onInsertLink(t,0)},buttonTitle:this.translations.createLinkBtn,analyticsId:""+n}),r.length>0&&a.default.createElement(f.default,{items:r,hasMaxImages:m,isImageColVisible:o,onReorderItem:this.onReorderLinks,scrollContainerId:"edit-module-section",translations:this.translations,onUpdateResource:this.onUpdateResource,onValidateInput:this.props.onValidateInput,onDelete:this.onDelete,onInsertLink:this.onInsertLink,maxLinksViewable:y.MAX_LINKS_PER_COLUMN*(i===v.default.NONE?y.NUM_LINK_COLUMNS_WITHOUT_IMAGE:y.NUM_LINK_COLUMNS_WITH_IMAGE),onDeleteEditLinkImage:this.onDeleteEditLinkImage,onOpenEditLinkImage:this.onOpenEditLinkImage,analyticsId:n+".editSection"}),l.length>0&&a.default.createElement(f.default,{items:l,itemOffset:r.length,hasMaxImages:m,isImageColVisible:o,onReorderItem:this.onReorderLinks,scrollContainerId:"edit-module-section",translations:this.translations,onUpdateResource:this.onUpdateResource,onValidateInput:this.props.onValidateInput,onDelete:this.onDelete,onInsertLink:this.onInsertLink,maxLinksViewable:y.MAX_LINKS_PER_COLUMN*(i===v.default.NONE?y.NUM_LINK_COLUMNS_WITHOUT_IMAGE:y.NUM_LINK_COLUMNS_WITH_IMAGE),onDeleteEditLinkImage:this.onDeleteEditLinkImage,onOpenEditLinkImage:this.onOpenEditLinkImage,analyticsId:n+".editSection"}));return a.default.createElement("div",{className:"edit-image-links-module"},this.state.isShowPopup?a.default.createElement(p.ConfirmationPopup,{title:t("ip.editPage.confirmDeleteTitle"),id:"inline-link-image-delete-confirmation",content:t("ip.editPage.confirmRemoveImageContentWarning"),onOk:this.onPopupOk,onOkText:t("ip.editPage.confirmDeleteBtn"),onCancel:this.onPopupCancel,onCancelText:t("ip.editPage.cancelDeleteBtn"),analyticsId:n+".confirmation.popup"}):"",a.default.createElement("div",null,a.default.createElement("h4",{className:"subheader edit-image-links-module__section-heading"},t("ip.editModule.moduleLayout")),a.default.createElement(d.default,{onChanged:this.onImageOrientationToggleClick,selectedId:i,analyticsId:n+".imageOrientation.toggle"})),a.default.createElement("h4",{className:"subheader edit-image-links-module__section-heading"},t("ip.editModule.moduleContent")),a.default.createElement("div",{className:"module-table"},a.default.createElement("div",{className:"module-table__head module-content__head"},a.default.createElement("div",{className:"module-table__heading-row"},o&&a.default.createElement("div",{className:"module-table__heading module-content__link-image-column"},t("ip.editModule.contentLinkImage")),a.default.createElement("div",{className:"module-table__heading module-content__name-column"},t("ip.editModule.contentLinkName")),a.default.createElement("div",{className:"module-table__heading module-content__url-column"},t("ip.editModule.contentURL")),a.default.createElement("div",{className:"module-table__row-actions"}))),_))},t}(a.default.Component);E.propTypes=i.__assign({dispatch:o.default.func.isRequired,module:_.default.isRequired,session:g.default.isRequired,setUnsavedResources:o.default.func.isRequired,onOpenEditImagePanel:o.default.func.isRequired,onUpdateDetails:o.default.func.isRequired,onValidateInput:o.default.func.isRequired,localize:m.default.isRequired},l.addAnalyticsProps),t.default=r.localizedComponentWrapper(E)},CUQY:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n("D57K").__importDefault(n("v8Bx"));t.default=i.default},D3Id:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={LEFT:"LEFT",RIGHT:"RIGHT",NONE:"NONE"}},DqOQ:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n("D57K"),a=n("FzJq"),o=n("wg1p"),r=i.__importDefault(n("e0LE")),l=i.__importDefault(n("vlH4")),s=n("q6cp");t.START_PAGE_XHR="page.start.xhr",t.PAGE_RECEIVED="page.received",t.FETCH_PAGE="page.fetch",t.PAGE_UPDATE="page.update",t.PAGE_DELETE="page.delete",t.FETCH_PREFERENCE="page.fetch.preference",t.REORDER_MODULES="page.reorder.modules",t.fetchPage=function(){return{type:t.FETCH_PAGE,payload:a.getPages()}},t.startPageXhr=function(){return{type:t.START_PAGE_XHR}},t.pageReceived=function(e){return{type:t.PAGE_RECEIVED,page:e,receivedAt:Date.now()}},t.updatePage=function(e){return function(n){return a.updatePages(e).then((function(i){return n(o.Action(o.ok(t.PAGE_UPDATE),{data:i,page:e.page}))})).catch((function(i){return n(o.Action(o.fail(t.PAGE_UPDATE),{err:i,page:e.page})),Promise.reject(l.default.UPDATE_PAGES)}))}},t.fetchPreferenceAndRoles=function(){return function(e){return a.canEditFetch(r.default.V2).then((function(n){n.canEdit&&(e(s.startRoleXhr()),e(s.fetchRoles())),e(o.Action(o.ok(t.FETCH_PREFERENCE),{data:n}))})).catch((function(n){return e(o.Action(o.fail(t.FETCH_PREFERENCE),{err:n}))}))}},t.reorderModules=function(e,n){return function(i){return a.reorderModulesPost(e,n).then((function(e){return i(o.Action(o.ok(t.REORDER_MODULES),{data:e,reorderedModules:n}))})).catch((function(e){return i(o.Action(o.fail(t.REORDER_MODULES),{err:e}))}))}},t.ensurePage=function(e,n,i){return function(r){return a.ensurePageVariant("IP",e,n,i).then((function(e){return r(o.Action(o.ok(t.PAGE_UPDATE),{data:e}))})).catch((function(e){return r(o.Action(o.fail(t.PAGE_UPDATE),{err:e}))}))}},t.deletePage=function(e){return function(n){return a.deletePageVariant(e).then((function(e){return n(o.Action(o.ok(t.PAGE_DELETE),{data:e}))})).catch((function(e){return n(o.Action(o.fail(t.PAGE_DELETE),{err:e}))}))}}},Ebvs:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n("D57K").__importDefault(n("C1TO"));t.default=i.default},Egus:function(e,t){e.exports='<svg id="icon-small-add-circle" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" enable-background="new 0 0 16 16"><circle stroke-miterlimit="10" cx="8" cy="8" r="7.5" fill="none"></circle><path stroke-linecap="round" stroke-miterlimit="10" fill="none" d="M8 4.5v7M11.5 8h-7"></path></svg>'},"Et+e":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n("D57K").__importDefault(n("aWzz"));t.default=i.default.shape({available:i.default.bool,bannerId:i.default.string,createdt:i.default.string,createid:i.default.string,editIp:i.default.bool,id:i.default.string,loading:i.default.bool,logoId:i.default.string,message:i.default.string,modifydt:i.default.string,modifyid:i.default.string,org:i.default.string,title:i.default.string,type:i.default.string})},Ewol:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n("D57K"),a=i.__importDefault(n("ERkP")),o=i.__importDefault(n("aWzz")),r=n("8unJ"),l=n("MC1S"),s=n("f16b");n("Vsq4");var u=i.__importDefault(n("D3Id")),d=i.__importDefault(n("bA9G")),c=n("7ONb"),f=function(e){function t(t){var n=e.call(this,t)||this;return n.state={},n}return i.__extends(t,e),t.prototype.render=function(){var e=this.props,t=e.onChanged,n=e.selectedId,i=e.localize,o=e.analyticsId,r=i.translate;return a.default.createElement("div",{className:"image-orientation image-orientation-toggle"},a.default.createElement(l.SquareToggle,{type:l.SquareToggleType.fillContainer,onChanged:t,selectedId:n,radioGroup:"image-orientations",analyticsId:o+".squareToggleGroup",options:[{altText:r("ip.editModule.imageOrientationOptionTitle.left"),id:u.default.LEFT,iconProps:{iconName:"helpful-links-layout-left-hc-light",iconSize:"custom",className:"image-orientation image-orientation-option"}},{altText:r("ip.editModule.imageOrientationOptionTitle.right"),id:u.default.RIGHT,iconProps:{iconName:"helpful-links-layout-right-hc-light",iconSize:"custom",className:"image-orientation image-orientation-option"}},{altText:r("ip.editModule.imageOrientationOptionTitle.none"),id:u.default.NONE,iconProps:{iconName:"helpful-links-layout-text-hc-light",iconSize:"custom",className:"image-orientation image-orientation-option"}}]}))},t}(a.default.Component);f.propTypes=i.__assign({onChanged:o.default.func.isRequired,selectedId:o.default.oneOf(c.values(u.default)).isRequired,localize:d.default.isRequired},s.addAnalyticsProps),t.default=r.localizedComponentWrapper(f)},FUVp:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n("D57K"),a=i.__importDefault(n("ERkP")),o=i.__importDefault(n("aWzz")),r=n("8unJ"),l=n("kBJj"),s=n("MC1S");n("0wpS");var u=n("xK1l"),d=i.__importDefault(n("7fW2")),c=i.__importDefault(n("aqxk")),f=i.__importDefault(n("6fMO")),p=n("7ONb"),m=i.__importDefault(n("bA9G")),_=i.__importDefault(n("BnC3")),g=i.__importDefault(n("bLwh")),h=i.__importDefault(n("6wo1")),v=i.__importDefault(n("8FZW")),y=i.__importDefault(n("iD9B")),b=i.__importDefault(n("PfBW")),E=n("2lnG"),I=function(e){function t(t){var n=e.call(this,t)||this;n.onUpdateDetails=function(e,t){if(e){var a=i.__assign(i.__assign({},n.state.module),{details:e});n.setState((function(){return{module:a,isModuleDirty:!0,isModuleValid:t}}))}},n.onUpdateInstitutionRoleIds=function(e){n.setState((function(t){return{module:i.__assign(i.__assign({},t.module),{institutionRoleIds:e}),areRolesDirty:!0}}))},n.onUpdateTitle=function(e,t){if(t!==n.state.module.title){var a=i.__assign(i.__assign({},n.state.module),{title:t}),o=p.validateAll(t).isValid;n.setState((function(){return{module:a,isModuleDirty:!0,isModuleValid:o}}))}},n.onSave=function(){var e=p.trimStringValues(n.state.module);n.props.saveModule(e,n.state.isModuleDirty,n.state.areResourcesDirty,n.state.areRolesDirty).then((function(){n.props.onClose()}))},n.onCancel=function(){n.state.isModuleDirty||n.state.areResourcesDirty||n.state.areRolesDirty?n.setState((function(){return{popupProps:{title:n.translations.closeTitle,id:"edit-module-cancel-confirmation",content:n.translations.closeContent,onOk:n.onPopupOk,onCancel:n.onPopupCancel,onOkText:n.translations.closeBtn,onCancelText:n.translations.cancelBtnText}}})):n.props.onClose()},n.onPopupOk=function(){n.setState((function(){return{popupProps:null}})),n.props.onClose()},n.onPopupCancel=function(){n.setState((function(){return{popupProps:null}}))},n.setUnsavedResources=function(e,t,a,o){void 0===a&&(a=function(){}),void 0===o&&(o=!0),n.setState((function(n){return{module:i.__assign(i.__assign({},n.module),{resources:e}),areResourcesDirty:o,areResourcesValid:t}}),a)},n.filterValidRolesOnModule=function(e){return e&&e.institutionRoleIds?i.__assign(i.__assign({},e),{institutionRoleIds:p.filterValidRoles(e.institutionRoleIds,n.props.role.roles).map((function(e){return e.key}))}):e},n.overrideFocusAndOpenEditImagePanel=function(e){var t=null;e&&(t=e.id,e.details.imageHref?n.props.setFocusOverride("#dnd-"+e.id+".module-table__row-container .edit-image-button .add-button",".institution-page-container"):n.props.setFocusOverride("#dnd-"+e.id+".module-table__row-container .edit-image-button .image-thumbnail-edit",".institution-page-container")),n.props.onOpenEditImagePanel(t)},n.generateAudienceLabel=function(){var e=n.props.localize.translate("ip.editModule.rolesSelector.allUsers"),t=n.props.localize.translate("ip.editModule.rolesSelector.multipleRoles"),i=n.props.localize.translate("ip.editModule.rolesSelector.unknownRole");return a.default.createElement("span",{className:"audience-container"},n.state.hasInvalidRoles&&a.default.createElement(s.SvgIcon,{iconName:"attention",iconSize:"small",className:"attention-icon"}),p.generateAudienceLabel(n.state.module.institutionRoleIds,n.props.role.roles,e,t,i))},n.clearSessionImage=function(){return n.props.dispatch(E.setSessionImage(void 0))},n.validateModuleHeaderInput=function(e){return p.validateAll(e,n.translations.validateModuleName,n.translations.validateTooLongMessage)},n.handleModuleHeaderEdit=function(e){return n.setState((function(){return{isHeaderEditing:e}}))},n.emptyCallback=function(){};var o=t.module,r=!(!o||!o.institutionRoleIds||n.props.role.loading)&&!p.areRolesValid(o.institutionRoleIds,n.props.role.roles||[]);return n.state={module:r?n.filterValidRolesOnModule(o):o,isModuleDirty:t.startDirty,areResourcesDirty:t.startDirty,areRolesDirty:t.startDirty||r,isModuleValid:!0,areResourcesValid:t.resourceStartValid,popupProps:null,isHeaderEditing:!1,hasInvalidRoles:r},n.translations={},n}return i.__extends(t,e),t.prototype.componentWillReceiveProps=function(e){var t=this;if(!r.shallowEqual(e.module,this.props.module)||e.role.loading!==this.props.role.loading){var n=e.module&&e.module.institutionRoleIds&&!e.role.loading&&!p.areRolesValid(e.module.institutionRoleIds,e.role.roles||[]);this.setState((function(){return{module:n?t.filterValidRolesOnModule(e.module):e.module,hasInvalidRoles:n}}))}},t.prototype.componentWillUnmount=function(){this.props.dispatch(E.clearSessionData())},t.prototype.render=function(){var e=this.state.isModuleDirty||this.state.areResourcesDirty||this.state.areRolesDirty,t=!this.state.isModuleValid||!this.state.areResourcesValid,n=!e||t,o="institutionPage.editModule",r=this.props.localize.translate;return this.translations.closeTitle=r("ip.editModule.closeTitle"),this.translations.closeContent=r("ip.editModule.closeContent"),this.translations.closeBtn=r("ip.editModule.closeBtn"),this.translations.cancelBtnText=r("ip.editModule.cancelBtnText"),this.translations.validateModuleName=r("ip.editModule.validateModuleName"),this.translations.validateTooLongMessage=r("ip.editModule.validateTooLongMessage"),this.translations.incompleteBtn=r("ip.editModule.incompleteBtn"),a.default.createElement("div",null,a.default.createElement("div",{className:"edit-module-page flex-page-container"},a.default.createElement("div",{id:"edit-module-section",className:"flex-page-content has-footer"},this.state.popupProps?a.default.createElement(u.ConfirmationPopup,i.__assign({},this.state.popupProps,{analyticsId:o+".confirmation.popup"})):"",a.default.createElement("div",{className:"page-header "+(this.state.isHeaderEditing?"-is-editing":"")},a.default.createElement("span",{className:"page-header__super-title"},r("ip.editModule.pageHeader")),a.default.createElement(c.default,{id:this.state.module.id,content:this.state.module.title,attr:"title",buttonTitle:r("ip.editModule.editModuleName"),onValueChange:this.onUpdateTitle,onValidateInput:this.validateModuleHeaderInput,onInputEdit:this.handleModuleHeaderEdit,isHeader:!0,analyticsId:o+".title"})),a.default.createElement(d.default,{className:"module-roles-panel",headerLeft:a.default.createElement("span",null,r("ip.editModule.rolesSelector.label")),headerRight:this.generateAudienceLabel(),startExpanded:this.props.expandRoles||this.state.hasInvalidRoles,analyticsId:o+".moduleRolesPanel"},a.default.createElement("div",{className:"module-roles-panel__content"},a.default.createElement("h2",{className:"subheader"},r("ip.editModule.rolesSelector.instructionsHeader")),r("ip.editModule.rolesSelector.instructionsDetails"),this.state.hasInvalidRoles&&a.default.createElement("div",{className:"module-roles-panel__unknown-role-error"},r("ip.moduleList.unknownRoleErrorMessage")),a.default.createElement(b.default,{institutionRoleIds:this.state.module?this.state.module.institutionRoleIds:[],role:this.props.role,expandRoles:this.props.expandRoles||this.state.hasInvalidRoles,onUpdateInstitutionRoleIds:this.onUpdateInstitutionRoleIds,analyticsId:o+".moduleRolesPicker"}))),a.default.createElement("div",{className:"module-preview-component"},a.default.createElement("div",{className:"module-preview-component__container"},a.default.createElement("h3",{className:"subheader module-preview-component__title"},r("ip.moduleList.previewText")),a.default.createElement("h3",{className:"preview__title"},this.state.module.title),a.default.createElement(y.default,{module:this.state.module,dispatch:this.emptyCallback,localize:this.props.localize,openAll:this.emptyCallback,pluginsConfig:this.props.pluginsConfig,preview:!0,analyticsId:o+".previewModule"}))),a.default.createElement("div",{className:"module-editor-component"},a.default.createElement(v.default,{dispatch:this.props.dispatch,module:this.state.module,session:this.props.session,onOpenEditImagePanel:this.overrideFocusAndOpenEditImagePanel,setUnsavedResources:this.setUnsavedResources,localize:this.props.localize,onUpdateDetails:this.onUpdateDetails,onValidateInput:p.validateAll,pluginsConfig:this.props.pluginsConfig,analyticsId:o+".content"})))),a.default.createElement(f.default,{clickPrimary:this.onSave,textPrimary:r("ip.editModule.saveBtnText"),ariaPrimary:r("ip.editModule.saveChangesAria"),disabledPrimary:n,clickSecondary:this.onCancel,textSecondary:r("ip.editModule.cancelBtnText"),ariaSecondary:r("ip.editModule.cancelChangesAria"),analyticsId:o+".footer"}))},t}(a.default.Component);I.propTypes={dispatch:o.default.func.isRequired,module:_.default,role:g.default.isRequired,localize:m.default.isRequired,session:h.default.isRequired,onClose:o.default.func.isRequired,onOpenEditImagePanel:o.default.func.isRequired,setFocusOverride:o.default.func.isRequired,saveModule:o.default.func.isRequired,startDirty:o.default.bool,resourceStartValid:o.default.bool,pluginsConfig:l.optionalPluginConfigPropTypes.isRequired,expandRoles:o.default.bool},I.defaultProps={module:null,startDirty:!1,resourceStartValid:!0,expandRoles:!1},t.default=r.localizedComponentWrapper(I)},Fgwb:function(e,t){for(var n=[],i=0;i<256;++i)n[i]=(i+256).toString(16).substr(1);e.exports=function(e,t){var i=t||0,a=n;return[a[e[i++]],a[e[i++]],a[e[i++]],a[e[i++]],"-",a[e[i++]],a[e[i++]],"-",a[e[i++]],a[e[i++]],"-",a[e[i++]],a[e[i++]],"-",a[e[i++]],a[e[i++]],a[e[i++]],a[e[i++]],a[e[i++]],a[e[i++]]].join("")}},FzJq:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n("D57K");i.__exportStar(n("hTyS"),t),i.__exportStar(n("hb3l"),t),i.__exportStar(n("SLwq"),t),i.__exportStar(n("C18T"),t),i.__exportStar(n("TtT0"),t),i.__exportStar(n("4jkJ"),t)},GIAz:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SET_SESSION_IMAGE="session.set.image",t.SET_SESSION_MODULE="session.set.module",t.CLEAR_SESSION_DATA="session.clear.all",t.setSessionImage=function(e){return{type:t.SET_SESSION_IMAGE,resource:e}},t.setSessionModule=function(e){return{type:t.SET_SESSION_MODULE,module:e}},t.clearSessionData=function(){return{type:t.CLEAR_SESSION_DATA}}},GRnb:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n("D57K").__importDefault(n("4PSn"));t.default=i.default},GUmi:function(e,t){e.exports='<svg id="icon-small-move-item-up-down" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" enable-background="new 0 0 16 16"><path stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" fill="none" d="M8.5 12.5l3 3 3-3M11.5 15.5v-10M7.5 3.5l-3-3-3 3M4.5.5v10"></path></svg>'},HlfI:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n("D57K"),a=i.__importDefault(n("ERkP")),o=i.__importDefault(n("aWzz")),r=n("Dz4E"),l=n("hHCp"),s=n("myse"),u=i.__importDefault(n("kZEK")),d=n("f16b");n("s/PA");var c=function(e){function t(t){var n=e.call(this,t)||this;return n.onMenuClose=function(){n.setState((function(){return{isOpen:!1}}))},n.toggle=function(){n.setState((function(e){return{isOpen:!e.isOpen}}))},n.state={isOpen:!1},n.menuId=u.default(),n}return i.__extends(t,e),t.prototype.render=function(){var e=this,t=this.props,n=t.generateDropdownOptions,i=t.index,o=t.openedTitle,u=t.closedTitle,d=t.ariaLabel,c=t.analyticsId,f=t.analyticsEventAugmentor,p=n(i),m=this.state.isOpen?"institution-page__create-new-bar__line active":"institution-page__create-new-bar__line",_=this.state.isOpen?"institution-page__create-new-bar__add-icon active":"institution-page__create-new-bar__add-icon";return a.default.createElement("button",{onClick:f(s.AnalyticsEventTypes.CLICK_EVENT,this.toggle,c+".toggle.button"),ref:function(t){e.buttonElement=t},className:"institution-page__create-new-bar js-module-create-button ",title:this.state.isOpen?o:u,"aria-label":d,"aria-haspopup":!0,"aria-expanded":this.state.isOpen,"aria-controls":this.menuId},a.default.createElement("div",{className:m}),a.default.createElement(l.SvgIcon,{className:_,iconName:"add",iconSize:"small"}),this.state.isOpen?a.default.createElement(r.ContextualMenu,{id:this.menuId,shouldFocusOnMount:!0,directionalHint:5,target:this.buttonElement,onDismiss:this.onMenuClose,items:p,className:"institution-page__insert-menu",analyticsId:c+".contextualMenu"}):"")},t}(a.default.Component);t.BaseInsertButtonDropdown=c,c.propTypes=i.__assign({index:o.default.number.isRequired,generateDropdownOptions:o.default.func.isRequired,openedTitle:o.default.string.isRequired,closedTitle:o.default.string.isRequired,ariaLabel:o.default.string.isRequired},d.withAnalyticsProps);var f=s.withAnalytics(c);t.default=f},HopG:function(e,t){!function(e){"use strict";if(!e.fetch){var t={searchParams:"URLSearchParams"in e,iterable:"Symbol"in e&&"iterator"in Symbol,blob:"FileReader"in e&&"Blob"in e&&function(){try{return new Blob,!0}catch(e){return!1}}(),formData:"FormData"in e,arrayBuffer:"ArrayBuffer"in e};if(t.arrayBuffer)var n=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],i=function(e){return e&&DataView.prototype.isPrototypeOf(e)},a=ArrayBuffer.isView||function(e){return e&&n.indexOf(Object.prototype.toString.call(e))>-1};d.prototype.append=function(e,t){e=l(e),t=s(t);var n=this.map[e];this.map[e]=n?n+","+t:t},d.prototype.delete=function(e){delete this.map[l(e)]},d.prototype.get=function(e){return e=l(e),this.has(e)?this.map[e]:null},d.prototype.has=function(e){return this.map.hasOwnProperty(l(e))},d.prototype.set=function(e,t){this.map[l(e)]=s(t)},d.prototype.forEach=function(e,t){for(var n in this.map)this.map.hasOwnProperty(n)&&e.call(t,this.map[n],n,this)},d.prototype.keys=function(){var e=[];return this.forEach((function(t,n){e.push(n)})),u(e)},d.prototype.values=function(){var e=[];return this.forEach((function(t){e.push(t)})),u(e)},d.prototype.entries=function(){var e=[];return this.forEach((function(t,n){e.push([n,t])})),u(e)},t.iterable&&(d.prototype[Symbol.iterator]=d.prototype.entries);var o=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];g.prototype.clone=function(){return new g(this,{body:this._bodyInit})},_.call(g.prototype),_.call(v.prototype),v.prototype.clone=function(){return new v(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new d(this.headers),url:this.url})},v.error=function(){var e=new v(null,{status:0,statusText:""});return e.type="error",e};var r=[301,302,303,307,308];v.redirect=function(e,t){if(-1===r.indexOf(t))throw new RangeError("Invalid status code");return new v(null,{status:t,headers:{location:e}})},e.Headers=d,e.Request=g,e.Response=v,e.fetch=function(e,n){return new Promise((function(i,a){var o=new g(e,n),r=new XMLHttpRequest;r.onload=function(){var e,t,n={status:r.status,statusText:r.statusText,headers:(e=r.getAllResponseHeaders()||"",t=new d,e.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach((function(e){var n=e.split(":"),i=n.shift().trim();if(i){var a=n.join(":").trim();t.append(i,a)}})),t)};n.url="responseURL"in r?r.responseURL:n.headers.get("X-Request-URL");var a="response"in r?r.response:r.responseText;i(new v(a,n))},r.onerror=function(){a(new TypeError("Network request failed"))},r.ontimeout=function(){a(new TypeError("Network request failed"))},r.open(o.method,o.url,!0),"include"===o.credentials?r.withCredentials=!0:"omit"===o.credentials&&(r.withCredentials=!1),"responseType"in r&&t.blob&&(r.responseType="blob"),o.headers.forEach((function(e,t){r.setRequestHeader(t,e)})),r.send(void 0===o._bodyInit?null:o._bodyInit)}))},e.fetch.polyfill=!0}function l(e){if("string"!=typeof e&&(e=String(e)),/[^a-z0-9\-#$%&'*+.\^_`|~]/i.test(e))throw new TypeError("Invalid character in header field name");return e.toLowerCase()}function s(e){return"string"!=typeof e&&(e=String(e)),e}function u(e){var n={next:function(){var t=e.shift();return{done:void 0===t,value:t}}};return t.iterable&&(n[Symbol.iterator]=function(){return n}),n}function d(e){this.map={},e instanceof d?e.forEach((function(e,t){this.append(t,e)}),this):Array.isArray(e)?e.forEach((function(e){this.append(e[0],e[1])}),this):e&&Object.getOwnPropertyNames(e).forEach((function(t){this.append(t,e[t])}),this)}function c(e){if(e.bodyUsed)return Promise.reject(new TypeError("Already read"));e.bodyUsed=!0}function f(e){return new Promise((function(t,n){e.onload=function(){t(e.result)},e.onerror=function(){n(e.error)}}))}function p(e){var t=new FileReader,n=f(t);return t.readAsArrayBuffer(e),n}function m(e){if(e.slice)return e.slice(0);var t=new Uint8Array(e.byteLength);return t.set(new Uint8Array(e)),t.buffer}function _(){return this.bodyUsed=!1,this._initBody=function(e){if(this._bodyInit=e,e)if("string"==typeof e)this._bodyText=e;else if(t.blob&&Blob.prototype.isPrototypeOf(e))this._bodyBlob=e;else if(t.formData&&FormData.prototype.isPrototypeOf(e))this._bodyFormData=e;else if(t.searchParams&&URLSearchParams.prototype.isPrototypeOf(e))this._bodyText=e.toString();else if(t.arrayBuffer&&t.blob&&i(e))this._bodyArrayBuffer=m(e.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer]);else{if(!t.arrayBuffer||!ArrayBuffer.prototype.isPrototypeOf(e)&&!a(e))throw new Error("unsupported BodyInit type");this._bodyArrayBuffer=m(e)}else this._bodyText="";this.headers.get("content-type")||("string"==typeof e?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):t.searchParams&&URLSearchParams.prototype.isPrototypeOf(e)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},t.blob&&(this.blob=function(){var e=c(this);if(e)return e;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?c(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(p)}),this.text=function(){var e,t,n,i=c(this);if(i)return i;if(this._bodyBlob)return e=this._bodyBlob,t=new FileReader,n=f(t),t.readAsText(e),n;if(this._bodyArrayBuffer)return Promise.resolve(function(e){for(var t=new Uint8Array(e),n=new Array(t.length),i=0;i<t.length;i++)n[i]=String.fromCharCode(t[i]);return n.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},t.formData&&(this.formData=function(){return this.text().then(h)}),this.json=function(){return this.text().then(JSON.parse)},this}function g(e,t){var n,i,a=(t=t||{}).body;if(e instanceof g){if(e.bodyUsed)throw new TypeError("Already read");this.url=e.url,this.credentials=e.credentials,t.headers||(this.headers=new d(e.headers)),this.method=e.method,this.mode=e.mode,a||null==e._bodyInit||(a=e._bodyInit,e.bodyUsed=!0)}else this.url=String(e);if(this.credentials=t.credentials||this.credentials||"omit",!t.headers&&this.headers||(this.headers=new d(t.headers)),this.method=(n=t.method||this.method||"GET",i=n.toUpperCase(),o.indexOf(i)>-1?i:n),this.mode=t.mode||this.mode||null,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&a)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(a)}function h(e){var t=new FormData;return e.trim().split("&").forEach((function(e){if(e){var n=e.split("="),i=n.shift().replace(/\+/g," "),a=n.join("=").replace(/\+/g," ");t.append(decodeURIComponent(i),decodeURIComponent(a))}})),t}function v(e,t){t||(t={}),this.type="default",this.status=void 0===t.status?200:t.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in t?t.statusText:"OK",this.headers=new d(t.headers),this.url=t.url||"",this._initBody(e)}}("undefined"!=typeof self?self:this)},I81k:function(e,t){e.exports='<svg id="icon-stroke-small-alert-error" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path fill="none" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" d="M8 4v5M8 11.5v.5"></path><path fill="none" stroke-linejoin="round" stroke-miterlimit="10" d="M8 .5C3.864.5.5 3.865.5 8a7.46 7.46 0 0 0 1.142 3.976l-.941 3.511 3.599-.964A7.485 7.485 0 0 0 8 15.5c4.136 0 7.5-3.364 7.5-7.5C15.5 3.865 12.136.5 8 .5z"></path></svg>'},IGFp:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n("D57K"),a=i.__importDefault(n("skTy")),o=function(e){function t(t){var n=e.call(this,t)||this;return n.name=a.default.NotFoundError,n}return i.__extends(t,e),t}(Error);t.default=o},K0BL:function(e,t,n){},L7bQ:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n("D57K"),a=n("2lnG");function o(e,t){return i.__spreadArrays(e.slice(0,t),e.slice(t+1))}function r(e,t,n){return i.__spreadArrays(e.slice(0,t),[n],e.slice(t+1))}function l(e,t){return e.sequence-t.sequence}var s={loading:!0,modules:null,receivedAt:null};t.default=function(e,t){if(void 0===e&&(e=s),t.type.startsWith("module.")&&t.type.endsWith(".fail"))return i.__assign(i.__assign({},e),{loading:!1});var n=t.module;switch(t.type){case a.START_MODULE_XHR:return i.__assign(i.__assign(i.__assign({},e),{loading:!0}),t.props);case a.MODULES_RECEIVED:var u=t.modules.sort(l);return i.__assign(i.__assign({},e),{modules:u,loading:!1,receivedAt:Date.now()});case a.ok(a.LINK_ADD):var d=(g=e.modules).findIndex((function(e){return e.id===n.id})),c=i.__assign(i.__assign({},t.link),{id:t.data[0].id}),f=i.__spreadArrays(n.resources,[c]),p=i.__assign(i.__assign({},n),{resources:f});return i.__assign(i.__assign({},e),{modules:i.__spreadArrays(o(g,d),[p])});case a.ok(a.LINK_UPDATE):d=(g=e.modules).findIndex((function(e){return e.id===n.id}));var m=n.resources.findIndex((function(e){return e.id===t.link.id}));f=r(n.resources,m,t.link);return(D=i.__assign({},n)).resources=f,i.__assign(i.__assign({},e),{loading:!1,modules:r(g,d,D)});case a.ok(a.LINK_REMOVE):d=(g=e.modules).findIndex((function(e){return e.id===n.id})),m=n.resources.findIndex((function(e){return e.id===t.linkId})),f=o(n.resources,m);var _=i.__assign(i.__assign({},n),{resources:f});return i.__assign(i.__assign({},e),{modules:i.__spreadArrays(o(g,d),[_])});case a.ok(a.MODULE_ADD):var g=e.modules,h=function(e,t){var n={},a=t;return e&&(e.forEach((function(e){t.forEach((function(t,a){t.id===e.id&&(n[a]=i.__assign(i.__assign({},e),{resources:t.resources,institutionRoleIds:t.institutionRoleIds}))}))})),Object.keys(n).forEach((function(e){a[e]=n[e]}))),a}(t.updatedModules,g),v=i.__spreadArrays(h,[t.createdModule]).sort(l);return i.__assign(i.__assign({},e),{loading:!1,modules:v});case a.ok(a.MODULE_REMOVE):var y=t.moduleId;return-1!==(d=(g=e.modules).findIndex((function(e){return e.id===y})))?i.__assign(i.__assign({},e),{loading:!1,modules:o(g,d)}):e;case a.ok(a.MODULE_UPDATE):g=e.modules;var b=t.moduleId,E=t.module,I=(f=t.resources,t.institutionRoleIds);if(-1!==(d=g.findIndex((function(e){return e.id===b})))){var D=i.__assign(i.__assign({},g[d]),E);return f&&(D.resources=f),I&&(D.institutionRoleIds=I),i.__assign(i.__assign({},e),{modules:r(g,d,D),loading:!1})}return i.__assign(i.__assign({},e),{loading:!1});case a.ok(a.REORDER_MODULES):if(g=e.modules){var R=g.map((function(e){var n=t.data.findIndex((function(t){return t.id===e.id}));return-1===n?e:i.__assign(i.__assign({},e),{sequence:t.data[n].sequence})})).sort(l);return i.__assign(i.__assign({},e),{modules:R,loading:!1})}h=t.reorderedModules.map((function(e,t){return i.__assign(i.__assign({},e),{sequence:t})}));return i.__assign(i.__assign({},e),{modules:h,loading:!1});default:return e}}},LOsK:function(e,t,n){},MPZR:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n("D57K"),a=n("GIAz"),o={image:void 0,module:void 0};t.default=function(e,t){switch(void 0===e&&(e=o),t.type){case a.SET_SESSION_IMAGE:return i.__assign(i.__assign({},e),{image:t.resource});case a.SET_SESSION_MODULE:return i.__assign(i.__assign({},e),{module:t.module});case a.CLEAR_SESSION_DATA:return i.__assign(i.__assign({},e),{image:void 0,module:void 0});default:return e}}},MQeD:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n("D57K"),a=i.__importDefault(n("ERkP")),o=i.__importDefault(n("aWzz")),r=n("MC1S"),l=n("myse"),s=i.__importDefault(n("kZEK")),u=n("f16b"),d=function(e){function t(t){var n=e.call(this,t)||this;return n.onMenuClose=function(){n.setState((function(){return{isOpen:!1}}))},n.toggle=function(){n.setState((function(e){return{isOpen:!e.isOpen}}))},n.state={isOpen:!1},n.menuId=s.default(),n}return i.__extends(t,e),t.prototype.render=function(){var e=this,t=this.props,n=t.generateDropdownOptions,i=t.index,o=t.title,s=t.ariaLabel,u=t.analyticsId,d=t.analyticsEventAugmentor,c=n(i),f=u+".toggle.button";return a.default.createElement("button",{onClick:d(l.AnalyticsEventTypes.CLICK_EVENT,this.toggle,f),"data-analytics-id":f,ref:function(t){e.buttonElement=t},className:"button button--primary hero-zero-message__button js-module-create-button","aria-label":s,"aria-haspopup":!0,"aria-expanded":this.state.isOpen,"aria-controls":this.menuId},o,this.state.isOpen?a.default.createElement(r.ContextualMenu,{id:this.menuId,shouldFocusOnMount:!0,directionalHint:5,target:this.buttonElement,onDismiss:this.onMenuClose,items:c,className:"institution-page__insert-menu",analyticsId:u+".contextualMenu"}):"")},t}(a.default.Component);t.BaseHeroZeroCreateButton=d,d.propTypes=i.__assign({index:o.default.number.isRequired,generateDropdownOptions:o.default.func.isRequired,title:o.default.string.isRequired,ariaLabel:o.default.string.isRequired},u.withAnalyticsProps);var c=l.withAnalytics(d);t.default=c},MRKp:function(e,t,n){},Mse8:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n("D57K"),a=i.__importDefault(n("ERkP")),o=n("MC1S"),r=i.__importDefault(n("aWzz")),l=n("myse"),s=n("f16b");n("3y1u");var u=n("7ONb"),d=i.__importDefault(n("aqxk")),c=n("UfMt");t.defaultBanner=c;var f=n("188D");t.defaultLogo=f;var p=function(e){var t=e.bgUrl,n=e.logoUrl,i=e.title,r=e.onModifyImage,s=e.permission,p=e.onUpdateTitle,m=e.localeText,_=e.analyticsId,g=l.useAnalyticsAugmentEventOnElement("click",(function(){r("banner")}),_+".edit.banner.button"),h=s?a.default.createElement("button",{className:"banner__edit-button banner__edit-button--banner",onClick:g,title:m.editBannerTitle,"aria-label":m.editBannerTitle},a.default.createElement(o.SvgIcon,{iconName:"draw",className:"svg-icon svg-icon--small-icon",iconSize:"small"})):"",v=l.useAnalyticsAugmentEventOnElement("click",(function(){r("logo")}),_+".edit.logo.button"),y=s?a.default.createElement("button",{className:"banner__edit-button banner__edit-button--logo",onClick:v,title:m.editLogoTitle,"aria-label":m.editLogoTitle},a.default.createElement(o.SvgIcon,{iconName:"draw",className:"svg-icon svg-icon--small-icon",iconSize:"small"})):"",b={backgroundImage:"url('"+(u.convertToAbsoluteUrl(t)||c)+"')"},E={backgroundImage:"url('"+(u.convertToAbsoluteUrl(n)||f)+"')"},I=s?a.default.createElement(d.default,{id:"ip-headline",content:i,attr:"title",buttonTitle:m.editIPTitle,onValueChange:p,onValidateInput:function(e){return u.validateTooLong(e,m.invalidLongTitle)},isHeader:!0,analyticsId:_+".title"}):i;return a.default.createElement("div",{className:"banner",style:b},h,a.default.createElement("div",{className:"banner__logo-container"},a.default.createElement("div",{className:"banner__logo",style:E}),y),a.default.createElement("h2",{className:"banner__title"},a.default.createElement("span",{className:"banner__title-text"},I)))};t.BaseBanner=p,p.propTypes={bgUrl:r.default.string,logoUrl:r.default.string,title:r.default.string.isRequired,onModifyImage:r.default.func,onUpdateTitle:r.default.func,permission:r.default.bool.isRequired,localeText:r.default.shape({editBannerTitle:r.default.string.isRequired,editIPTitle:r.default.string.isRequired,editLogoTitle:r.default.string.isRequired,invalidLongTitle:r.default.string.isRequired}).isRequired,analyticsId:r.default.string},p.defaultProps=i.__assign({bgUrl:"",logoUrl:"",onModifyImage:function(){},onUpdateTitle:function(){}},s.addAnalyticsProps);var m=p;t.default=m},Myz1:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n("D57K"),a=i.__importDefault(n("ERkP")),o=n("uDfI"),r=i.__importDefault(n("aWzz")),l=n("4gyk"),s=n("8unJ"),u=n("myse"),d=n("f16b"),c=n("2lnG"),f=i.__importDefault(n("GRnb")),p=n("xK1l"),m=i.__importDefault(n("Y/Sv")),_=i.__importDefault(n("6fMO")),g=i.__importDefault(n("4M3I")),h=i.__importDefault(n("nH+s")),v=i.__importDefault(n("hR7O")),y=i.__importDefault(n("bA9G")),b=i.__importDefault(n("Et+e")),E=i.__importDefault(n("vlH4")),I=n("7ONb");n("LOsK");var D=i.__importDefault(n("mbH0")),R=i.__importDefault(n("A2rX")),P=i.__importDefault(n("Bt0e")),C=n("UfMt"),k=n("188D");function M(e){var t=e.page,n=e.type,i=e.imageToSave,a=t.loading?null:t,o=!1;a&&(o=!!("logo"===n?a.logoId:a.bannerId));return{page:a,imageIsLoading:!1,enableTrashIcon:o,imageIsError:!1,saveDisabled:!0,isShowPopup:!1,imageUrl:i?i.url:"",imageId:i?i.id:""}}var O=function(e){function t(t){var n=e.call(this,t)||this;return n.onInsertImage=function(){var e=n.props.type,t=n.state.imageUrl;if(t){var a=new Image;a.src=I.convertToAbsoluteUrl(t),n.setState({imageIsLoading:!0}),a.onload=function(){var a="logo"===e?{logoId:t}:{bannerId:t};n.setState((function(e){return{page:i.__assign({id:e.page.id},a),saveDisabled:!1,imageIsLoading:!1,enableTrashIcon:!0}}))},a.onerror=function(){n.setState({imageIsError:!0,imageIsLoading:!1,imageUrl:"",imageId:""})}}},n.onPopupOk=function(){var e="logo"===n.props.type?{logoId:""}:{bannerId:""};n.setState((function(t){return{page:i.__assign({id:t.page.id},e),saveDisabled:!1,isShowPopup:!1,enableTrashIcon:!1,imageUrl:"",imageId:""}}))},n.onPopupCancel=function(){n.setState({isShowPopup:!1})},n.onInputChange=function(e){n.setState({imageUrl:e.target.value})},n.onCloseError=function(){n.setState({imageIsError:!1,imageUrl:"",imageId:""})},n.clickCancel=function(){n.props.onClose()},n.clickSave=function(){var e=n.props.dispatch;e(c.startPageXhr());var t={page:I.trimStringValues(n.state.page),imageIds:[n.state.imageId]};e(c.updatePage(t)).then((function(){n.props.onClose()})).catch((function(e){if(e!==E.default.UPDATE_PAGES)throw e}))},n.clickDeleteOnPreview=function(){n.setState({isShowPopup:!0})},n.state=M(t),n}return i.__extends(t,e),t.prototype.componentDidMount=function(){this.state.imageUrl&&this.onInsertImage()},t.prototype.componentDidUpdate=function(){var e=this.props,t=e.page,n=e.imageToSave;t.loading||null!==this.state.page||this.setState(M(this.props)),n&&n.url!==this.state.imageUrl&&this.setState({imageUrl:n.url,imageId:n.id},this.onInsertImage)},t.prototype.render=function(){var e=this,t="institutionPage.editImage.page";if(this.props.page.loading)return a.default.createElement("div",{className:"edit-logo-component"},a.default.createElement(f.default,null));var n=this.props.localize.translate,i=this.state,o=i.page,r=i.enableTrashIcon?a.default.createElement("button",{className:"edit-logo-component__delete-icon","aria-label":n("ip.editPage.deleteImageTitle"),onClick:this.props.analyticsEventAugmentor(u.AnalyticsEventTypes.CLICK_EVENT,this.clickDeleteOnPreview,"institutionPage.editImage.page.deleteImage.button"),"data-analytics-id":"institutionPage.editImage.page.deleteImage.button"},a.default.createElement(P.default,{icon:D.default,size:"small"}),a.default.createElement(P.default,{icon:R.default,size:"medium"})):"",s="logo"===this.props.type?o.logoId:o.bannerId;s=s?I.convertToAbsoluteUrl(s):"logo"===this.props.type?k:C;var d="logo"===this.props.type?n("ip.editPage.logoPageTitle"):n("ip.editPage.bannerPageTitle"),c="edit-logo-component__preview edit-logo-component__preview-"+this.props.type,h=this.props.page.loading&&this.props.page.id?a.default.createElement(f.default,{backDrop:!0}):"",v=this.state.imageIsLoading?a.default.createElement("div",{className:"preview-loading"},a.default.createElement(l.Icon,{spin:!0,name:"spinner",size:"2x"})):"",y=[{text:n("ip.editPage.invalidImageBtn"),action:this.onCloseError}],b=this.props.imageToSave?n("ip.editPage.confirmRemoveImageContent"):n("ip.editPage.confirmRemoveImageContentWarning");return a.default.createElement("div",null,a.default.createElement("div",{className:"edit-logo-component flex-page-container"},h,this.state.isShowPopup?a.default.createElement(p.ConfirmationPopup,{title:n("ip.editPage.confirmDeleteTitle"),id:"image-delete-confirmation",content:b,onOk:this.onPopupOk,onOkText:n("ip.editPage.confirmDeleteBtn"),onCancel:this.onPopupCancel,onCancelText:n("ip.editPage.cancelDeleteBtn"),analyticsId:t+".confirmation.popup"}):"",this.state.imageIsError?a.default.createElement(p.CustomPopup,{title:n("ip.editPage.invalidImageSelectedTitle"),id:"edit-page-image-error",content:n("ip.editPage.invalidImageSelectedContent"),onCancel:this.onCloseError,customControls:y,elementToFocusOnDismiss:this.contentCollectionLauncher,analyticsId:t+".error.popup"}):"",a.default.createElement("div",{className:"flex-page-content has-footer"},a.default.createElement(m.default,{superTitle:n("ip.editPage.superTitle"),title:d,browserSettingsHref:this.props.contentCollectionSettings.browserSettingsHref,analyticsId:t+".header"}),a.default.createElement("div",{className:"flex-page-content__grow edit-logo-component__content"},a.default.createElement("div",{className:c},r,v,a.default.createElement("img",{className:"edit-logo-component__preview-img",src:s,alt:""})),a.default.createElement("div",{className:"edit-logo-component__content-collection"},a.default.createElement(g.default,{focusRef:function(t){e.contentCollectionLauncher=t},customClasses:"edit-logo-component__content_collection_button",contentCollectionSettings:this.props.contentCollectionSettings,analyticsId:t+".content.launcher"}),!this.state.saveDisabled&&this.state.imageUrl&&a.default.createElement("div",{role:"alert","aria-live":"assertive",className:"edit-logo-component__content-collection-warning",id:"edit-logo-component-content-collection-warning"},n("ip.editPage.contentCollectionPermissionMessage")))))),a.default.createElement(_.default,{clickPrimary:this.clickSave,disabledPrimary:this.state.saveDisabled,textPrimary:n("ip.editPage.saveChangesBtn"),ariaPrimary:n("ip.editPage.saveChangesAria"),clickSecondary:this.clickCancel,textSecondary:n("ip.editPage.cancelChangesBtn"),ariaSecondary:n("ip.editPage.cancelChangesAria"),analyticsId:t+".footer"}))},t}(a.default.Component);O.propTypes=i.__assign({dispatch:r.default.func.isRequired,type:r.default.string.isRequired,page:b.default.isRequired,onClose:r.default.func.isRequired,localize:y.default.isRequired,contentCollectionSettings:v.default,imageToSave:h.default},d.withAnalyticsProps),O.defaultProps={imageToSave:null,contentCollectionSettings:null};var L=o.connect((function(e){return{page:e.page}}))(s.localizedComponentWrapper(O));t.LocalizedEditPageImage=L,t.default=u.withAnalytics(L)},N0gT:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n("D57K"),a=i.__importDefault(n("ERkP")),o=i.__importDefault(n("aWzz")),r=i.__importDefault(n("GRnb"));n("i2QJ");var l=n("N5Iw"),s=function(e){function t(t){var n=e.call(this,t)||this;return n.loadImage=function(e){if(e){var t=new Image;t.src=e,n.setState((function(){return{isLoading:!0}})),t.onload=function(){n.setState((function(){return{isLoading:!1,isError:!1}}))},t.onerror=function(){n.setState((function(){return{isLoading:!1,isError:!0}}))}}},n.state={isLoading:!1,isError:!1},n}return i.__extends(t,e),t.prototype.componentDidMount=function(){this.loadImage(this.props.imgUrl)},t.prototype.componentWillReceiveProps=function(e){var t=e.imgUrl;this.props.imgUrl!==t&&this.loadImage(t)},t.prototype.render=function(){if(this.state.isLoading)return a.default.createElement(r.default,null);var e={backgroundImage:"url('"+(this.state.isError||!this.props.imgUrl?l:this.props.imgUrl)+"')"};return a.default.createElement("div",{className:"module-overview-component "+this.props.customClass,style:e},(this.props.title.length>0||this.props.desc.length>0)&&a.default.createElement("div",{className:"module-overview-component__overlay"},a.default.createElement("h2",{className:"subheader module-overview-component__headline",title:this.props.title},this.props.title),a.default.createElement("p",{className:"module-overview-component__description",title:this.props.desc},this.props.desc)))},t}(a.default.Component);s.propTypes={imgUrl:o.default.string.isRequired,title:o.default.string,desc:o.default.string,customClass:o.default.string},s.defaultProps={title:"",desc:"",customClass:""},t.default=s},N4x8:function(e,t,n){},N5Iw:function(e,t,n){e.exports=n.p+"9a6b429b7034050cdfe16b9f706d094a.png"},OOS7:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n("D57K"),a=i.__importDefault(n("ERkP")),o=i.__importDefault(n("aWzz")),r=n("nBlB"),l=i.__importDefault(n("CUQY")),s=i.__importDefault(n("d1Rw")),u=n("f16b"),d=function(e){var t=e.link,n=e.dragPointRef,i=e.index,o=e.canBeReordered,r=e.offset,s=e.onInsertLink,u=e.onDeleteEditLinkImage,d=e.onOpenEditLinkImage,c=e.onUpdateResource,f=e.onValidateInput,p=e.onDelete,m=e.hasMaxImages,_=e.isImageColVisible,g=e.analyticsId;return a.default.createElement(l.default,{key:t.id,link:t,dragPointRef:n,rowIndex:i,canBeReordered:o,offset:r,onInsertLink:s,onDeleteEditLinkImage:u,onOpenEditLinkImage:d,onUpdateResource:c,onDelete:p,onValidateInput:f,hasMaxImages:m,isImageColVisible:_,analyticsId:""+g})};d.propTypes=i.__assign({link:s.default.isRequired,dragPointRef:o.default.func,hasMaxImages:o.default.bool,isImageColVisible:o.default.bool,index:o.default.number.isRequired,canBeReordered:o.default.bool.isRequired,offset:o.default.number,onInsertLink:o.default.func.isRequired,onDeleteEditLinkImage:o.default.func,onOpenEditLinkImage:o.default.func,onUpdateResource:o.default.func.isRequired,onValidateInput:o.default.func.isRequired,onDelete:o.default.func.isRequired},u.addAnalyticsProps),d.defaultProps={dragPointRef:function(){},hasMaxImages:!1,isImageColVisible:!0,offset:0,onDeleteEditLinkImage:function(){},onOpenEditLinkImage:function(){}},t.default=r.DragNDropItem(d)},PFnq:function(e,t,n){},PfBW:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n("D57K").__importDefault(n("li8z"));t.default=i.default},"Q/C7":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n("D57K").__importDefault(n("aWzz"));t.default=i.default.shape({})},QicL:function(e,t){e.exports='<svg id="icon-small-draw" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" enable-background="new 0 0 16 16"><path stroke-miterlimit="10" fill="none" d="M2.245 5.905l3.498-3.498M10.782 14.28l3.5-3.498"></path><path stroke-linecap="round" stroke-miterlimit="10" fill="none" d="M10.356 10.356L5.8 5.8"></path><path stroke-linejoin="round" stroke-miterlimit="10" d="M14.307 10.81L15.5 15.5l-4.69-1.193L.762 4.262c-.35-.35-.35-.92 0-1.272L2.99.764c.35-.35.92-.35 1.272 0L14.307 10.81z" fill="none"></path></svg>'},R3RO:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n("D57K"),a=i.__importDefault(n("ERkP")),o=i.__importDefault(n("aWzz")),r=n("kBJj"),l=n("uDfI"),s=n("8unJ"),u=i.__importDefault(n("jSEH")),d=i.__importDefault(n("bA9G")),c=i.__importDefault(n("uxYL")),f=i.__importDefault(n("Et+e")),p=i.__importDefault(n("bLwh")),m=i.__importDefault(n("dw5F"));n("whYV");var _=n("2lnG"),g=i.__importDefault(n("wTRC")),h=i.__importDefault(n("0Kat")),v=i.__importDefault(n("GRnb")),y=n("xK1l"),b=i.__importDefault(n("xNW+")),E=i.__importDefault(n("7Bmz")),I=i.__importDefault(n("VwtU")),D=i.__importDefault(n("81Z+")),R=i.__importDefault(n("oIhF")),P=n("7ONb"),C=i.__importDefault(n("95+z")),k="dropdown-toggle",M=function(e){function t(t){var n=e.call(this,t)||this;return n.onPopupOk=function(){var e=n.props.dispatch,t=n.state.savedId;n.setState({isShowPopup:!1,savedId:null,showContentCollectionWarning:!1}),e(_.startModuleXhr()),e(_.removeModule(t))},n.onPopupCancel=function(){n.setState({isShowPopup:!1})},n.onDeleteModule=function(e){var t=n.props.module.modules.find((function(t){return t.id===e})),i=t.type===m.default.LINKS&&t.resources.some((function(e){return!!e.details.imageId}));n.setState((function(){return{isShowPopup:!0,savedId:e,showContentCollectionWarning:i}}))},n.onSwitchPage=function(e,t){n.props.onSwitchPage(e.variantId||"default"),n.setState({currentPageIndex:t})},n.onSwitchMode=function(e,t,i){n.setState({mode:e,currentViewerIndex:t,filterKey:i})},n.onReorderModules=function(e,t){n.props.dispatch(_.reorderModules(n.props.page.id,e)).then((function(){document.getElementById("dnd-"+t.id).focus()}))},n.onModifyImage=function(e){(0,n.props.openEditPageImage)(e)},n.onUpdateTitle=function(e,t){var i=n.props,a=i.dispatch,o=i.page;if(P.validateTooLong(t).isValid){a(_.startPageXhr());var r={page:{id:o.id,title:P.trimStringValues(t)}};return a(_.updatePage(r)).then((function(){document.getElementById("ip-headline-title").focus()}))}return Promise.resolve()},n.getRolesToImpersonate=function(e,t){if(!e||!t)return[];var n=[];return t.forEach((function(t){t.institutionRoleIds&&(n=t.institutionRoleIds.reduce((function(t,n){if(!t.some((function(e){return e.roleKey===n}))){var i=e.filter((function(e){return e.roleKey===n}))[0];i&&t.push({roleKey:i.roleKey,roleName:i.roleName})}return t}),n))})),n.sort((function(e,t){var n=e.roleName.toLowerCase(),i=t.roleName.toLowerCase();return n<i?-1:i<n?1:0}))},n.generateAudienceLabel=function(e){var t=n.props.localize.translate("ip.moduleList.allUsers"),i=n.props.localize.translate("ip.moduleList.multipleRoles");return P.generateAudienceLabel(e,n.props.role.roles,t,i)},n.areRolesValid=function(e){return P.areRolesValid(e,n.props.role.roles||[])},n.syncSequence=function(e,t){for(var n=!1,i=0;i<t.length;i++){var a=t[i];if(e.sequence===a.sequence&&e.id!==a.id){n=!0;break}}n&&t.forEach((function(t){t.sequence>=e.sequence&&e.id!==t.id&&(t.sequence+=1)}))},n.checkModuleIsValid=function(e){return!(!e.resources||0===e.resources.length)&&(!(!e.title||""===e.title)&&void 0!==e.available)},n.createModuleDropdownOptions=function(e){return[{key:e,name:n.translation.optionCreateFeaturedLinksModuleText,className:"dropdown__toggle-text",onClick:function(){n.overrideFocusAndOpenCreate(m.default.LINKS,e)},iconProps:{iconName:"link",iconSize:"small",iconDecorative:!0}},{key:e,name:n.translation.optionCreateCustomContentModuleText,className:"dropdown__toggle-text",onClick:function(){n.overrideFocusAndOpenCreate(m.default.CONTENT,e)},iconProps:{iconName:"custom-content",iconSize:"small",iconDecorative:!0}}]},n.filterModulesPreview=function(e){var t=e.available&&!(e.institutionRoleIds&&e.institutionRoleIds.length);return""===n.state.filterKey?t:t||e.available&&e.institutionRoleIds&&e.institutionRoleIds.includes(n.state.filterKey)},n.overrideFocusAndOpenCreate=function(e,t){var i=".modules-container .js-module-create-button";if(t){for(var a=n.props.module.modules.length,o=0;o<n.props.module.modules.length;o++){if(n.props.module.modules[o].sequence>=t){a=o;break}}i=".module-section:nth-of-type("+a+") .institution-page__create-new-bar:last-of-type"}n.props.setFocusOverride(i,".institution-page-container"),n.props.openCreate(e,t)},n.overrideFocusAndOpenEdit=function(e,t){void 0===t&&(t=!1),n.props.setFocusOverride("#dnd-"+e+" .module-wrapper__header-right ."+k,".institution-page-container"),n.props.openEdit(e,t)},n.state={mode:"edit",currentPageIndex:0,currentViewerIndex:0,isShowPopup:!1,savedId:null,showContentCollectionWarning:!1,filterKey:"",rolesToImpersonate:n.getRolesToImpersonate(t.role.roles,t.module.modules)},n}return i.__extends(t,e),t.prototype.componentWillReceiveProps=function(e){var t=this;if(e.role.roles===this.props.role.roles&&e.module.modules===this.props.module.modules||this.setState((function(){return{rolesToImpersonate:t.getRolesToImpersonate(e.role.roles,e.module.modules)}})),e.variantOptions&&e.variantOptions.length>0){var n=e.variantOptions.findIndex((function(t){return e.page.variantId?e.page.variantId===t.variantId:!t.variantId}));if(n<0)throw new Error("institution-page: Check your configuration. The variantOptions provided do not include a brand that matches the variant or a default brand.");n!==this.state.currentPageIndex&&this.setState((function(){return{currentPageIndex:n}}))}},t.prototype.render=function(){var e=this,t=this.props,n=t.common,i=t.dispatch,o=t.page,r=t.module,l=t.openAll,s=t.localize,u=t.openSettings,d=t.pluginsConfig,c=t.variantOptions,f=t.mode,p=s.translate,m="institutionPage.home";this.translation={moduleName:p("ip.defaultData.moduleName"),imageResourceTitle:p("ip.defaultData.imageResourceTitle"),imageResourceDescription:p("ip.defaultData.imageResourceDescription"),optionCreateFeaturedLinksModuleText:p("ip.moduleList.createFeaturedLinksModuleText"),optionCreateCustomContentModuleText:p("ip.moduleList.createCustomContentModuleText"),insertButtonTitle:p("ip.moduleList.createModuleText"),defaultLinkTitle:p("ip.defaultData.linkName")};var P=function(){i(_.clearError())};if(r.loading&&!r.modules||o.loading&&!o.id)return a.default.createElement("div",{className:"index-container"},n.error&&a.default.createElement(R.default,{errorType:n.errorType,callClearError:P,translate:p,analyticsId:m+".error.popup"}),a.default.createElement(v.default,null));var M,O=r.modules.filter(this.checkModuleIsValid),L=r.modules.filter((function(t){return!e.checkModuleIsValid(t)}));O&&(M="preview"===this.state.mode?O.filter(this.filterModulesPreview):O);var T,w="admin"===f&&o.editIp&&"edit"===this.state.mode,S=p(w?"ip.moduleList.noModuleTitleAdmin":"ip.moduleList.noModuleTitleAll"),A=p(w?"ip.moduleList.noModuleDescAdmin":"ip.moduleList.noModuleDescAll"),N=p("ip.moduleList.createFirstText"),x=p("ip.moduleList.createFirstModuleAria"),q=L.filter((function(e){return w||!1!==e.available}));T=M&&M.length>0?a.default.createElement(D.default,{items:M,onReorderItem:this.onReorderModules,scrollContainerId:"home-modules-section",editable:w,createModuleDropdownOptions:this.createModuleDropdownOptions,openEdit:this.overrideFocusAndOpenEdit,onDelete:this.onDeleteModule,dispatch:this.props.dispatch,localize:this.props.localize,openAll:l,pluginsConfig:d,generateAudienceLabel:this.generateAudienceLabel,areRolesValid:this.areRolesValid,moreOptionsClassName:k,analyticsId:m+".homeModuleSection"}):0===q.length?a.default.createElement(b.default,{headline:S,image:C.default,description:A,permission:w,buttonText:N,buttonAriaLabel:x,generateDropdownOptions:this.createModuleDropdownOptions,areRolesValid:this.areRolesValid,analyticsId:m+".heroZeroMessage"}):w?a.default.createElement(I.default,{createModule:this.onCreateFirstModule,buttonAriaLabel:s.translate("ip.moduleList.createFirstModuleAria"),generateDropdownOptions:this.createModuleDropdownOptions,closedTitle:s.translate("ip.moduleList.createModuleText"),openedTitle:s.translate("ip.moduleList.createModuleCancel"),index:0,analyticsId:m+".insertModule"}):"";var z=q.map((function(e,t){return a.default.createElement(E.default,{key:e.id,title:p("ip.error.moduleLoadTitle"),size:"medium",description:p("ip.error.moduleLoadDescription"),bottomMargin:!w||t!==q.length-1})})),B=r.loading&&r.modules||o.loading&&o.id?a.default.createElement(v.default,{backDrop:!0}):"",U="admin"===f&&o.editIp?a.default.createElement(g.default,{currentPageIndex:this.state.currentPageIndex,currentViewerIndex:this.state.currentViewerIndex,onSwitchPage:this.onSwitchPage,onSwitchMode:this.onSwitchMode,onClickSettingsButton:u,localize:s,variantId:o.variantId,viewerRoles:this.state.rolesToImpersonate,variantOptions:c,analyticsId:m+".header"}):"",V={popupTitle:p("ip.moduleList.deleteModuleTitle"),popupContent:p("ip.moduleList.deleteModuleContent"),popupContentWithWarning:p("ip.moduleList.deleteModuleContentCollectionWarning"),popupConfirm:p("ip.moduleList.deletePopupConfirm"),popupCancel:p("ip.moduleList.deletePopupCancel")},K={editBannerTitle:p("ip.banner.editBannerTitle"),editLogoTitle:p("ip.banner.editLogoTitle"),editIPTitle:p("ip.banner.editIPTitle"),invalidLongTitle:p("ip.editModule.validateTooLongMessage")},F=a.default.createElement("div",{className:"flex-page-container"+(w?" ip-editable":"")},n.error&&a.default.createElement(R.default,{errorType:n.errorType,callClearError:P,translate:p,analyticsId:m+".error.popup"}),B,this.state.isShowPopup?a.default.createElement(y.ConfirmationPopup,{title:V.popupTitle,id:"module-delete-confirmation",content:this.state.showContentCollectionWarning?V.popupContentWithWarning:V.popupContent,onOk:this.onPopupOk,onCancel:this.onPopupCancel,onOkText:V.popupConfirm,onCancelText:V.popupCancel,analyticsId:m+".confirmation.popup"}):"",U,a.default.createElement("div",{id:"home-modules-section",className:"flex-page-content"},a.default.createElement(h.default,{bgUrl:o.bannerId,logoUrl:o.logoId,title:o.title||"",permission:w,onModifyImage:this.onModifyImage,onUpdateTitle:this.onUpdateTitle,localeText:K,analyticsId:m+".banner"}),a.default.createElement("div",{className:"modules-container"},z,T)));return a.default.createElement("div",{className:"index-container"},F)},t}(a.default.Component);M.propTypes={dispatch:o.default.func.isRequired,module:c.default.isRequired,page:f.default.isRequired,role:p.default.isRequired,common:u.default.isRequired,openAll:o.default.func,openEdit:o.default.func,openEditPageImage:o.default.func,openCreate:o.default.func.isRequired,openSettings:o.default.func,setFocusOverride:o.default.func.isRequired,localize:d.default,pluginsConfig:r.optionalPluginConfigPropTypes.isRequired,variantOptions:o.default.arrayOf(o.default.shape({variantId:o.default.string,variantName:o.default.string.isRequired})),onSwitchPage:o.default.func,mode:o.default.string},M.defaultProps={localize:{},openAll:null,openEdit:null,openEditPageImage:null,openSettings:null,variantOptions:[],onSwitchPage:null,mode:null};var O=l.connect((function(e){return{page:e.page,module:e.module,role:e.role,common:e.common,entitlement:e.entitlement}}))(s.localizedComponentWrapper(M));t.default=O},"Rhk/":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n("D57K"),a=i.__importDefault(n("ERkP")),o=i.__importDefault(n("7nmT")),r=n("uDfI"),l=n("8unJ");n("zeob");var s=n("2lnG"),u=i.__importDefault(n("R3RO")),d=i.__importDefault(n("iLzp")),c=i.__importDefault(n("FUVp")),f=i.__importDefault(n("nBnM")),p=i.__importDefault(n("Myz1")),m=i.__importDefault(n("SCNq")),_=n("yeoA"),g=i.__importStar(n("TtT0")),h=i.__importStar(n("C18T")),v=n("0Kat"),y=i.__importDefault(n("skTy")),b=m.default(),E=function(e){return function(){b.getState().common.error||e()}};function I(e,t,n,i,s){var u=n;null==n&&"undefined"!=typeof window&&window.location.search.match("setLang=")&&(u=window.location.search.match(/setLang=([^$&]+)/)[1]),function(e,t){o.default.render(a.default.createElement(r.Provider,{store:b},e),t)}(a.default.createElement(l.Locale,{locale:u,babelfishInstance:i,babelfishFormatInstance:s,bundlesToLoad:["institution-page/locales/[locale]/ip.json"]},a.default.createElement("div",{className:"ip-app"},e)),t)}var D=_.ExistingModuleSelector(c.default),R=_.ExistingModuleSelector(f.default),P=_.SessionModuleSelector(f.default),C=_.SessionModuleSelector(c.default),k={renderIp:function(e,t,n,i,o){var r=o.openEditPageImage,l=o.openAll,d=o.openEdit,c=o.openCreate,f=o.openSettings,p=o.setFocusOverride,m=o.featureFlags,_=void 0===m?{}:m,g=o.editorPluginsConfig,h=void 0===g?{}:g,v=o.selectPage,y=o.variantId,E=o.variantOptions,D=o.mode;b.dispatch(s.startModuleXhr()),b.dispatch(s.startPageXhr()),b.dispatch(s.getData(y)),b.dispatch(s.fetchPreferenceAndRoles()),b.dispatch(s.setFeatureFlags(_)),I(a.default.createElement(u.default,{onSwitchPage:v,openAll:l,openEdit:d,openEditPageImage:r,openCreate:c,openSettings:f,setFocusOverride:p,pluginsConfig:h,variantOptions:E,mode:D}),e,t,n,i)},renderAll:function(e,t,n,i,o){I(a.default.createElement(d.default,{moduleId:t}),e,n,i,o)},renderEdit:function(e,t,n,i,o,r,l,s,u,d){void 0===u&&(u={}),I(a.default.createElement(D,{moduleId:t,onClose:E(n),onOpenEditImagePanel:i,setFocusOverride:o,pluginsConfig:u,expandRoles:d}),e,r,l,s)},renderEditLinkImage:function(e,t,n,i,o,r,l,s,u){I(a.default.createElement(R,{moduleId:n,linkId:t,onClose:E(i),contentCollectionSettings:s,imageToSave:u}),e,o,r,l)},renderCreateLinkImage:function(e,t,n,i,o,r,l,s,u,d){I(a.default.createElement(P,{linkId:t,type:n,sequence:i,onClose:E(o),contentCollectionSettings:u,imageToSave:d}),e,r,l,s)},renderCreate:function(e,t,n,i,o,r,l,s,u,d){void 0===d&&(d={}),I(a.default.createElement(C,{type:t,sequence:n,shouldCreateSession:!0,onClose:E(i),onOpenEditImagePanel:o,setFocusOverride:r,pluginsConfig:d}),e,l,s,u)},renderEditLogo:function(e,t,n,i,o,r,l){I(a.default.createElement(p.default,{onClose:E(t),type:"logo",contentCollectionSettings:r,imageToSave:l}),e,n,i,o)},renderEditBanner:function(e,t,n,i,o,r,l){I(a.default.createElement(p.default,{onClose:E(t),type:"banner",contentCollectionSettings:r,imageToSave:l}),e,n,i,o)},destroyReactControl:function(e){o.default.unmountComponentAtNode(e)},pageService:g,moduleService:h,defaultBanner:v.defaultBanner,defaultLogo:v.defaultLogo,errorTypes:y.default};t.default=k},Rz79:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CLEAR_ERROR="global.error.clear",t.SET_FEATURE_FLAGS="global.set.featureFlags",t.clearError=function(){return{type:t.CLEAR_ERROR}},t.setFeatureFlags=function(e){return{type:t.SET_FEATURE_FLAGS,flags:e}}},SCNq:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n("D57K"),a=n("9OUN"),o=i.__importDefault(n("V8Kl")),r=i.__importDefault(n("3uNv"));t.default=function(){return a.createStore(r.default,a.applyMiddleware(o.default))}},SIuN:function(e,t,n){},SLwq:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n("D57K"),a=i.__importDefault(n("e0LE")),o=i.__importDefault(n("skTy")),r=i.__importDefault(n("VwWt")),l=i.__importDefault(n("IGFp"));function s(e){return void 0===e&&(e=a.default.V1),{Accept:"application/json; version="+e,"X-Blackboard-XSRF":window.__initialContext.xsrf,"Content-Type":"application/json"}}function u(e,t){return void 0===t&&(t=a.default.V1),{method:e,credentials:"same-origin",headers:new Headers(s(t))}}t.PATCH="PATCH",t.POST="POST",t.DELETE="DELETE",t.GET="GET",t.getHeaders=s,t.getAbsoluteUrl=function(e){var t=/^[^/]*\/\/[^/]+/.exec(window.location.href);return(t&&t[0]||"")+e},t.getFetchOptions=u,t.fetchReturnBody=function(e,n,i,s){void 0===n&&(n=null),void 0===i&&(i=!1),void 0===s&&(s=a.default.V1);var d=n;return d||(d=u(t.GET,s)),i?fetch(e,d).then((function(e){return e.json()})):fetch(e,d).then((function(e){return e.json().then((function(t){return e.ok?t.return_body:(function(e){var t=e.error;if(t){if(t.detail&&t.detail.name===o.default.FilePermissionUpdateError)throw new r.default(t.message);if(t.detail&&t.detail.name===o.default.NotFoundError)throw new l.default(t.message);throw new Error(t.message)}throw new Error("Unexpected Error")}(t),null)}))}))}},SarE:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n("D57K"),a=i.__importDefault(n("ERkP")),o=i.__importDefault(n("aWzz")),r=n("hHCp"),l=n("myse"),s=n("f16b");n("s/PA");var u=function(e){var t=e.onClick,n=e.buttonTitle,i=e.analyticsId;return a.default.createElement("button",{type:"button",className:"institution-page__create-new-bar js-create-button",onClick:l.useAnalyticsAugmentEventOnElement("click",t,i+".insert.button"),"aria-label":n},a.default.createElement("div",{className:"institution-page__create-new-bar__line"}),a.default.createElement(r.SvgIcon,{className:"institution-page__create-new-bar__add-icon",iconName:"add",size:"small"}))};u.propTypes=i.__assign({onClick:o.default.func.isRequired,buttonTitle:o.default.string.isRequired},s.addAnalyticsProps),t.default=u},Sh9o:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n("D57K").__importDefault(n("nZ3+"));t.default=i.default},TE9t:function(e,t,n){},TtT0:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n("D57K"),a=n("SLwq"),o=n("hTyS"),r=i.__importDefault(n("e0LE")),l=i.__importDefault(n("IGFp"));t.getCustomPageRoute=function(e,t){void 0===e&&(e="IP"),void 0===t&&(t=null);var n=o.baseRoute+"/custom-page?type="+e;return t&&"default"!==t?n+"&variant="+t:n},t.reorderModulesPost=function(e,t){var n=i.__assign(i.__assign({},a.getFetchOptions(a.POST,r.default.V2)),{body:JSON.stringify(t.map((function(e){return e.id})))}),l=o.baseRoute+"/custom-page/"+e+"/reorder";return a.fetchReturnBody(l,n)},t.canEditFetch=function(e,t){void 0===e&&(e=r.default.V1),void 0===t&&(t=null);var n=t&&"default"!==t?"?variantId="+t:"",i=o.baseRoute+"/user/can-edit"+n;return a.fetchReturnBody(i,null,!1,e)},t.getCustomPages=function(e,t){void 0===e&&(e="IP"),void 0===t&&(t=!0);var n=function(e,t){return void 0===e&&(e="IP"),void 0===t&&(t=!0),o.baseRoute+"/custom-pages?type="+e+"&available="+t}(e,t);return a.fetchReturnBody(n)},t.getPages=function(e){void 0===e&&(e="IP");var n=t.getCustomPageRoute(e);return a.fetchReturnBody(n)},t.getPageVariant=function(e,n){void 0===e&&(e="IP"),void 0===n&&(n=null);var i=t.getCustomPageRoute(e,n);return a.fetchReturnBody(i).then((function(e){return e[0]}))},t.getEffectivePageVariantId=function(e,n){return void 0===n&&(n="IP"),t.getPageVariant(n,e).then((function(t){return t.available?e:null}),(function(){return null}))},t.createPageVariant=function(e,n,o,l){var s=t.getCustomPageRoute(e),u={type:e,variantId:n,page:{variantName:o,available:l}},d=i.__assign(i.__assign({},a.getFetchOptions(a.POST,r.default.V2)),{body:JSON.stringify(u)});return a.fetchReturnBody(s,d)},t.updatePages=function(e){var t=i.__assign(i.__assign({},a.getFetchOptions(a.PATCH,r.default.V2)),{body:JSON.stringify(e)}),n=o.baseRoute+"/custom-page/"+e.page.id;return a.fetchReturnBody(n,t)},t.deletePage=function(e){var t=null;"string"==typeof e?t=e:"id"in e&&(t=e.id);var n=o.baseRoute+"/custom-page/"+t;return a.fetchReturnBody(n,a.getFetchOptions(a.DELETE,r.default.V2))};t.ensurePageVariant=function(e,n,i,a){return n?t.getPageVariant(e,n).then((function(e){return function(e,n,i){return e.variantName===n&&e.available===i?Promise.resolve(e):t.updatePages({page:{id:e.id,variantName:n,available:i}})}(e,i,a)}),(function(){return t.createPageVariant(e,n,i,a)})):Promise.resolve(null)},t.deletePageVariant=function(e,n){return n?t.getPageVariant(e,n).then(t.deletePage).catch((function(e){if(e instanceof l.default)return null;throw e})):Promise.resolve(null)}},U5ZW:function(e,t,n){},UfMt:function(e,t,n){e.exports=n.p+"ac34f9dbe1c563c385401c07098ebdfe.png"},Upev:function(e,t,n){},VQU7:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n("D57K"),a=i.__importDefault(n("ERkP")),o=i.__importDefault(n("aWzz")),r=n("kBJj"),l=n("7ONb"),s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i.__extends(t,e),t.prototype.shouldComponentUpdate=function(){return!1},t.prototype.render=function(){var e=l.configureEditorPlugins(this.props.pluginsConfig);return a.default.createElement(r.BbEditor,{bbml:this.props.startingBBML,onChange:this.props.onChange,locale:this.props.locale,plugins:e})},t}(a.default.Component);s.propTypes={startingBBML:o.default.string.isRequired,onChange:o.default.func.isRequired,locale:o.default.string.isRequired,pluginsConfig:r.optionalPluginConfigPropTypes},s.defaultProps={pluginsConfig:{}},t.default=s},Vsq4:function(e,t,n){},VwWt:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n("D57K"),a=i.__importDefault(n("skTy")),o=function(e){function t(t){var n=e.call(this,t)||this;return n.name=a.default.FilePermissionUpdateError,n}return i.__extends(t,e),t}(Error);t.default=o},VwtU:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n("D57K").__importDefault(n("bW4q"));t.default=i.default},Wl1g:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n("D57K").__importDefault(n("721Y"));t.default=i.default},XFZ8:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n("D57K"),a=i.__importDefault(n("ERkP")),o=i.__importDefault(n("aWzz")),r=i.__importDefault(n("yaUO"));n("oA99");var l=function(e){for(var t=e.images,n=e.index,i=[],o=n<t.length?n:0,l=t[o],s=0;s<t.length;s++)i.push(a.default.createElement("div",{className:"image-carousel-component__indicator"+(s===o?" active":""),key:t[s].id}));return a.default.createElement("div",{className:"image-carousel-component"},a.default.createElement(r.default,{imgUrl:l?l.imageHref:"",customClass:"full-width"}),a.default.createElement("div",{className:"image-carousel-component__indicator-container"},i.length>1&&i))};l.propTypes={images:o.default.arrayOf(o.default.shape({imageHref:o.default.string.isRequired,id:o.default.string.isRequired})).isRequired,index:o.default.number.isRequired},t.default=l},"Y/Sv":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n("D57K").__importDefault(n("iqkx"));t.default=i.default},YxpF:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n("D57K"),a=i.__importDefault(n("SarE"));t.InsertButton=a.default;var o=i.__importDefault(n("HlfI"));t.InsertButtonDropdown=o.default},YyhZ:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n("D57K").__importDefault(n("OOS7"));t.default=i.default},aLoj:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n("D57K"),a=n("2lnG"),o=n("wg1p"),r={loading:!0,editIp:!1};t.default=function(e,t){if(void 0===e&&(e=r),t.type.startsWith("page.")&&t.type.endsWith(".fail"))return i.__assign(i.__assign({},e),{loading:!1});switch(t.type){case a.PAGE_RECEIVED:return i.__assign(i.__assign(i.__assign({},e),t.page),{loading:!1});case a.START_PAGE_XHR:return i.__assign(i.__assign({},e),{loading:!0});case o.ok(a.FETCH_PREFERENCE):return i.__assign(i.__assign({},e),{editIp:t.data.canEdit});case o.ok(a.PAGE_UPDATE):return i.__assign(i.__assign(i.__assign({},e),t.page),{loading:!1});default:return e}}},af97:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n("D57K"),a=i.__importDefault(n("ERkP")),o=i.__importDefault(n("aWzz")),r=n("kBJj"),l=n("nBlB"),s=i.__importDefault(n("iD9B")),u=i.__importDefault(n("j8Az")),d=i.__importDefault(n("bA9G")),c=i.__importDefault(n("BnC3")),f=n("f16b"),p=function(e){var t=e.canBeReordered,n=e.module,i=e.editable,o=e.index,r=e.createModuleDropdownOptions,l=e.moreOptionsClassName,d=e.openEdit,c=e.onDelete,f=e.dragPointRef,p=e.dispatch,m=e.localize,_=e.openAll,g=e.pluginsConfig,h=e.generateAudienceLabel,v=e.areRolesValid,y=e.analyticsId;return a.default.createElement("div",{id:"dnd-"+n.id},a.default.createElement(u.default,{canBeReordered:t,editable:i,index:o,generateDropdownOptions:r,openEdit:d,onDelete:c,dragPointRef:f,module:n,dispatch:p,generateAudienceLabel:h,areRolesValid:v,moreOptionsClassName:l,analyticsId:y+".wrapper"},a.default.createElement(s.default,{module:n,openAll:_,dispatch:p,localize:m,pluginsConfig:g,analyticsId:""+y})))};p.propTypes=i.__assign({canBeReordered:o.default.bool.isRequired,editable:o.default.bool.isRequired,index:o.default.number.isRequired,createModuleDropdownOptions:o.default.func.isRequired,openEdit:o.default.func.isRequired,onDelete:o.default.func.isRequired,dragPointRef:o.default.func.isRequired,module:c.default.isRequired,dispatch:o.default.func.isRequired,localize:d.default.isRequired,openAll:o.default.func.isRequired,pluginsConfig:r.optionalPluginConfigPropTypes.isRequired,generateAudienceLabel:o.default.func.isRequired,areRolesValid:o.default.func.isRequired,moreOptionsClassName:o.default.string},f.addAnalyticsProps),p.defaultProps={moreOptionsClassName:""},t.default=l.DragNDropItem(p)},apWE:function(e,t,n){},aqxk:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n("D57K").__importDefault(n("AisW"));t.default=i.default},b2TE:function(e,t,n){},bA9G:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n("D57K").__importDefault(n("aWzz"));t.default=i.default.shape({babelfishFormatInstance:i.default.shape(),babelfishInstance:i.default.shape(),context:i.default.shape(),formatCurrency:i.default.func,formatDate:i.default.func,formatDatetime:i.default.func,formatDuration:i.default.func,formatItems:i.default.func,formatNumber:i.default.func,formatPercentage:i.default.func,formatTime:i.default.func,formatTimezone:i.default.func,formatUsername:i.default.func,formatUsernameList:i.default.func,mounted:i.default.bool,options:i.default.shape({locale:i.default.string}),refs:i.default.shape(),resolvedValues:i.default.shape(),resolving:i.default.shape(),setOptions:i.default.func,state:i.default.shape(),updater:i.default.shape()})},bLwh:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n("D57K"),a=i.__importDefault(n("aWzz")),o=i.__importDefault(n("kb2/"));t.default=a.default.shape({loading:a.default.bool.isRequired,roles:a.default.arrayOf(o.default)})},bW4q:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n("D57K"),a=i.__importDefault(n("ERkP")),o=i.__importDefault(n("aWzz")),r=n("YxpF"),l=n("f16b"),s=function(e){var t=e.index,n=e.openedTitle,i=e.closedTitle,o=e.buttonAriaLabel,l=e.generateDropdownOptions,s=e.analyticsId;return a.default.createElement(r.InsertButtonDropdown,{index:t,generateDropdownOptions:l,openedTitle:n,closedTitle:i,ariaLabel:o,analyticsId:s+".dropdown"})};s.propTypes=i.__assign({index:o.default.number.isRequired,generateDropdownOptions:o.default.func.isRequired,openedTitle:o.default.string.isRequired,closedTitle:o.default.string.isRequired,buttonAriaLabel:o.default.string.isRequired},l.addAnalyticsProps),t.default=s},c6tI:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=["https://","http://","ftp://","mailto:"];t.default=function(e){for(var t=0;t<i.length;t++)if(e.startsWith(i[t]))return e;return"https://".concat(e)}},cPEu:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n("D57K").__importDefault(n("htmO"));t.default=i.default},cvLf:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n("D57K"),a=i.__importDefault(n("ERkP")),o=i.__importDefault(n("aWzz")),r=n("f16b"),l=i.__importDefault(n("skTy")),s=n("xK1l"),u=i.__importDefault(n("i0wr")),d=function(e){var t=e.errorType,n=e.callClearError,i=e.translate,o=e.analyticsId;switch(t){case l.default.FilePermissionUpdateError:return a.default.createElement(s.CustomPopup,{title:i("ip.filePermissionUpdateError.title"),id:"file-permission-error",content:a.default.createElement("div",null,i("ip.filePermissionUpdateError.description")),onCancel:n,customControls:[{text:i("ip.filePermissionUpdateError.okBtn"),action:n}],analyticsId:o+".filePermissionError"});case l.default.Error:return a.default.createElement(s.CustomPopup,{title:i("ip.error.title"),id:"general-error",content:a.default.createElement("div",null,a.default.createElement("p",null,i("ip.error.description")),a.default.createElement("div",{dangerouslySetInnerHTML:{__html:u.default}})),onCancel:n,customControls:[{text:i("ip.editModule.closeBtn"),action:n}],analyticsId:o+".generalError"});default:return null}};d.propTypes=i.__assign({errorType:o.default.string,callClearError:o.default.func,translate:o.default.func},r.addAnalyticsProps),t.default=d},"d+xE":function(e,t,n){},d1Rw:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n("D57K"),a=i.__importDefault(n("aWzz")),o=n("7ONb"),r=i.__importDefault(n("rB6G")),l=o.values(r.default);t.default=a.default.shape({available:a.default.bool.isRequired,id:a.default.string.isRequired,moduleId:a.default.string.isRequired,sequence:a.default.number.isRequired,type:a.default.oneOf(l).isRequired,details:a.default.shape()})},dBOD:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n("D57K"),a=i.__importDefault(n("ERkP")),o=i.__importDefault(n("aWzz")),r=n("myse"),l=n("caKH"),s=n("f16b");n("h6JY");var u=function(e){var t=e.content,n=e.id,i=e.title,o=e.onCancel,s=e.children,u=e.elementToFocusOnDismiss,d=e.analyticsId,c="institution-page-"+n+"-content";return a.default.createElement(l.UltraModalDialog,{hidden:!1,onDismiss:r.useAnalyticsAugmentEventOnElement("click",o,d+".cancel.dialog"),elementToFocusOnDismiss:u,dialogContentProps:{title:i,showCloseButton:!0},modalProps:{isBlocking:!0,subtitleAriaId:c}},a.default.createElement("div",{id:c},t),s)};u.propTypes=i.__assign({content:o.default.oneOfType([o.default.string,o.default.element]).isRequired,id:o.default.string.isRequired,title:o.default.string.isRequired,onCancel:o.default.func.isRequired,children:o.default.node.isRequired,elementToFocusOnDismiss:o.default.element},s.addAnalyticsProps),u.defaultProps={elementToFocusOnDismiss:null},t.default=u},dw5F:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={LINKS:"LINKS",CONTENT:"CONTENT"}},e0LE:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={V1:"1.0",V2:"2.0",V3:"3.0"}},eBDh:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n("D57K"),a=i.__importDefault(n("ERkP")),o=i.__importDefault(n("aWzz")),r=i.__importDefault(n("O94r")),l=n("MC1S"),s=n("8unJ"),u=n("myse"),d=n("f16b"),c=i.__importDefault(n("6zpC")),f=i.__importDefault(n("VwtU")),p=i.__importDefault(n("bA9G")),m=i.__importDefault(n("BnC3"));n("U5ZW");var _=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.onEdit=function(){return t.props.openEdit(t.props.module.id)},t.onEditWithRolesExpanded=function(){return t.props.openEdit(t.props.module.id,!0)},t.onDelete=function(){return t.props.onDelete(t.props.module.id)},t.generateCreateBar=function(e,n){var i=t.props,o=i.module,r=i.editable,l=i.localize,s=i.generateDropdownOptions,u=i.analyticsId,d=l.translate(n?"ip.moduleList.createModuleAfterAria":"ip.moduleList.createModuleBeforeAria",{moduleTitle:o.title});return r?a.default.createElement(f.default,{buttonAriaLabel:d,generateDropdownOptions:s,closedTitle:l.translate("ip.moduleList.createModuleText"),openedTitle:l.translate("ip.moduleList.createModuleCancel"),index:e,analyticsId:u+".createNewBar"}):""},t}return i.__extends(t,e),t.prototype.render=function(){var e=this.props,t=e.module,n=e.index,i=e.editable,o=e.dispatch,s=e.localize,d=e.children,f=e.moreOptionsClassName,p=e.analyticsId,m=e.analyticsEventAugmentor,_=this.props.areRolesValid(t.institutionRoleIds),g=r.default({"module-wrapper__button":!0,"module-wrapper__drag-point":!0,hidden:!this.props.canBeReordered}),h=p+".editWithRoles.link",v=p+".dragModule.button";return a.default.createElement("div",{className:"module-wrapper"},0===n?this.generateCreateBar(n,!1):"",a.default.createElement("div",{className:"module-wrapper__content drag-drop-item__highlight-area"},a.default.createElement("div",{className:"module-wrapper__header"},a.default.createElement("div",{className:"module-wrapper__header-left"},a.default.createElement("h3",{className:"subheader module-wrapper__title"},t.title),i?a.default.createElement("span",{className:"module-wrapper__visibility-controls"},a.default.createElement(c.default,{moduleId:t.id,available:t.available,dispatch:o,localize:s,analyticsId:p+".visibilityToggle.control"}),a.default.createElement("span",{className:"module-wrapper__audience"},a.default.createElement("span",{className:"module-wrapper__audience-spacer"},"|"),s.translate("ip.moduleList.audienceTitle"),a.default.createElement("a",{className:"module-wrapper__audience-link",onClick:m(u.AnalyticsEventTypes.CLICK_EVENT,this.onEditWithRolesExpanded,h),"data-analytics-id":h,href:"#",title:_?s.translate("ip.moduleList.audienceSettingsLinkTitle"):s.translate("ip.moduleList.unknownRoleErrorMessage")},_?this.props.generateAudienceLabel(t.institutionRoleIds):s.translate("ip.moduleList.confirmRoles")),!_&&a.default.createElement(l.SvgIcon,{iconName:"attention",iconSize:"small",className:"attention-icon"}))):""),i?a.default.createElement("div",{className:"module-wrapper__header-right"},a.default.createElement("div",{ref:this.props.dragPointRef,id:t.id+"-drag-point",className:g,draggable:!0,role:"button",tabIndex:"0",title:s.translate("ip.moduleList.moveModuleTitle"),"aria-label":s.translate("ip.moduleList.moveModuleTitle"),onClick:m(u.AnalyticsEventTypes.CLICK_EVENT,(function(){}),v),"data-analytics-id":v},a.default.createElement(l.SvgIcon,{iconName:"move-item-up-down",iconSize:"small"})),a.default.createElement(l.ActionMenu,{className:"js-dropdown-toggle "+f,ariaLabel:s.translate("ip.moduleList.editModuleAriaLabel",{moduleTitle:t.title}),title:s.translate("ip.moduleList.editModuleTitle"),analyticsId:p+".actionMenu.button",menuProps:{items:[{key:"editModule",name:s.translate("ip.moduleList.editModuleText"),onClick:this.onEdit,iconProps:{iconName:"draw",iconSize:"small"}},{key:"deleteModule",name:s.translate("ip.moduleList.deleteModuleText"),onClick:this.onDelete,iconProps:{iconName:"trash",iconSize:"small"}}]}})):""),d),this.generateCreateBar(this.props.module.sequence+1,!0))},t}(a.default.Component);t.BaseModuleWrapper=_,_.propTypes=i.__assign({canBeReordered:o.default.bool.isRequired,generateDropdownOptions:o.default.func.isRequired,editable:o.default.bool.isRequired,localize:p.default.isRequired,openEdit:o.default.func.isRequired,onDelete:o.default.func.isRequired,dragPointRef:o.default.func.isRequired,index:o.default.number.isRequired,children:o.default.node.isRequired,module:m.default.isRequired,dispatch:o.default.func.isRequired,generateAudienceLabel:o.default.func.isRequired,areRolesValid:o.default.func.isRequired,moreOptionsClassName:o.default.string},d.withAnalyticsProps),_.defaultProps={moreOptionsClassName:""};var g=s.localizedComponentWrapper(_);t.LocalizedModuleWrapper=g,t.default=u.withAnalytics(g)},enG4:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n("D57K"),a=i.__importDefault(n("ERkP")),o=i.__importDefault(n("aWzz")),r=n("8unJ"),l=n("kBJj"),s=i.__importDefault(n("lf3n")),u=i.__importDefault(n("7Bmz")),d=i.__importDefault(n("bA9G")),c=i.__importDefault(n("BnC3"));n("TE9t");var f=function(e){function t(t){var n=e.call(this,t)||this;return n.editorContentChanged=function(e){if(n.hasContentChanged=n.hasContentChanged||e.isDirty,n.hasContentChanged){var t=e.toBbML(),a=[i.__assign(i.__assign({},n.props.module.resources[0]),{details:i.__assign(i.__assign({},n.props.module.resources[0].details),{bbml:t})})];t?t&&n.state.errorMessage&&n.setState((function(){return{errorMessage:null}})):n.setState((function(){return{errorMessage:n.translations.errorMessage}})),n.props.setUnsavedResources(a,!!t)}},n.translations={},n.state={errorMessage:null},n.hasContentChanged=!1,n}return i.__extends(t,e),t.prototype.render=function(){var e=this.props.localize.translate;return this.translations.errorMessage=e("ip.editModule.validateContent"),a.default.createElement("div",{className:"edit-content-module"},a.default.createElement("h4",{className:"edit-content-module__section-heading"},e("ip.editModule.moduleContent")),a.default.createElement("div",{className:"content-editor bb-editor-fill"},a.default.createElement(s.default,{startingBBML:this.props.module.resources[0].details.bbml,onChange:this.editorContentChanged,locale:this.props.currentLocale,localize:this.props.localize,pluginsConfig:this.props.pluginsConfig})),this.state.errorMessage?a.default.createElement("div",{className:"edit-content-module-error"},a.default.createElement(u.default,{size:"small",title:this.state.errorMessage})):"")},t}(a.default.Component);f.propTypes={module:c.default.isRequired,setUnsavedResources:o.default.func.isRequired,localize:d.default.isRequired,currentLocale:o.default.string.isRequired,pluginsConfig:l.optionalPluginConfigPropTypes.isRequired},t.default=r.localizedComponentWrapper(f)},f16b:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n("aWzz");t.addAnalyticsProps={analyticsId:i.PropTypes.string.isRequired},t.withAnalyticsProps={analyticsEventAugmentor:i.PropTypes.func.isRequired}},fDgs:function(e,t,n){},fY1r:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n("D57K").__importDefault(n("Ewol"));t.default=i.default},fohi:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n("D57K"),a=i.__importDefault(n("ERkP")),o=i.__importDefault(n("aWzz")),r=n("kBJj"),l=i.__importDefault(n("cPEu")),s=i.__importDefault(n("Sh9o")),u=i.__importDefault(n("Bxgz")),d=i.__importDefault(n("bA9G")),c=i.__importDefault(n("BnC3")),f=i.__importDefault(n("dw5F")),p=i.__importDefault(n("rB6G")),m=n("f16b"),_=function(e){var t=e.module,n=e.dispatch,i=e.openAll,o=e.localize,r=e.pluginsConfig,d=e.preview,c=e.analyticsId;switch(t.type){case f.default.LINKS:return!t.resources.some((function(e){return e.type===p.default.IMAGE}))||d?a.default.createElement(s.default,{module:t,dispatch:n,openAll:i,preview:d,analyticsId:c+".imageModule"}):a.default.createElement(l.default,{module:t,dispatch:n,openAll:i,preview:d,analyticsId:c+".featureModule"});case f.default.CONTENT:return a.default.createElement(u.default,{module:t,localize:o,pluginsConfig:r,preview:d});default:return null}};_.propTypes=i.__assign({module:c.default.isRequired,dispatch:o.default.func.isRequired,localize:d.default.isRequired,openAll:o.default.func.isRequired,pluginsConfig:r.optionalPluginConfigPropTypes.isRequired,preview:o.default.bool},m.addAnalyticsProps),_.defaultProps={preview:!1},t.default=_},h6JY:function(e,t,n){},hR7O:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n("D57K").__importDefault(n("aWzz"));t.default=i.default.shape({pickerHref:i.default.string.isRequired,openWindowSettingModal:i.default.func.isRequired,shouldShowWindowSettingModal:i.default.bool.isRequired,shouldOpenInNewWindow:i.default.bool,browserSettingsHref:i.default.string.isRequired})},hTyS:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n("SLwq");t.baseRoute=i.getAbsoluteUrl("/institution/api"),t.baseUltraRoute=i.getAbsoluteUrl("/learn/api/v1")},hb3l:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n("D57K"),a=i.__importDefault(n("kZEK")),o=i.__importDefault(n("dw5F")),r=i.__importDefault(n("rB6G")),l=i.__importDefault(n("D3Id"));t.createDefaultModuleData=function(e,t){return void 0===e&&(e=""),{available:!1,type:t,title:e,details:{},institutionRoleIds:[]}},t.defaultLinkResourceData=function(e,t){var n={};return t&&(n.id=a.default(),n.moduleId=t),i.__assign(i.__assign({},n),{type:r.default.LINK,available:!0,sequence:2,details:{href:"https://www.blackboard.com",title:e,imageHref:""}})};var s=[{href:"https://www.google.com",title:"Google"},{href:"https://www.bing.com",title:"Bing"},{href:"https://www.youtube.com",title:"YouTube"},{href:"https://www.facebook.com",title:"Facebook"},{href:"https://www.instagram.com",title:"Instagram"}];t.createDefaultPostData=function(e,n){var a,u=t.createDefaultModuleData(n.moduleName,e),d=[];switch(e){case o.default.LINKS:var c=t.defaultLinkResourceData(n.defaultLinkTitle),f=s.map((function(e,t){return i.__assign(i.__assign({},c),{details:i.__assign(i.__assign({},c.details),e),sequence:t+2})}));u.details.imageOrientation=l.default.LEFT,d=f;break;case o.default.CONTENT:d=[(a="",void 0===a&&(a=""),{type:r.default.CONTENT,available:!0,sequence:1,details:{bbml:a}})];break;default:return{}}return{module:u,resources:d}},t.createDefaultPostDataWithTempIds=function(e,n){var o=t.createDefaultPostData(e,n);o.module.id=a.default();var r=o.resources.map((function(e){return i.__assign(i.__assign({},e),{id:a.default(),moduleId:o.module.id})}));return o.resources=r,o}},hiIv:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n("D57K"),a=i.__importDefault(n("ERkP")),o=i.__importDefault(n("aWzz")),r=n("kBJj"),l=n("7ONb"),s=i.__importDefault(n("BnC3"));n("0/jh");var u=function(e){var t=e.module,n=e.pluginsConfig,i=e.preview,o=l.configureEditorPlugins(n);return a.default.createElement("div",{className:"content-component__container bb-editor-fill"},a.default.createElement(r.BbEditor,{isToolbarHidden:!0,isReadOnly:!0,bbml:t.resources[0].details.bbml,plugins:o,isDisabled:i}))};u.propTypes={module:s.default.isRequired,pluginsConfig:r.optionalPluginConfigPropTypes.isRequired,preview:o.default.bool},u.defaultProps={preview:!1},t.default=u},htmO:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n("D57K"),a=i.__importDefault(n("ERkP")),o=i.__importDefault(n("aWzz")),r=n("f16b"),l=i.__importDefault(n("yaUO")),s=i.__importDefault(n("mFPq")),u=i.__importDefault(n("rB6G")),d=i.__importDefault(n("BnC3")),c=i.__importDefault(n("vlH4")),f=n("2lnG");n("1Cy1");var p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.openAllLinksPeek=function(e){var n=t.props,i=n.openAll;return(0,n.dispatch)(f.checkModuleVisibility(e)).then((function(){i(e)})).catch((function(e){if(e!==c.default.GET_MODULE_VISIBILITY)throw e}))},t}return i.__extends(t,e),t.prototype.render=function(){var e=this.props,t=e.module,n=e.analyticsId,i=t.resources.filter((function(e){return e.type===u.default.IMAGE}))[0],o=i?{url:i.details.href,title:i.details.title,desc:i.details.desc}:{url:""},r=t.resources.filter((function(e){return e.type===u.default.LINK})).map((function(e){return{link:e.details.href,title:e.details.title,id:e.id}})),d=r?a.default.createElement(s.default,{items:r,openAll:this.openAllLinksPeek,moduleId:t.id,disableLinks:this.props.preview,customClasses:"featured-link-list",analyticsId:n+".featuredLink.linkList"}):"";return a.default.createElement("div",{className:"featured-links-component__container"},a.default.createElement(l.default,{imgUrl:o.url,title:o.title,desc:o.desc}),d)},t}(a.default.Component);p.propTypes=i.__assign({module:d.default.isRequired,dispatch:o.default.func.isRequired,openAll:o.default.func.isRequired,preview:o.default.bool},r.addAnalyticsProps),p.defaultProps={preview:!1},t.default=p},i0wr:function(e,t){e.exports='<svg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 600 600" enable-background="new 0 0 600 600" xml:space="preserve"><rect x="398.6" y="231.1" transform="matrix(0.9254 0.3791 -0.3791 0.9254 122.4013 -137.2872)" fill="#FCCC9D" width="22.5" height="22.2"></rect><path fill="#FCCC9D" d="M394,207.2c0,0,23.5-1.3,24.5-2.1c4.6-10.1,16.5-14.7,26.8-10.3c10.4,4.5,13.4,16,10.7,26.9 C448.8,250.3,391,254.7,394,207.2z"></path><g><ellipse transform="matrix(0.9975 -7.117025e-02 7.117025e-02 0.9975 -10.1287 30.6884)" fill="#F1F2F2" cx="425.6" cy="157.5" rx="27.6" ry="7.6"></ellipse><ellipse transform="matrix(0.9975 -7.117025e-02 7.117025e-02 0.9975 -15.9342 31.3111)" fill="#F1F2F2" cx="431.4" cy="239.3" rx="18.9" ry="5.2"></ellipse><polygon fill="#F1F2F2" points="453.1,155.5 398.1,159.4 412.5,240.6 450.3,237.9 "></polygon><path fill="#3C2415" d="M402.7,163.2c5,1.8,13.7,2.5,23.4,1.9c9.7-0.7,18.2-2.7,22.9-5.2c-5-1.8-13.7-2.5-23.4-1.9 C415.9,158.8,407.5,160.8,402.7,163.2z"></path><path fill="#D1D3D4" d="M424.8,149.9c-15.7,1.1-28.2,5.6-27.9,9.9c0.3,4.3,13.3,7,29.1,5.8c15.7-1.1,28.2-5.6,27.9-9.9 C453.6,151.4,440.5,148.8,424.8,149.9z M426,164.2c-13.7,1-25-1.3-25.3-5c-0.3-3.7,10.6-7.6,24.3-8.5c13.7-1,25,1.3,25.3,5 C450.6,159.4,439.7,163.2,426,164.2z"></path></g><path fill="#FCCC9D" d="M404.5,240c-1.4,0-2.8-0.5-4-1.5c-1-0.8-9.7-8.6-10.2-19.4c-0.3-6,2.1-11.7,6.9-16.6c1.5-1.5,3.3-2.3,4.9-3 c2.5-1.1,3.9-1.7,4.8-4.1c1.2-3.2,4.8-4.7,8-3.5c3.2,1.2,4.7,4.8,3.5,8c-2.9,7.4-8.5,9.8-11.6,11c-0.4,0.2-0.9,0.4-1.1,0.5 c-2.2,2.3-3.2,4.7-3.1,7.1c0.3,5.5,5.8,10.5,5.9,10.6c2.6,2.2,2.9,6.1,0.7,8.7C407.9,239.3,406.2,240,404.5,240z"></path><path fill="#FCCC9D" d="M449,224c-4.5,0-8.1-3.6-8.2-8c-0.4-20.5,8.6-36.4,8.9-37c2.3-3.9,7.3-5.3,11.2-3c3.9,2.2,5.3,7.2,3,11.2 c-0.2,0.3-7.1,12.8-6.8,28.6c0.1,4.5-3.5,8.3-8,8.3C449.1,224,449.1,224,449,224z"></path><g><path fill="#F1F2F2" d="M420.2,257.2c0.8-1.7,1.7-3.3,2.5-5.1l-25.1-12.6c-3.1,6.4-3.1,6.4-3.1,6.4L420.2,257.2z"></path><path fill="#B5CF5C" d="M355.6,317.7c-1.1,0-2.2,0-3.3-0.1c-41.3-3.3-63-70.6-65.4-78.2c-2.3-7.6,1.9-15.6,9.5-17.9 c7.6-2.3,15.6,1.9,17.9,9.5c7,22.7,24.6,56.8,40.2,58c11.2,0.9,26.9-16.8,41.8-47.4l25.8,12.6C401.3,296.8,379.5,317.7,355.6,317.7 z"></path><path fill="#A4BD5B" d="M356.2,313.6c-1.1,0-2.2,0-3.3-0.1c-9.2-0.7-17.5-4.7-24.7-10.4c-1.6-20.3-3.9-38.2-6-51.9 c-0.7-1.5-1.4-3.1-2-4.6c2.5,14.5,5.5,35.6,7.4,60.6c7.3,5.7,15.5,9.7,24.7,10.4c1.1,0.1,2.2,0.1,3.3,0.1 c23.9,0,45.7-20.8,66.5-63.5l-1.1-0.5C400.7,293.9,379.4,313.6,356.2,313.6z"></path></g><path fill="#B5CF5C" d="M280,423.3c-0.6,0-1.2,0-1.9,0c-27.1-1-48.3-23.8-47.3-51c2.5-66.7-11-135.7-11.1-136.4 c-7.4-37.3,20.4-39.9,39.7-36.6c9.7,1.7,50.6,5.2,56.8,26.8c0.9,3.2,15.8,71.8,12.9,149.9C328.1,402.5,306.3,423.3,280,423.3z"></path><path opacity="0.25" fill="#3C2415" d="M282.9,315.2c-11.2-11.5-2.5-17.6-7.5-19.9c-7.2-3.4-5.1-11.8-5.1-16.3c0,0,2-14.4-0.3-17.1 c-11.3-13.5,7.8-17.2,9.5-22.6c0.6-2.1,20.8-16.9,16.8,5.4c-2.6,14.7-3.4,18.1,5.4,20.2c10.8,2.7,11.7,37.7,2.9,37.1 c-2.4-0.1-0.5,31.7-7.4,28.3c-6.3-3.1-1.8-8.6-6.8-10.4C284.9,317.9,284.6,316.9,282.9,315.2z"></path><g opacity="0.25"><path opacity="0.5" fill="#3C2415" d="M294.7,254.9c0.3-2.6,0.9-5.9,1.6-10.3c0.5-3,0.6-5.3,0.4-7.1c-0.1,0.9-0.2,1.9-0.4,3 C295.1,247.6,294.2,252,294.7,254.9z"></path><path opacity="0.5" fill="#3C2415" d="M270,257.8c-1.8-2.1-2.8-4-3.3-5.7c-0.8,2.6-0.1,5.7,3.3,9.8c0.7,0.8,1,2.5,1.1,4.6 C271.2,262.8,271.1,259,270,257.8z"></path><path opacity="0.5" fill="#3C2415" d="M304.6,297.9c-2.4-0.1-0.5,31.7-7.4,28.3c-6.3-3.1-1.8-8.6-6.8-10.4c-5.5-2-5.7-3-7.4-4.7 c-4.2-4.3-5.6-7.8-6-10.7c-0.3,3.3-0.5,8.2,6,14.8c1.7,1.7,1.9,2.7,7.4,4.7c5,1.8,0.5,7.4,6.8,10.4c7,3.4,5.1-28.5,7.4-28.3 c4.3,0.3,6.3-8,5.9-16.8C310.2,292.3,308.2,298.1,304.6,297.9z"></path><path opacity="0.5" fill="#3C2415" d="M275.4,291.2c-3.8-1.8-5-5-5.3-8.3c-0.3,4.4-0.2,9.9,5.3,12.4c0.8,0.4,1.3,0.9,1.5,1.5 C277.2,294,277.7,292.2,275.4,291.2z"></path></g><path fill="#FCCC9D" d="M215.1,371.8c-3.7-0.4-8.2-3.6-11.4-6.6c-1-4.1-3.6-7.7-7.5-9.9c-7.4-4.1-16.8-1.4-20.9,6 c-0.1,0.2-9,16-23.7,29.4c-6.3,5.7-6.8,15.4-1,21.7c3,3.3,7.2,5,11.4,5c3.7,0,7.4-1.3,10.3-4c12.7-11.5,21.7-24.1,26.4-31.4 c4.1,2.9,9.2,5.4,14.7,6c0.3,0,0.6,0,0.9,0c4.1,0,7.7-3.1,8.1-7.3C222.9,376.3,219.6,372.2,215.1,371.8z"></path><g><path fill="#B5CF5C" d="M171.6,359.9c-17.2-57-0.3-98.9,17-120.6c18.6-23.5,41.6-37.3,42.6-37.7c7.3-3.1,15.7,0.4,18.8,7.7 c3,7.3-0.4,30-7.7,33.1c-2.9,1.3-68.7,24.5-43.2,109.2C201.3,359.2,173.5,366.1,171.6,359.9z"></path><path fill="#F1F2F2" d="M171.4,359.3c0.1,0.2,0.1,0.4,0.2,0.6c2.5,7.2,29.4,0.1,27.6-7.4C195.7,357.4,179.1,360.6,171.4,359.3z"></path><path fill="#A4BD5B" d="M222.5,253.3l0.7,3.9c5.3-6.3,17.9-14.1,19-14.5C241.1,243.1,232.7,245.6,222.5,253.3z"></path></g><polygon fill="#F1F2F2" points="280,202.9 277.3,218.5 284,207.8 293,224.3 289.3,200.4 275.4,192.7 "></polygon><path fill="#FCCC9D" d="M277.3,217.6c-0.4,0-4.7-12.1-5-12.2c-9-0.6-25.9-1.8-25.9-1.8c0.3-4.5,3.3-44.5,16.5-68.7 c4.3-8,14.3-10.9,22.2-6.6c8,4.3,10.9,14.3,6.6,22.2c-8.3,15.3-10.2,45.4-10.9,55.5L277.3,217.6z"></path><polygon fill="#C19A78" points="258.7,181.5 282,191 281.2,200.4 "></polygon><path fill="#FCCC9D" d="M330.8,60.6l-26.2-5.3c-14.5-4.8-30.4,3.2-35.2,17.7l-4.5,22c-1.7-0.7-3.5-1.1-5.4-1.1 c-8,0-14.5,6.5-14.5,14.5c0,7.9,6.3,14.3,14.2,14.5l-6.4,31.1c-4.8,14.5,3.2,30.4,17.7,35.2l15.9,5.3c14.5,4.8,30.4-3.2,35.2-17.7 l6.5-19.7l5.7,2.3c1,0.4,2.1,0.6,3.1,0.6c3.2,0,6.3-1.9,7.6-5.1c1.7-4.2-0.3-9-4.5-10.7l-6.8-2.8l15.1-45.8 C353.3,81.2,345.3,65.4,330.8,60.6z"></path><polygon fill="#C19A78" points="327.2,159.9 328.1,157.2 321.5,154.9 "></polygon><path fill="#C19A78" d="M259.8,103.5c-2.1,0-3.9,1.2-4.9,2.8c0.8-0.5,1.8-0.8,2.9-0.8c3.2,0,5.7,2.6,5.7,5.7c0,1-0.3,2-0.8,2.9 c1.7-1,2.8-2.8,2.8-4.9C265.5,106,262.9,103.5,259.8,103.5z"></path><path fill="#333333" d="M347.8,49.4c-20-33.2-67-24.1-74-3.5c0,0-37.6-3.2-22.6,50.8c2.3-1.6,5.2-2.6,8.2-2.6 c5.8,0,10.8,3.5,13.1,8.5c16.5-9.4,17.1-30.3,17.1-30.3c39.8,42.8,80.6,20.8,97.6,3.2C387.2,75.5,365.3,78.5,347.8,49.4z"></path><polygon fill="#F1F2F2" points="273.3,202.3 277.3,217.6 269.7,207.4 262.1,224.6 236.1,199 245.6,178 "></polygon><g><path fill="#B0BBCB" d="M329.1,375.9c0.4-9.5,0.4-24,0.4-24c-63.9-13.4-98.4,10.3-98.4,10.3c0.1,8,0,1.9-0.3,10 c-0.4,10.8,2.7,20.8,8.2,29.1c-2.7,18.4-11.2,67.6-34.4,139.5h41c15.1-38,26-90,31.1-117.7c0.4,0,0.9,0.1,1.3,0.1 c0.6,0,1.2,0,1.9,0c2.5,0,4.9-0.2,7.3-0.5c1.4,25.2,1.5,64-0.9,118.1h41.2c3.3-76.1,1.2-127-0.6-152 C328.1,384.8,328.9,380.4,329.1,375.9z"></path><g><path fill="#A1ADBB" d="M234.9,372.3c0.3-8.1,0.4-2,0.3-10c0,0,31.9-20.7,94.3-8.2c0-1.3,0-2.1,0-2.1 c-63.9-13.4-98.4,10.3-98.4,10.3c0.1,8,0,1.9-0.3,10c-0.4,10.8,2.7,20.8,8.2,29.1c-2.7,18.4-11.2,67.6-34.4,139.5h4.1 c23.1-71.9,31.7-121.1,34.4-139.5C237.6,393.1,234.5,383,234.9,372.3z"></path><path fill="#A1ADBB" d="M291.3,422.8c-1.3,0.2-2.7,0.3-4.1,0.4c1.4,25.2,1.5,63.9-0.9,117.7h4.1 C292.8,486.8,292.8,447.9,291.3,422.8z"></path><path fill="#A1ADBB" d="M281.7,423.2c-0.3,0-0.6,0-0.8-0.1c0,0,0,0.1,0,0.1C281.1,423.3,281.4,423.2,281.7,423.2z"></path></g></g><path fill="#E7E7E7" d="M447.4,566.1H142.3c-4.3,0-7.9-3.6-7.9-7.9v-0.6c0-4.3,3.6-7.9,7.9-7.9h305.1c4.3,0,7.9,3.6,7.9,7.9v0.6 C455.3,562.5,451.8,566.1,447.4,566.1z"></path><path fill="#E7E7E7" d="M183.3,576.3c-4.3,0-7.9-3.6-7.9-7.9v-0.6c0-4.3,3.6-7.9,7.9-7.9H388c4.3,0,7.9,3.6,7.9,7.9v0.6 c0,4.3-3.6,7.9-7.9,7.9"></path><path fill="#333333" d="M246.6,555.7h-73.7c-5.4,0-9.7-4.4-9.7-9.7v-0.7c0-5.4,4.4-9.7,9.7-9.7h73.7c5.4,0,9.7,4.4,9.7,9.7v0.7 C256.3,551.3,251.9,555.7,246.6,555.7z"></path><path fill="#333333" d="M361.4,555.7h-73.7c-5.4,0-9.7-4.4-9.7-9.7v-0.7c0-5.4,4.4-9.7,9.7-9.7h73.7c5.4,0,9.7,4.4,9.7,9.7v0.7 C371.1,551.3,366.7,555.7,361.4,555.7z"></path></svg>'},i2QJ:function(e,t,n){},iD9B:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n("D57K").__importDefault(n("fohi"));t.default=i.default},iLzp:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n("D57K"),a=i.__importDefault(n("ERkP")),o=i.__importDefault(n("aWzz")),r=n("uDfI"),l=n("8unJ"),s=i.__importDefault(n("GRnb")),u=i.__importDefault(n("79sU")),d=i.__importDefault(n("rB6G")),c=i.__importDefault(n("bA9G")),f=i.__importDefault(n("uxYL")),p=n("7ONb");n("r9mI");var m=function(e){function t(t){var n=e.call(this,t)||this;return n.state={},n}return i.__extends(t,e),t.prototype.render=function(){var e=this.props,t=e.moduleId,n=e.module,i=e.localize;if(n.loading)return a.default.createElement("div",{className:"view-all-page-component"},a.default.createElement(s.default,null));var o=n.modules.filter((function(e){return e.id===t}))[0],r=o.resources.filter((function(e){return e.type===d.default.LINK})).map((function(e){return{title:e.details.title,link:e.details.href,id:e.id}})).map((function(e){return a.default.createElement("li",{className:"view-all-page-component__list-item",key:e.id},a.default.createElement("a",{className:"view-all-page-component__anchor",href:p.sanitizeLinkUrl(e.link),rel:"noopener noreferrer",target:"_blank",alt:e.title},e.title))}));return a.default.createElement("div",{className:"flex-page-container"},a.default.createElement("div",{className:"view-all-page-component flex-page-content"},a.default.createElement(u.default,{superTitle:i.translate("ip.editPage.superTitle"),title:o.title}),a.default.createElement("ul",{className:"view-all-page-component__list"},r)))},t}(a.default.Component);m.propTypes={moduleId:o.default.string.isRequired,module:f.default,localize:c.default.isRequired},m.defaultProps={module:null};t.default=r.connect((function(e){return{module:e.module}}))(l.localizedComponentWrapper(m))},iOHJ:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MAX_IMAGE_LINKS=1,t.MAX_LINKS_PER_COLUMN=5,t.NUM_LINK_COLUMNS_WITH_IMAGE=1,t.NUM_LINK_COLUMNS_WITHOUT_IMAGE=2},iVn3:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n("D57K"),a=n("8rgp"),o=i.__importDefault(n("D3Id"));t.getImageOrientation=function(e){return e&&e.details&&e.details.imageOrientation},t.isValidImageOrientation=function(e){return a.values(o.default).includes(e)},t.determineImageOrientation=function(e){var n=t.getImageOrientation(e);return t.isValidImageOrientation(n)?n:o.default.LEFT}},iiwF:function(e,t,n){},imzg:function(e,t,n){},iqkx:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n("D57K"),a=i.__importDefault(n("ERkP")),o=i.__importDefault(n("aWzz")),r=n("MC1S"),l=n("8unJ"),s=n("myse"),u=n("f16b"),d=i.__importDefault(n("bA9G"));n("r3nL");var c=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i.__extends(t,e),t.prototype.render=function(){var e=this.props,t=e.title,n=e.superTitle,i=e.browserSettingsHref,o=e.localize,l=e.analyticsId,u=e.analyticsEventAugmentor,d=l+".settings.link";return a.default.createElement("header",{className:"panel-header-component panel-settings-header"},a.default.createElement("h2",{className:"subheader panel-header-component__super-title"},n),a.default.createElement("div",{className:"panel-settings-header__title-row"},a.default.createElement("h1",{className:"subheader panel-header-component__title"},t),a.default.createElement("a",{className:"icon super-clear button js-open-settings",title:o.translate("ip.editPage.browserSettings"),href:i,onClick:u(s.AnalyticsEventTypes.CLICK_EVENT,(function(){}),d),"data-analytics-id":d},a.default.createElement(r.SvgIcon,{iconName:"settings",iconSize:"medium"}),a.default.createElement("span",{className:"sr-only"},o.translate("ip.editPage.browserSettings")))))},t}(a.default.Component);t.BasePanelSettingsHeader=c,c.propTypes=i.__assign({superTitle:o.default.string,title:o.default.string,browserSettingsHref:o.default.string.isRequired,localize:d.default.isRequired},u.withAnalyticsProps),c.defaultProps={superTitle:"",title:""};var f=l.localizedComponentWrapper(c);t.LocalizedPanelSettingsHeader=f,t.default=s.withAnalytics(f)},j8Az:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n("D57K").__importDefault(n("eBDh"));t.default=i.default},jSEH:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n("D57K"),a=i.__importDefault(n("aWzz")),o=i.__importDefault(n("Q/C7"));t.default=a.default.shape({error:a.default.bool.isRequired,errorType:a.default.string.isRequired,featureFlags:o.default.isRequired})},kTYZ:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n("D57K"),a=i.__importDefault(n("ERkP")),o=i.__importDefault(n("aWzz")),r=n("kBJj"),l=n("nBlB"),s=i.__importDefault(n("lWSA")),u=i.__importDefault(n("bA9G")),d=i.__importDefault(n("BnC3")),c=n("f16b");n("Bk9K");var f=function(e){var t=e.items,n=e.state,i=e.actions,o=e.editable,r=e.createModuleDropdownOptions,l=e.moreOptionsClassName,u=e.openEdit,d=e.onDelete,c=e.dispatch,f=e.localize,p=e.openAll,m=e.pluginsConfig,_=e.generateAudienceLabel,g=e.areRolesValid,h=e.analyticsId;return a.default.createElement("div",null,t.map((function(e,v){return a.default.createElement(s.default,{canBeReordered:t.length>1,module:e,index:v,key:e.id,preview:a.default.createElement("div",{className:"module-list-preview"},e.title),state:n,actions:i,editable:o,createModuleDropdownOptions:r,openEdit:u,onDelete:d,dispatch:c,localize:f,openAll:p,pluginsConfig:m,generateAudienceLabel:_,areRolesValid:g,moreOptionsClassName:l,analyticsId:h+".moduleItem"})})))};f.propTypes=i.__assign({items:o.default.arrayOf(d.default).isRequired,state:o.default.shape().isRequired,actions:o.default.shape().isRequired,editable:o.default.bool.isRequired,createModuleDropdownOptions:o.default.func.isRequired,openEdit:o.default.func.isRequired,onDelete:o.default.func.isRequired,dispatch:o.default.func.isRequired,localize:u.default.isRequired,openAll:o.default.func.isRequired,pluginsConfig:r.optionalPluginConfigPropTypes.isRequired,generateAudienceLabel:o.default.func.isRequired,areRolesValid:o.default.func.isRequired,moreOptionsClassName:o.default.string},c.addAnalyticsProps),f.defaultProps={moreOptionsClassName:""},t.default=l.DragNDropContainer(f)},kZEK:function(e,t,n){var i,a,o=n("BoH5"),r=n("Fgwb"),l=0,s=0;e.exports=function(e,t,n){var u=t&&n||0,d=t||[],c=(e=e||{}).node||i,f=void 0!==e.clockseq?e.clockseq:a;if(null==c||null==f){var p=o();null==c&&(c=i=[1|p[0],p[1],p[2],p[3],p[4],p[5]]),null==f&&(f=a=16383&(p[6]<<8|p[7]))}var m=void 0!==e.msecs?e.msecs:(new Date).getTime(),_=void 0!==e.nsecs?e.nsecs:s+1,g=m-l+(_-s)/1e4;if(g<0&&void 0===e.clockseq&&(f=f+1&16383),(g<0||m>l)&&void 0===e.nsecs&&(_=0),_>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");l=m,s=_,a=f;var h=(1e4*(268435455&(m+=122192928e5))+_)%4294967296;d[u++]=h>>>24&255,d[u++]=h>>>16&255,d[u++]=h>>>8&255,d[u++]=255&h;var v=m/4294967296*1e4&268435455;d[u++]=v>>>8&255,d[u++]=255&v,d[u++]=v>>>24&15|16,d[u++]=v>>>16&255,d[u++]=f>>>8|128,d[u++]=255&f;for(var y=0;y<6;++y)d[u+y]=c[y];return t||r(d)}},"kb2/":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n("D57K").__importDefault(n("aWzz"));t.default=i.default.shape({roleId:i.default.string.isRequired,roleKey:i.default.string.isRequired,roleName:i.default.string.isRequired,description:i.default.string.isRequired,custom:i.default.bool.isRequired})},kqdT:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n("D57K"),a=i.__importDefault(n("ERkP")),o=i.__importDefault(n("aWzz")),r=n("MC1S"),l=n("2lnG"),s=i.__importDefault(n("bA9G")),u=n("f16b");n("K0BL");var d={HIDDEN:"HIDDEN",VISIBLE:"VISIBLE"},c=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.onToggleOptionChanged=function(e){return t.toggleVisible(e.key===d.VISIBLE)},t.dropdownControllingButton=null,t.dispatchStartModuleXhr=function(){return t.props.dispatch(l.startModuleXhr())},t.dispatchUpdateModule=function(e){return t.props.dispatch(l.updateModule({module:e,moduleId:e.id}))},t.toggleVisible=function(e){var n={id:t.props.moduleId,available:e};t.dispatchStartModuleXhr(),t.dispatchUpdateModule(n).then((function(){var e=t.dropdownControllingButton;e&&e.focus()}))},t}return i.__extends(t,e),t.prototype.render=function(){var e=this,t=this.props,n=t.available,i=t.localize,o=t.analyticsId,l=[{key:d.HIDDEN,text:i.translate("ip.moduleList.userHidden"),itemType:r.DropdownMenuItemType.Normal,index:0,ariaLabel:i.translate("ip.moduleList.userHidden"),iconProps:{iconName:"invisible",iconSize:"medium"}},{key:d.VISIBLE,text:i.translate("ip.moduleList.userVisible"),itemType:r.DropdownMenuItemType.Normal,index:1,ariaLabel:i.translate("ip.moduleList.userVisible"),iconProps:{iconName:"visible",iconSize:"medium"}}];return a.default.createElement("div",{className:"institution-page-visibility-toggle__wrapper"},a.default.createElement(r.Dropdown,{ref:function(t){e.dropdownControllingButton=t&&t.refs&&t.refs.root&&t.refs.root.querySelectorAll("button")[0]},calloutProps:{className:"institution-page-visibility-toggle__callout"},options:l,iconDropdown:!0,hideBorders:!0,selectedKey:n?d.VISIBLE:d.HIDDEN,onChanged:this.onToggleOptionChanged,analyticsId:""+o}))},t}(a.default.Component);t.default=c,c.propTypes=i.__assign({moduleId:o.default.string.isRequired,available:o.default.bool.isRequired,dispatch:o.default.func.isRequired,localize:s.default.isRequired},u.addAnalyticsProps)},lWSA:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n("D57K").__importDefault(n("af97"));t.default=i.default},lf3n:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n("D57K").__importDefault(n("VQU7"));t.default=i.default},li8z:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n("D57K"),a=i.__importDefault(n("ERkP")),o=i.__importDefault(n("aWzz")),r=n("8unJ"),l=n("MC1S"),s=n("myse"),u=n("f16b");n("apWE");var d=i.__importDefault(n("bA9G")),c=i.__importDefault(n("bLwh")),f=n("7ONb"),p="",m=function(e){function t(t){var n=e.call(this,t)||this;n.onEmptyInputFocus=function(e){return n.getFilteredSuggestions(e)},n.onFilterChanged=function(e,t){var i=n.getFilteredSuggestions(t);return e?i.filter((function(t){return t.name.toLowerCase().startsWith(e.toLowerCase())})):i},n.onSelectedChange=function(e,t){n.state.selectedItems.forEach((function(t,i){-1===e.indexOf(t)&&(i<e.length?n.nextFocus=i:e.length?n.nextFocus=e.length-1:n.shouldFocusPickerOnNextUpdate=!0)}));var i=[];t&&n.isAllUsers([t])||(i=e.reduce((function(e,t){return t.key!==p&&e.push(t.key),e}),[])),n.props.onUpdateInstitutionRoleIds(i)},n.getFilteredSuggestions=function(e){var t=n.isAllUsers(e)?[]:n.allUsers();return n.props.role.roles.reduce((function(t,n){return e.some((function(e){return e.key===n.roleKey}))||t.push({key:n.roleKey,name:n.roleName}),t}),t)},n.getSelectedItems=function(e,t){return f.filterValidRoles(e,t.roles)},n.getItemAddedStatusMessage=function(e){return n.props.localize.translate("ip.editModule.rolesSelector.selectionAdded",{item:e.name})},n.removeButtonAriaLabel=function(e){return n.props.localize.translate("ip.editModule.rolesSelector.removeSelection",{item:e.name})},n.allUsers=function(){return[{key:p,name:n.translations.allUsers}]},n.isAllUsers=function(e){return 1===e.length&&e[0].key===p},n.allUsersStringPopulated=function(){return""!==n.props.localize.translate("ip.moduleList.allUsers")},n.translations={};var i=n.getSelectedItems(t.institutionRoleIds,t.role);return n.state={hasFocusedInput:!1,isLoading:t.role.loading,selectedItems:i,disabledPickerItems:!i.length},n}return i.__extends(t,e),t.prototype.componentWillReceiveProps=function(e){var t={};e.expandRoles&&!this.state.hasFocusedInput&&this.allUsersStringPopulated()&&(this.shouldFocusPickerOnNextUpdate=!0,t.hasFocusedInput=!0);var n=e.institutionRoleIds!==this.props.institutionRoleIds,i=e.role.roles!==this.props.role.roles;if(n||i){var a=this.getSelectedItems(e.institutionRoleIds,e.role);e.role.loading||a.length===e.institutionRoleIds.length?(t.isLoading=e.role.loading,t.selectedItems=a,t.disabledPickerItems=!a.length):e.onUpdateInstitutionRoleIds(a.map((function(e){return e.key})))}this.setState((function(){return t}))},t.prototype.componentDidUpdate=function(){if(this.shouldFocusPickerOnNextUpdate&&this.picker&&(this.shouldFocusPickerOnNextUpdate=!1,this.picker.input.focus()),null!==this.nextFocus&&this.picker){var e=document.querySelectorAll("button.ms-TagItem-close")[this.nextFocus];e&&e.focus(),this.nextFocus=null}},t.prototype.render=function(){var e=this,t=this.props.localize.translate;return this.translations.allUsers=t("ip.moduleList.allUsers"),this.translations.inputPlaceholder=t("ip.editModule.rolesSelector.inputPlaceholder"),this.translations.noResults=t("ip.editModule.rolesSelector.noResults"),this.translations.suggestionsAvailable=t("ip.editModule.rolesSelector.suggestionsAvailable"),a.default.createElement("div",{className:"role-picker-container"},a.default.createElement(l.TagPicker,{horizontalLayout:!0,componentRef:function(t){e.picker=t},disabledPickerItems:this.state.disabledPickerItems,onEmptyInputFocus:this.onEmptyInputFocus,onChange:this.onSelectedChange,onResolveSuggestions:this.onFilterChanged,selectedItems:this.state.selectedItems.length?this.state.selectedItems:this.allUsers(),isLoading:this.state.isLoading,getItemAddedStatusMessage:this.getItemAddedStatusMessage,removeButtonAriaLabel:this.removeButtonAriaLabel,pickerSuggestionsProps:{noResultsFoundText:this.translations.noResults,suggestionsAvailableAlertText:this.translations.suggestionsAvailable},inputLabel:this.translations.inputPlaceholder,analyticsId:this.props.analyticsId+".tagPicker"}))},t}(a.default.Component);t.BaseRolePicker=m,m.propTypes=i.__assign({role:c.default.isRequired,institutionRoleIds:o.default.arrayOf(o.default.string).isRequired,expandRoles:o.default.bool.isRequired,onUpdateInstitutionRoleIds:o.default.func.isRequired,localize:d.default.isRequired},u.withAnalyticsProps);var _=r.localizedComponentWrapper(m);t.LocalizedRolePicker=_,t.default=s.withAnalytics(_)},mFPq:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n("D57K"),a=i.__importDefault(n("ERkP")),o=i.__importDefault(n("aWzz")),r=i.__importDefault(n("O94r")),l=n("8unJ"),s=n("myse"),u=n("f16b"),d=i.__importDefault(n("bA9G")),c=n("iOHJ"),f=n("7ONb");n("ucOn");var p=function(e){function t(t){var n=e.call(this,t)||this;return n.state={disableTabIndex:t.disableLinks?{tabIndex:-1}:{}},n.boundConvertLinkToListItem=n.convertLinkToListItem.bind(n),n.boundOpenAllWrapper=n.openAllWrapper.bind(n),n}return i.__extends(t,e),t.prototype.openAllWrapper=function(e){this.props.disableLinks||(e.preventDefault(),this.props.openAll(this.props.moduleId))},t.prototype.changeActiveLinkIdWrapper=function(e,t){t<this.props.maxActiveLinkIndex&&this.props.changeActiveLinkId(e)},t.prototype.singleLinkClassName=function(e){return r.default({"disable-link":this.props.disableLinks,"link-list-component__link":!0,"-black":!0,active:this.props.maxActiveLinkIndex>1&&e===this.props.activeLinkIndex})},t.prototype.convertLinkToListItem=function(e,t){var n=this,o=this.props.analyticsId+".link";return a.default.createElement("li",{className:"link-list-component__list-item",key:e.id},a.default.createElement("a",i.__assign({},this.props.disableLinks?{}:{href:f.sanitizeLinkUrl(e.link)},{rel:"noopener noreferrer",target:"_blank",role:"link"},this.state.disableTabIndex,{className:this.singleLinkClassName(t),onMouseMove:function(){return n.changeActiveLinkIdWrapper(e.id,t)},onFocus:function(){return n.changeActiveLinkIdWrapper(e.id,t)},onClick:this.props.analyticsEventAugmentor(s.AnalyticsEventTypes.CLICK_EVENT,(function(){}),o),"data-analytics-id":o}),e.title))},t.prototype.render=function(){for(var e=this.props,t=e.maxColumns,n=e.disableLinks,o=e.customClasses,l=e.localize,u=e.items,d=e.analyticsId,f=e.analyticsEventAugmentor,p=i.__spreadArrays(u),m=[],_=1;_<t&&p.length>c.MAX_LINKS_PER_COLUMN;_++)m.push(a.default.createElement("div",{className:"link-list-component__column",key:_},a.default.createElement("ul",{className:"link-list-component__list"},p.splice(0,c.MAX_LINKS_PER_COLUMN).map(this.boundConvertLinkToListItem))));var g=p.length>c.MAX_LINKS_PER_COLUMN,h=r.default({"disabled-view-all":n,"link-list-component__link":!0,"link-list-component__show-all-button":!0}),v=d+".view-all.button",y=g?a.default.createElement("li",{className:"link-list-component__list-item js-show-all-list-item"},a.default.createElement("button",i.__assign({},this.state.disableTabIndex,{"aria-disabled":n,className:h,onClick:f(s.AnalyticsEventTypes.CLICK_EVENT,this.boundOpenAllWrapper,v),"data-analytics-id":v}),a.default.createElement("span",{className:"link-list-component__show-all"},l.translate("ip.moduleList.showAllText",{linkCount:u.length})))):"",b=(g?p.slice(0,c.MAX_LINKS_PER_COLUMN-1):p).map(this.boundConvertLinkToListItem),E=a.default.createElement("div",{className:"link-list-component__column"},a.default.createElement("ul",{className:"link-list-component__list"},b,y)),I=o?"link-list-component "+o:"link-list-component";return a.default.createElement("div",{className:I},m,E)},t.getDerivedStateFromProps=function(e,t){var n=null;return e.disableLinks&&!t.disableTabIndex.tabIndex?n={disableTabIndex:{tabIndex:-1}}:!e.disableLinks&&t.disableTabIndex.tabIndex&&(n={disableTabIndex:{}}),n},t}(a.default.Component);t.BaseLinkList=p,p.propTypes=i.__assign({activeLinkIndex:o.default.number,items:o.default.arrayOf(o.default.shape({title:o.default.string.isRequired,link:o.default.string.isRequired,id:o.default.string.isRequired})).isRequired,openAll:o.default.func,changeActiveLinkId:o.default.func,maxActiveLinkIndex:o.default.number,moduleId:o.default.string,disableLinks:o.default.bool,maxColumns:o.default.oneOf([c.NUM_LINK_COLUMNS_WITH_IMAGE,c.NUM_LINK_COLUMNS_WITHOUT_IMAGE]),customClasses:o.default.string,localize:d.default.isRequired},u.withAnalyticsProps),p.defaultProps={activeLinkIndex:-1,disableLinks:!1,openAll:function(){},changeActiveLinkId:function(){},maxActiveLinkIndex:-1,moduleId:null,maxColumns:c.NUM_LINK_COLUMNS_WITH_IMAGE,customClasses:null};var m=l.localizedComponentWrapper(p);t.LocalizedLinkList=m,t.default=s.withAnalytics(m)},mWAx:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},a=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=function(e,t,n){for(var i=!0;i;){var a=e,o=t,r=n;i=!1,null===a&&(a=Function.prototype);var l=Object.getOwnPropertyDescriptor(a,o);if(void 0!==l){if("value"in l)return l.value;var s=l.get;if(void 0===s)return;return s.call(r)}var u=Object.getPrototypeOf(a);if(null===u)return;e=u,t=o,n=r,i=!0,l=u=void 0}};function r(e){return e&&e.__esModule?e:{default:e}}var l=r(n("ERkP")),s=r(n("aWzz")),u=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),o(Object.getPrototypeOf(t.prototype),"constructor",this).apply(this,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),a(t,[{key:"render",value:function(){var e=this.props,t=e.className,n=e.size,a=e.children,o=function(e,t){var n={};for(var i in e)t.indexOf(i)>=0||Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i]);return n}(e,["className","size","children"]),r=["fa-stack"];n&&r.push("fa-"+n),t&&r.push(t);var s=r.join(" ");return l.default.createElement("span",i({},o,{className:s}),a)}}],[{key:"propTypes",value:{className:s.default.string,size:s.default.oneOf(["lg","2x","3x","4x","5x"]),children:s.default.node.isRequired},enumerable:!0}]),t}(l.default.Component);t.default=u,e.exports=t.default},mbH0:function(e,t){e.exports='<svg id="icon-small-trash" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" enable-background="new 0 0 16 16"><g stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" fill="none"><path d="M5.033 4.736l.89 8.9M10.967 4.736l-.89 8.9M8 4.736v8.9"></path></g><path stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" d="M13.934 2.956l-1.52 11.284c-.054.674-.628 1.268-1.343 1.268H4.855c-.715 0-1.29-.595-1.342-1.268L2.066 2.956" fill="none"></path><path stroke-linejoin="round" stroke-miterlimit="10" d="M5.5 2.5V1.465c0-.55.448-.995 1-.995h3c.552 0 1 .446 1 .995V2.5" fill="none"></path><path stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" fill="none" d="M.5 2.49l15 .02"></path></svg>'},mjNg:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n("D57K").__importDefault(n("3SOn"));t.default=i.default},nBnM:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n("D57K"),a=i.__importDefault(n("ERkP")),o=i.__importDefault(n("aWzz")),r=n("4gyk"),l=n("8unJ"),s=n("myse"),u=n("f16b"),d=n("2lnG"),c=n("xK1l"),f=i.__importDefault(n("Y/Sv")),p=i.__importDefault(n("6fMO")),m=i.__importDefault(n("4M3I")),_=i.__importDefault(n("nH+s")),g=i.__importDefault(n("hR7O")),h=i.__importDefault(n("bA9G")),v=i.__importDefault(n("6wo1")),y=n("7ONb");n("b2TE");var b=i.__importDefault(n("mbH0")),E=i.__importDefault(n("Bt0e")),I=n("N5Iw");function D(e,t,n){var i=e.session,a=e.imageToSave,o=i.image||null,r=!1,l="",s="";return o&&(r=!!o.details[t],l=a?a.url:o.details[t],s=a?a.id:o.details[n]),{resource:o,imageUrl:l,imageId:s,enableTrashIcon:r,saveDisabled:!0,isShowPopup:!1,imageIsLoading:!1,imageIsError:!1}}var R=function(e){function t(t){var n=e.call(this,t)||this;return n.onInsertImage=function(){var e=n.state.imageUrl;if(e){var t=new Image;t.src=y.convertToAbsoluteUrl(e),n.setState({imageIsLoading:!0}),t.onload=function(){var t=e;n.setState((function(e){var a;return{resource:i.__assign(i.__assign({},e.resource),{details:i.__assign(i.__assign({},e.resource.details),(a={},a[n.hrefKey]=t,a[n.imageIdKey]=e.imageId,a))}),saveDisabled:!1,imageIsLoading:!1,enableTrashIcon:!0}}))},t.onerror=function(){n.setState({imageIsError:!0,imageIsLoading:!1,imageUrl:""})}}},n.onPopupOk=function(){n.setState((function(e){var t;return{resource:i.__assign(i.__assign({},e.resource),{details:i.__assign(i.__assign({},e.resource.details),(t={},t[n.hrefKey]="",t[n.imageIdKey]="",t))}),saveDisabled:!1,isShowPopup:!1,enableTrashIcon:!1,imageUrl:"",imageId:""}}))},n.onPopupCancel=function(){n.setState({isShowPopup:!1})},n.onInputChange=function(e){e.target.value.trim(),n.setState({imageUrl:e.target.value})},n.onCloseError=function(){n.setState({imageIsError:!1,imageUrl:"",imageId:""})},n.clickDeleteOnPreview=function(){n.setState({isShowPopup:!0})},n.clickSave=function(){n.props.dispatch(d.setSessionImage(n.state.resource)),n.props.onClose()},n.clickCancel=function(){n.props.onClose()},n.hrefKey="imageHref",n.imageIdKey="imageId",n.state=D(t,n.hrefKey,n.imageIdKey),n}return i.__extends(t,e),t.prototype.componentDidMount=function(){this.props.imageToSave&&this.state.imageUrl&&this.onInsertImage()},t.prototype.componentWillReceiveProps=function(e){e.session.image&&e.session.image.id!==e.linkId&&e.onClose(),null===this.state.resource&&this.setState(D(e,this.hrefKey)),e.imageToSave&&e.imageToSave.url!==this.state.imageUrl&&this.setState((function(){return{imageUrl:e.imageToSave.url,imageId:e.imageToSave.id}}),this.onInsertImage)},t.prototype.render=function(){var e=this,t="institutionPage.editImage.resource",n=this.props.localize.translate,i=this.state,o=i.resource,l=i.enableTrashIcon?a.default.createElement("button",{className:"edit-image-component__delete-icon",onClick:this.props.analyticsEventAugmentor(s.AnalyticsEventTypes.CLICK_EVENT,this.clickDeleteOnPreview,"institutionPage.editImage.resource.deleteImage.button"),"data-analytics-id":"institutionPage.editImage.resource.deleteImage.button","aria-label":n("ip.editPage.deleteImageTitle")},a.default.createElement(E.default,{icon:b.default,size:"small"})):"",u=this.state.imageIsLoading?a.default.createElement("div",{className:"preview-loading"},a.default.createElement(r.Icon,{spin:!0,name:"spinner",size:"2x"})):"",d=[{text:n("ip.editPage.invalidImageBtn"),action:this.onCloseError}],_=o&&o.details[this.hrefKey]?y.convertToAbsoluteUrl(o.details[this.hrefKey]):I,g=this.props.imageToSave?n("ip.editPage.confirmRemoveImageContent"):n("ip.editPage.confirmRemoveImageContentWarning");return a.default.createElement("div",null,a.default.createElement("div",{className:"edit-image-component flex-page-container"},this.state.isShowPopup?a.default.createElement(c.ConfirmationPopup,{title:n("ip.editPage.confirmDeleteTitle"),id:"resource-image-delete-confirmation",content:g,onOk:this.onPopupOk,onOkText:n("ip.editPage.confirmDeleteBtn"),onCancel:this.onPopupCancel,onCancelText:n("ip.editPage.cancelDeleteBtn"),analyticsId:t+".confirmation.popup"}):"",this.state.imageIsError?a.default.createElement(c.CustomPopup,{title:n("ip.editPage.invalidImageSelectedTitle"),id:"edit-resource-image-error",content:n("ip.editPage.invalidImageSelectedContent"),onCancel:this.onCloseError,customControls:d,elementToFocusOnDismiss:this.contentCollectionLauncher,analyticsId:t+".error.popup"}):"",a.default.createElement("div",{className:"flex-page-content has-footer"},a.default.createElement(f.default,{superTitle:n("ip.editPage.superTitle"),title:n("ip.editPage.editLinkImage"),browserSettingsHref:this.props.contentCollectionSettings.browserSettingsHref,analyticsId:t+".header"}),a.default.createElement("div",{className:"flex-page-content__grow edit-image-component__content"},a.default.createElement("div",{className:"edit-image-component__preview"},l,u,a.default.createElement("img",{className:"edit-image-component__preview-img",src:_,alt:""})),a.default.createElement("div",{className:"edit-image-component__content-collection"},a.default.createElement(m.default,{customClasses:"edit-logo-component__content_collection_button",contentCollectionSettings:this.props.contentCollectionSettings,focusRef:function(t){e.contentCollectionLauncher=t},analyticsId:t+".content.launcher"}),!this.state.saveDisabled&&this.state.imageUrl&&a.default.createElement("div",{role:"alert","aria-live":"assertive",className:"edit-image-component__content-collection-warning",id:"edit-image-component-content-collection-warning"},n("ip.editPage.contentCollectionResourcePermissionMessage")))))),a.default.createElement(p.default,{clickPrimary:this.clickSave,disabledPrimary:this.state.saveDisabled,textPrimary:n("ip.editPage.saveChangesBtn"),ariaPrimary:n("ip.editPage.saveChangesAria"),clickSecondary:this.clickCancel,textSecondary:n("ip.editPage.cancelChangesBtn"),ariaSecondary:n("ip.editPage.cancelChangesAria"),analyticsId:t+".footer"}))},t}(a.default.Component);R.propTypes=i.__assign({dispatch:o.default.func.isRequired,linkId:o.default.string,session:v.default.isRequired,localize:h.default.isRequired,onClose:o.default.func.isRequired,contentCollectionSettings:g.default,imageToSave:_.default},u.withAnalyticsProps),R.defaultProps={linkId:null,imageToSave:null,contentCollectionSettings:null};var P=l.localizedComponentWrapper(R);t.LocalizedEditResourceImage=P,t.default=s.withAnalytics(P)},"nH+s":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n("D57K").__importDefault(n("aWzz"));t.default=i.default.shape({url:i.default.string.isRequired,id:i.default.string.isRequired})},"nZ3+":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n("D57K"),a=i.__importDefault(n("ERkP")),o=i.__importDefault(n("aWzz")),r=n("8unJ"),l=n("myse"),s=n("f16b"),u=i.__importDefault(n("8W9E")),d=i.__importDefault(n("mFPq")),c=i.__importDefault(n("rB6G")),f=i.__importDefault(n("D3Id")),p=n("iOHJ"),m=i.__importDefault(n("BnC3")),_=i.__importDefault(n("vlH4")),g=n("2lnG"),h=n("7ONb");n("MRKp");var v=function(e){function t(t){var n=e.call(this,t)||this;n.onChangeActiveLinkId=function(e){return n.setState((function(){return{activeLinkIndex:n.getLinkIndexById(e)}}))},n.getLinkResources=function(e){return e.reduce((function(e,t){return t.type===c.default.LINK&&e.push({imageHref:t.details.imageHref||"",link:t.details.href,title:t.details.title,id:t.id}),e}),[])},n.getLinkResourcesWithImage=function(e){return e.filter((function(e){return e.imageHref}))},n.getLinkIndexById=function(e){return n.state.linkResources.map((function(e){return e.id})).indexOf(e)},n.openAllLinksPeek=function(e){var t=n.props,i=t.openAll;return(0,t.dispatch)(g.checkModuleVisibility(e)).then((function(){i(e)})).catch((function(e){if(e!==_.default.GET_MODULE_VISIBILITY)throw e}))};var i=n.getLinkResources(t.module.resources),a=n.getLinkResourcesWithImage(i),o=a.length?0:-1;return n.state={activeLinkIndex:o,linkResources:i,linkResourcesWithImage:a},n}return i.__extends(t,e),t.prototype.componentWillReceiveProps=function(e){if(!r.shallowEqual(e.module.resources,this.props.module.resources)){var t=this.getLinkResources(e.module.resources),n=this.getLinkResourcesWithImage(t),i=this.state.activeLinkIndex;-1===i&&n.length?i=0:i>=0&&!n.length&&(i=-1),this.setState((function(){return{activeLinkIndex:i,linkResources:t,linkResourcesWithImage:n}}))}},t.prototype.render=function(){var e=this.props,t=e.module,n=e.analyticsId;switch(h.determineImageOrientation(t)){case f.default.RIGHT:return a.default.createElement("div",{className:"image-links-component__container-right"},a.default.createElement(d.default,{activeLinkIndex:this.state.activeLinkIndex,items:this.state.linkResources,openAll:this.openAllLinksPeek,changeActiveLinkId:this.onChangeActiveLinkId,maxActiveLinkIndex:this.state.linkResourcesWithImage.length,moduleId:t.id,disableLinks:this.props.preview,customClasses:"link-list-image-right",analyticsId:n+".imageOrientationRight.linkList"}),a.default.createElement(u.default,{images:this.state.linkResourcesWithImage,index:this.state.activeLinkIndex}));case f.default.NONE:return a.default.createElement("div",{className:"image-links-component__container"},a.default.createElement(d.default,{items:this.state.linkResources,openAll:this.openAllLinksPeek,moduleId:t.id,disableLinks:this.props.preview,maxColumns:p.NUM_LINK_COLUMNS_WITHOUT_IMAGE,customClasses:"link-list-no-image",analyticsId:n+".imageOrientationNone.linkList"}));default:return a.default.createElement("div",{className:"image-links-component__container-left"},a.default.createElement(u.default,{images:this.state.linkResourcesWithImage,index:this.state.activeLinkIndex}),a.default.createElement(d.default,{activeLinkIndex:this.state.activeLinkIndex,items:this.state.linkResources,openAll:this.openAllLinksPeek,changeActiveLinkId:this.onChangeActiveLinkId,maxActiveLinkIndex:this.state.linkResourcesWithImage.length,moduleId:t.id,disableLinks:this.props.preview,customClasses:"link-list-image-left",analyticsId:n+".imageOrientationLeft.linkList"}))}},t}(a.default.Component);t.BaseImageLinksModule=v,v.propTypes=i.__assign({module:m.default.isRequired,dispatch:o.default.func.isRequired,openAll:o.default.func.isRequired,preview:o.default.bool},s.withAnalyticsProps),v.defaultProps={preview:!1};var y=l.withAnalytics(v);t.default=y},o5pc:function(e,t,n){},oA99:function(e,t,n){},oIhF:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n("D57K").__importDefault(n("cvLf"));t.default=i.default},pXEe:function(e,t,n){},q6cp:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n("FzJq"),a=n("wg1p");t.START_ROLE_XHR="role.start.xhr",t.ROLES_RECEIVED="role.received",t.FETCH_ROLES="role.get.all",t.startRoleXhr=function(){return{type:t.START_ROLE_XHR}},t.rolesReceived=function(e){return{type:t.ROLES_RECEIVED,roles:e}},t.fetchRoles=function(){return function(e){return i.getRoles().then((function(n){return e(t.rolesReceived(n))})).catch((function(n){return e(a.Action(a.fail(t.FETCH_ROLES),{err:n}))}))}}},qrct:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n("D57K"),a=n("2lnG"),o={loading:!0,roles:null};t.default=function(e,t){if(void 0===e&&(e=o),t.type.startsWith("role.")&&t.type.endsWith(".fail"))return i.__assign(i.__assign({},e),{loading:!1});switch(t.type){case a.ROLES_RECEIVED:return i.__assign(i.__assign({},e),{roles:t.roles,loading:!1});case a.START_ROLE_XHR:return i.__assign(i.__assign({},e),{loading:!0});default:return e}}},r3nL:function(e,t,n){},r9mI:function(e,t,n){},rB6G:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={LINK:"LINK",IMAGE:"IMAGE",CONTENT:"CONTENT",LAYOUT:"LAYOUT"}},raco:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n("D57K"),a=i.__importDefault(n("ERkP")),o=i.__importDefault(n("aWzz")),r=n("MC1S"),l=i.__importDefault(n("dBOD")),s=n("f16b"),u=function(e){var t=e.content,n=e.id,i=e.title,o=e.customControls,s=e.onCancel,u=e.elementToFocusOnDismiss,d=e.analyticsId,c=function(e){return function(t){e.action(t)}};return a.default.createElement(l.default,{content:t,id:n,title:i,onCancel:s,elementToFocusOnDismiss:u,analyticsId:""+d},a.default.createElement(r.DialogFooter,null,o.map((function(e,t){return a.default.createElement(r.DefaultButton,{key:e.text,onClick:c(e),text:e.text,primary:t===o.length-1,className:"js-"+e.id+"-button",analyticsId:d+"."+e.text+".button"})}))))};u.propTypes=i.__assign({content:o.default.oneOfType([o.default.string,o.default.element]).isRequired,id:o.default.string.isRequired,title:o.default.string.isRequired,customControls:o.default.arrayOf(o.default.shape({action:o.default.func,text:o.default.string})).isRequired,onCancel:o.default.func,elementToFocusOnDismiss:o.default.element},s.addAnalyticsProps),u.defaultProps={onCancel:function(){},elementToFocusOnDismiss:null},t.default=u},"s/PA":function(e,t,n){},s4yx:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},a=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=function(e,t,n){for(var i=!0;i;){var a=e,o=t,r=n;i=!1,null===a&&(a=Function.prototype);var l=Object.getOwnPropertyDescriptor(a,o);if(void 0!==l){if("value"in l)return l.value;var s=l.get;if(void 0===s)return;return s.call(r)}var u=Object.getPrototypeOf(a);if(null===u)return;e=u,t=o,n=r,i=!0,l=u=void 0}};function r(e){return e&&e.__esModule?e:{default:e}}var l=r(n("ERkP")),s=r(n("aWzz")),u=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),o(Object.getPrototypeOf(t.prototype),"constructor",this).apply(this,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),a(t,[{key:"render",value:function(){var e=this.props,t=e.Component,n=e.name,a=e.size,o=e.rotate,r=e.flip,s=e.spin,u=e.fixedWidth,d=e.stack,c=e.inverse,f=e.pulse,p=e.className,m=function(e,t){var n={};for(var i in e)t.indexOf(i)>=0||Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i]);return n}(e,["Component","name","size","rotate","flip","spin","fixedWidth","stack","inverse","pulse","className"]),_="fa fa-"+n;return a&&(_=_+" fa-"+a),o&&(_=_+" fa-rotate-"+o),r&&(_=_+" fa-flip-"+r),u&&(_+=" fa-fw"),s&&(_+=" fa-spin"),f&&(_+=" fa-pulse"),d&&(_=_+" fa-stack-"+d),c&&(_+=" fa-inverse"),p&&(_=_+" "+p),l.default.createElement(t,i({},m,{className:_}))}}],[{key:"propTypes",value:{name:s.default.string.isRequired,className:s.default.string,size:s.default.oneOf(["lg","2x","3x","4x","5x"]),rotate:s.default.oneOf(["45","90","135","180","225","270","315"]),flip:s.default.oneOf(["horizontal","vertical"]),fixedWidth:s.default.bool,spin:s.default.bool,pulse:s.default.bool,stack:s.default.oneOf(["1x","2x"]),inverse:s.default.bool,Component:s.default.oneOfType([s.default.string,s.default.func])},enumerable:!0},{key:"defaultProps",value:{Component:"span"},enumerable:!0}]),t}(l.default.Component);t.default=u,e.exports=t.default},sTma:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.areRolesValid=function(e,t){for(var n=function(n){if(!t.some((function(t){return t.roleKey===e[n]})))return{value:!1}},i=0;i<(e||[]).length;i++){var a=n(i);if("object"==typeof a)return a.value}return!0},t.filterValidRoles=function(e,t){return e.reduce((function(e,n){var i=(t||[]).find((function(e){return e.roleKey===n}));return i&&e.push({key:i.roleKey,name:i.roleName}),e}),[])},t.generateAudienceLabel=function(e,t,n,i){var a;switch((e||[]).length){case 0:a=n;break;case 1:a=function(e,t){var n=(t||[]).find((function(t){return t.roleKey===e}));return n&&n.roleName||e}(e[0],t);break;default:a=i}return a}},skTy:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={Error:"Error",FilePermissionUpdateError:"FilePermissionUpdateError",NotFoundError:"NotFoundError"}},u60F:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n("D57K"),a=i.__importDefault(n("ERkP")),o=i.__importDefault(n("aWzz")),r=n("myse"),l=n("f16b");n("o5pc");var s=function(e){var t=e.ariaPrimary,n=e.clickPrimary,i=e.disabledPrimary,o=e.textPrimary,l=e.ariaSecondary,s=e.clickSecondary,u=e.disabledSecondary,d=e.textSecondary,c=e.analyticsId;return a.default.createElement("footer",{className:"panel-footer-component"},a.default.createElement("div",{className:"panel-footer-component__buttons"},a.default.createElement("button",{className:"button button--secondary panel-footer-component__button",onClick:r.useAnalyticsAugmentEventOnElement("click",s,c+"."+d+".button"),disabled:u,"aria-label":l},d),a.default.createElement("button",{className:"button button--primary panel-footer-component__button",onClick:r.useAnalyticsAugmentEventOnElement("click",n,c+"."+o+".button"),disabled:i,"aria-label":t},o)))};s.propTypes=i.__assign({ariaPrimary:o.default.string.isRequired,clickPrimary:o.default.func.isRequired,disabledPrimary:o.default.bool,textPrimary:o.default.string.isRequired,ariaSecondary:o.default.string.isRequired,clickSecondary:o.default.func.isRequired,disabledSecondary:o.default.bool,textSecondary:o.default.string.isRequired},l.addAnalyticsProps),s.defaultProps={disabledPrimary:!1,disabledSecondary:!1},t.default=s},ucOn:function(e,t,n){},uxYL:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n("D57K"),a=i.__importDefault(n("aWzz")),o=i.__importDefault(n("BnC3"));t.default=a.default.shape({loading:a.default.bool.isRequired,modules:a.default.arrayOf(o.default),receivedAt:a.default.number})},v8Bx:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n("D57K"),a=i.__importDefault(n("ERkP")),o=i.__importDefault(n("aWzz")),r=i.__importDefault(n("O94r")),l=n("myse"),s=n("8unJ"),u=i.__importDefault(n("aqxk")),d=i.__importDefault(n("bA9G")),c=i.__importDefault(n("d1Rw")),f=n("YxpF"),p=i.__importDefault(n("mjNg")),m=n("7ONb"),_=i.__importDefault(n("GUmi")),g=i.__importDefault(n("mbH0")),h=i.__importDefault(n("Bt0e")),v=n("f16b"),y=function(e){function t(t){var n=e.call(this,t)||this;return n.validateLinkNameInput=function(e){return n.props.onValidateInput(e,n.translations.linkNamePlaceholder,n.translations.validateTooLongMessage)},n.validateLinkNameInput=function(e){return n.props.onValidateInput(e,n.translations.linkNamePlaceholder,n.translations.validateTooLongMessage)},n.validateLinkURLInput=function(e){return m.validateIsEmpty(e,n.translations.linkURLPlaceholder)},n.handleAddLinkButtonClick=function(e){return n.props.onInsertLink(e,n.props.rowIndex+1+n.props.offset)},n.handleDeleteButtonClick=function(e){return n.props.onDelete(e,n.props.link.id)},n.handleOpenEditLinkImageButtonClick=function(e){return n.props.onOpenEditLinkImage(e,n.props.link)},n.handleDeleteLinkImageButtonClick=function(e){return n.props.onDeleteEditLinkImage(e,n.props.link.id)},n.translations={},n}return i.__extends(t,e),t.prototype.render=function(){var e=this.props,t=e.link,n=e.dragPointRef,i=e.localize,o=e.canBeReordered,s=e.onUpdateResource,d=e.hasMaxImages,c=e.isImageColVisible,m=e.analyticsId,v=e.analyticsEventAugmentor,y=i.translate;this.translations.validateTooLongMessage=y("ip.editModule.validateTooLongMessage"),this.translations.linkNamePlaceholder=y("ip.editModule.linkNamePlaceholder"),this.translations.linkURLPlaceholder=y("ip.editModule.linkURLPlaceholder"),this.translations.createLinkBtn=y("ip.editModule.createLinkBtn");var b=t.details.title,E=r.default({"module-table__button":!0,"drag-point":!0,hidden:!o});return a.default.createElement("div",{className:"module-table__row-container",id:"dnd-"+t.id,key:t.id},a.default.createElement("div",{className:"module-table__row module-content__row drag-drop-item__highlight-area",tabIndex:-1},a.default.createElement("div",{className:"module-table__cells module-content__cells"},c&&a.default.createElement(p.default,{link:t,hasMaxImages:d,handleOpenEditLinkImageButtonClick:this.handleOpenEditLinkImageButtonClick,handleDeleteLinkImageButtonClick:this.handleDeleteLinkImageButtonClick,buttonTitle:b,analyticsId:m+".imageEdit"}),a.default.createElement("div",{className:"module-table__cell module-content__name-column"},a.default.createElement(u.default,{id:t.id,content:t.details.title,attr:"title",buttonTitle:y("ip.editModule.editLinkName",{linkName:b}),onValueChange:s,onValidateInput:this.validateLinkNameInput,placeholder:this.translations.linkNamePlaceholder,analyticsId:m+".titleEdit"})),a.default.createElement("div",{className:"module-table__cell module-content__url-column"},a.default.createElement(u.default,{id:t.id,content:t.details.href,attr:"href",buttonTitle:y("ip.editModule.editLinkURL",{linkName:b}),onValueChange:s,onValidateInput:this.validateLinkURLInput,placeholder:this.translations.linkURLPlaceholder,analyticsId:m+".urlEdit"}))),a.default.createElement("div",{className:"module-table__row-actions module-content__buttons"},a.default.createElement("div",{ref:n,className:E,draggable:!0,role:"button",tabIndex:"0",id:t.id+"-drag-point","aria-label":y("ip.editModule.moveLinkBtn",{linkName:b})},a.default.createElement(h.default,{icon:_.default,size:"small"})),a.default.createElement("button",{onClick:v(l.AnalyticsEventTypes.CLICK_EVENT,this.handleDeleteButtonClick,m+".delete-item.button"),className:"module-table__button","aria-label":y("ip.editModule.deleteLinkBtn",{linkName:b})},a.default.createElement(h.default,{icon:g.default,size:"small"})))),a.default.createElement(f.InsertButton,{onClick:this.handleAddLinkButtonClick,buttonTitle:this.translations.createLinkBtn,analyticsId:""+m}))},t}(a.default.Component);t.BaseLinkResourceRow=y,y.defaultProps={offset:0,onDeleteEditLinkImage:function(){},onOpenEditLinkImage:function(){},hasMaxImages:!1,isImageColVisible:!0},y.propTypes=i.__assign({link:c.default.isRequired,rowIndex:o.default.number.isRequired,offset:o.default.number,localize:d.default.isRequired,canBeReordered:o.default.bool.isRequired,onDelete:o.default.func.isRequired,onUpdateResource:o.default.func.isRequired,onInsertLink:o.default.func.isRequired,onDeleteEditLinkImage:o.default.func,onOpenEditLinkImage:o.default.func,onValidateInput:o.default.func.isRequired,dragPointRef:o.default.func.isRequired,hasMaxImages:o.default.bool,isImageColVisible:o.default.bool},v.withAnalyticsProps);var b=s.localizedComponentWrapper(y);t.LocalizedLinkResourceRow=b,t.default=l.withAnalytics(b)},vlH4:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={UPDATE_PAGES:"updatePages failure",GET_MODULE_VISIBILITY:"getModuleVisibility failure"}},w35b:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n("D57K"),a=i.__importDefault(n("ERkP")),o=i.__importDefault(n("aWzz")),r=n("8unJ"),l=n("myse"),s=n("f16b"),u=i.__importDefault(n("hR7O")),d=i.__importDefault(n("bA9G")),c=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i.__extends(t,e),t.prototype.render=function(){var e=this.props,t=e.contentCollectionSettings,n=e.customClasses,i=e.localize,o=e.focusRef,r=e.analyticsId,s=e.analyticsEventAugmentor,u=i.translate,d=r+".insertFromCollection.link",c=r+".insertFromCollection.button";return t.shouldShowWindowSettingModal?a.default.createElement("button",{className:"button button--primary "+n,onClick:s(l.AnalyticsEventTypes.CLICK_EVENT,t.openWindowSettingModal,c),"data-analytics-id":c,"aria-label":u("ip.editPage.insertFromContentCollectionAria"),ref:o},u("ip.editPage.insertFromContentCollectionBtn")):a.default.createElement("a",{className:"button button--primary "+n,href:t.pickerHref,target:t.shouldOpenInNewWindow?"_blank":"","aria-label":u("ip.editPage.insertFromContentCollectionAria"),ref:o,onClick:s(l.AnalyticsEventTypes.CLICK_EVENT,(function(){}),d),"data-analytics-id":d},u("ip.editPage.insertFromContentCollectionBtn"))},t}(a.default.Component);t.BaseContentCollectionLauncher=c,c.propTypes=i.__assign({contentCollectionSettings:u.default.isRequired,customClasses:o.default.string,localize:d.default.isRequired,focusRef:o.default.func},s.withAnalyticsProps),c.defaultProps={customClasses:"",focusRef:function(){}};var f=r.localizedComponentWrapper(c);t.LocalizedContentCollectionLauncher=f,t.default=l.withAnalytics(f)},wTRC:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n("D57K").__importDefault(n("2xZF"));t.default=i.default},wg1p:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n("D57K");t.Action=function(e,t){return i.__assign({type:e},t)},t.ok=function(e){return e+".ok"},t.fail=function(e){return e+".fail"}},wgJx:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n("D57K"),a=i.__importDefault(n("ERkP")),o=i.__importDefault(n("aWzz")),r=n("uDfI"),l=n("7ONb"),s=i.__importDefault(n("uxYL")),u=i.__importDefault(n("bLwh")),d=i.__importDefault(n("GRnb")),c=n("2lnG");t.default=function(e){var t=function(t){function n(){var e=null!==t&&t.apply(this,arguments)||this;return e.getCurrentModule=function(e,t){var n=e?e.filter((function(e){return e.id===t})):[];return n.length>0?n[0]:null},e.saveModule=function(t){var n={moduleId:t.id};return n.module=t,e.props.dispatchStartModuleXhr(),e.props.dispatchUpdateModule(n)||Promise.resolve()},e}return i.__extends(n,t),n.prototype.render=function(){var t=this.getCurrentModule(this.props.moduleList.modules,this.props.moduleId);return a.default.createElement("div",{className:"existing-module-loader"},!t||this.props.moduleList.loading?a.default.createElement(d.default,null):a.default.createElement(e,i.__assign({module:t,role:this.props.role,saveModule:this.saveModule},l.omit(this.props,"moduleList","moduleId","dispatchStartModuleXhr","dispatchUpdateModule"))))},n}(a.default.Component);t.propTypes={moduleList:s.default.isRequired,role:u.default.isRequired,moduleId:o.default.string.isRequired,dispatchStartModuleXhr:o.default.func.isRequired,dispatchUpdateModule:o.default.func.isRequired},t.displayName="ExistingModule("+l.getDisplayName(e)+")";return r.connect((function(e){return{moduleList:e.module,role:e.role,session:e.session}}),(function(e){return{dispatch:e,dispatchStartModuleXhr:function(){return e(c.startModuleXhr())},dispatchUpdateModule:function(t){return e(c.updateModule(t))}}}))(t)}},whYV:function(e,t,n){},xK1l:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n("D57K"),a=i.__importDefault(n("6ZFR"));t.ConfirmationPopup=a.default;var o=i.__importDefault(n("raco"));t.CustomPopup=o.default},"xNW+":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n("D57K").__importDefault(n("8iF6"));t.default=i.default},yCqE:function(e,t,n){},yaUO:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n("D57K").__importDefault(n("N0gT"));t.default=i.default},yeoA:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n("9wzl");t.SessionModuleSelector=i.default;var a=n("wgJx");t.ExistingModuleSelector=a.default},zeob:function(e,t,n){}}]);