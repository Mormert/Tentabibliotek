(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{"/ugB":function(e,t){e.exports='<bb-telemetry-chart ng-if="telemetry.showData"\n                    chart-config="telemetry.chart"\n                    reflow-chart-on="reflowChartOn()"\n                    table-config="telemetry.table"\n                    course="course()"\n                    selected-user="user()"\n                    filename-suffix="a"\n                    can-view-all-user-data="canViewAllUserData()"\n                    class="telemetry-time-series">\n  \x3c!-- Activity time-series table --\x3e\n  <div st-table="rows" st-safe-src="telemetry.table.rows" class="activity-time-series-table">\n    <table class="fs-table table table-striped">\n      <thead>\n      <tr>\n        <th id="my-activity-date-header"\n            scope="col"\n            class="telemetry-sortable"\n            st-sort="date"\n            st-skip-natural="true"\n            st-sort-default="true" >\n            <span role="button" tabindex="0">\n              <bb-translate>components.directives.telemetry.table.dateColumn</bb-translate>\n              <span id="my-activity-date-header-asc">\n                <span class="sr-only" bb-translate>components.directives.telemetry.table.ascendingOrder</span>\n              </span>\n              <span id="my-activity-date-header-desc">\n                <span class="sr-only" bb-translate>components.directives.telemetry.table.descendingOrder</span>\n              </span>\n            </span>\n        </th>\n        <th scope="col" bb-translate>components.directives.telemetry.table.classActivityColumn</th>\n        <th scope="col" bb-translate>components.directives.telemetry.table.classActivityConfidenceColumn</th>\n        <th scope="col" bb-translate>components.directives.telemetry.table.classActivityInstructor</th>\n      </tr>\n      </thead>\n      <tbody>\n      <tr ng-repeat="row in rows">\n        <td scope="row" class="date" bb-translate translate-values="{ value: row.date }">components.directives.telemetry.table.dateValue</td>\n        <td class="activity-class">\n          <span class="round" bb-translate translate-values="{ value: row.courseValue }">components.directives.telemetry.table.activityValue</span>\n        </td>\n        <td class="delta">\n          <span class="round" bb-translate translate-values="{ min: row.intervalMin, max: row.intervalMax }">components.directives.telemetry.table.activityValueRange</span>\n        </td>\n        <td class="activity">\n          <span class="round" bb-translate translate-values="{ value: row.studentValue }">components.directives.telemetry.table.activityValue</span>\n          <span class="deviation down" ng-if="::row.belowStdDev && row.diffFromInterval >= 0.01 " bb-translate translate-values="{ diff: row.diffFromInterval }">components.directives.telemetry.table.valueBelowInterval</span>\n          <span class="deviation up" ng-if="::row.aboveStdDev && row.diffFromInterval >= 0.01 " bb-translate translate-values="{ diff: row.diffFromInterval }">components.directives.telemetry.table.valueAboveInterval</span>\n        </td>\n      </tr>\n      </tbody>\n    </table>\n  </div>\n  <div class="telemetry-table-legend" ng-show="telemetry.table.hasDataOutsideInterval">\n    <div class="telemetry-table-legend-container">\n      <span class="legend-entry">\n      <span class="ci-icon above-ci-icon"></span>\n      <span class="ci-label" bb-translate>components.directives.telemetry.table.legendAboveCI</span>\n    </span>\n      <span class="legend-entry">\n      <span class="ci-icon below-ci-icon"></span>\n      <span class="ci-label" bb-translate>components.directives.telemetry.table.legendBelowCI</span>\n    </span>\n    </div>\n  </div>\n</bb-telemetry-chart>'},"1ovh":function(e,t,a){"use strict";var n=a("D57K"),i=a("nbDY"),s=a.n(i),r=a("7g5f"),o=a("/ugB"),l=function(e){function t(t,a){var n=e.call(this,t)||this;return n.templateHtml=a,n}return Object(n.__extends)(t,e),t.prototype.getTemplateHtml=function(){return this.templateHtml},t.Grades=new t("grades",r),t.Activity=new t("activity",o),t}(s.a);t.a=l},"7g5f":function(e,t){e.exports='<bb-telemetry-chart ng-if="telemetry.showData"\n                    chart-config="telemetry.chart"\n                    reflow-chart-on="reflowChartOn()"\n                    table-config="telemetry.table"\n                    course="course()"\n                    selected-user="user()"\n                    filename-suffix="g"\n                    can-view-all-user-data="canViewAllUserData()"\n                    y-axis-zoom-enabled="false"\n                    class="telemetry-time-series">\n  \x3c!-- Grade time-series table --\x3e\n  <div st-table="rows" st-safe-src="telemetry.table.rows" class="grade-time-series-table">\n    <table class="fs-table table table-striped">\n      <thead>\n      <tr>\n        <th id="my-grades-date-header"\n            scope="col"\n            class="telemetry-sortable"\n            st-sort="date"\n            st-skip-natural="true"\n            st-sort-default="true">\n            <span tabindex="0" role="button">\n              <bb-translate>components.directives.telemetry.table.dateColumn</bb-translate>\n              <span id="my-grades-date-header-asc">\n                <span class="sr-only" bb-translate>components.directives.telemetry.table.ascendingOrder</span>\n              </span>\n              <span id="my-grades-date-header-desc">\n                <span class="sr-only" bb-translate>components.directives.telemetry.table.descendingOrder</span>\n              </span>\n            </span>\n        </th>\n        <th scope="col" bb-translate>components.directives.telemetry.table.classGradeColumn</th>\n        <th scope="col" bb-translate>components.directives.telemetry.table.classGradeConfidenceColumn</th>\n        <th scope="col" bb-translate>components.directives.telemetry.table.classGradeInstructor</th>\n      </tr>\n      </thead>\n      <tbody>\n      <tr ng-repeat="row in rows">\n        <td scope="row" class="date" bb-translate translate-values="{ value: row.date }">components.directives.telemetry.table.dateValue</td>\n        <td class="grade-class">\n          <span class="round" bb-translate translate-values="{percentage: row.courseValue}">global.percentDecimal</span>\n        </td>\n        <td class="delta">\n          <span class="round" bb-translate translate-values="{ min: row.intervalMin, max: row.intervalMax }">components.directives.telemetry.table.gradeValueRange</span>\n        </td>\n        <td class="grade">\n          <div ng-if="::row.studentValue"><bb-display-simple-pill grade="{{ row.studentValue }}"></bb-display-simple-pill></div>\n          <div ng-if="::!row.studentValue"><bb-display-simple-pill grade="--"></bb-display-simple-pill></div>\n          <span class="deviation down" ng-if="::row.belowStdDev && row.diffFromInterval >= 0.01" bb-translate translate-values="{ diff: row.diffFromInterval }">components.directives.telemetry.table.valueBelowInterval</span>\n          <span class="deviation up" ng-if="::row.aboveStdDev && row.diffFromInterval >= 0.01" bb-translate translate-values="{ diff: row.diffFromInterval }">components.directives.telemetry.table.valueAboveInterval</span>\n        </td>\n      </tr>\n      </tbody>\n    </table>\n  </div>\n  <div class="telemetry-table-legend" ng-show="telemetry.table.hasDataOutsideInterval">\n    <div class="telemetry-table-legend-container">\n      <span class="legend-entry">\n      <span class="ci-icon above-ci-icon"></span>\n      <span class="ci-label" bb-translate>components.directives.telemetry.table.legendAboveCI</span>\n    </span>\n      <span class="legend-entry">\n      <span class="ci-icon below-ci-icon"></span>\n      <span class="ci-label" bb-translate>components.directives.telemetry.table.legendBelowCI</span>\n    </span>\n    </div>\n  </div>\n</bb-telemetry-chart>'},EtRF:function(e,t,a){"use strict";var n=a("D57K"),i=a("nbDY"),s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(n.__extends)(t,e),t.DEFAULT=new t("retention-center"),t.KUDOS=new t("kudos"),t.ALERT=new t("alert-error"),t}(a.n(i).a);t.a=s},r6lH:function(e,t,a){"use strict";a.d(t,"a",(function(){return m})),a.d(t,"b",(function(){return p}));var n=a("D57K"),i=a("nsO7"),s=a("wHJ2"),r=a("jhBu"),o=a("Sa5G"),l=a("0JpG"),c=a("pjml"),d=a("wgY5"),u=a("M+Ig"),y=a("+O05"),m="ultra.service.telemetry",p="telemetry",b=function(){function e(e,t,a,n,i,s,r,o,l,c,d,u,y,m,p,b,v){this.cacheFactory=e,this.$q=t,this.entitlement=a,this.bbLocalize=n,this.ActivityVsGradeModel=i,this.ContentActivityInDetailModel=s,this.CourseActivityModel=r,this.CourseGradesModel=o,this.CourseNotificationsModel=l,this.MultimediaActivityInDetailModel=c,this.MultimediaStatisticsModel=d,this.NotificationUsers=u,this.StudentActivityModel=y,this.StudentGradesModel=m,this.SufficientDataModel=p,this.TelemetryDiscussionActivityModel=b,this.TelemetryDiscussionXrayModel=v,this.SUFFICIENT_DATA_KEY="SufficientData",this.sufficientDataCache=e.createCache("sufficientTelemetryData"),this.notificationsCache=e.createCache("notifications")}return e.prototype.loadActivityVsGradeData=function(e){return this.ActivityVsGradeModel.$find(e).$allow([404]).$asPromise()},e.prototype.loadStudentGradeData=function(e,t){return this.StudentGradesModel.$find(e,t?{userId:t}:{}).$allow([404,400]).$asPromise()},e.prototype.loadCourseGradeData=function(e){return this.CourseGradesModel.$find(e).$allow([404,400]).$asPromise()},e.prototype.loadStudentActivityData=function(e,t){return this.StudentActivityModel.$find(e,t?{userId:t}:{}).$allow([400]).$asPromise()},e.prototype.loadContentActivityInDetailData=function(e,t){return this.ContentActivityInDetailModel.$collection().getContentActivityInDetail(e,t).$asPromise()},e.prototype.loadMultimediaActivityInDetailData=function(e,t){return this.MultimediaActivityInDetailModel.$collection().getMultimediaActivityInDetail(e,t).$asPromise()},e.prototype.loadMultimediaStatisticsData=function(e,t){return this.MultimediaStatisticsModel.getMultimediaStatistics(e,t).$asPromise()},e.prototype.loadCourseActivityData=function(e){return this.CourseActivityModel.$find(e).$allow([400]).$asPromise()},e.prototype.loadNotificationUsers=function(e,t,a){var n={};return t&&(n.limit=t),a&&(n.offset=a),this.NotificationUsers.$find(e,n).$asPromise().then((function(e){return i.keyBy(e.users,"userId")}))},e.prototype.loadNotifications=function(e,t,a,n){return this.getNotificationsPromise(e,t,a,n).promise},e.prototype.loadDiscussionActivityData=function(e,t,a){return a?this.TelemetryDiscussionActivityModel.getDiscussionActivityReport(e,t,a).$asPromise():this.TelemetryDiscussionActivityModel.getDiscussionActivityReport(e,t).$asPromise()},e.prototype.loadDiscussionXrayReport=function(e,t,a){return this.TelemetryDiscussionXrayModel.getDiscussionXrayReport(e,t,a).$asPromise()},e.prototype.hasSufficientActivityData=function(e){return this.getSufficientDataPromise().promise.then((function(t){return!(!t||!t.coursesWithActivity)&&i.includes(t.coursesWithActivity,e)}))},e.prototype.hasSufficientGradeData=function(e){return this.getSufficientDataPromise().promise.then((function(t){return!(!t||!t.coursesWithGrades)&&i.includes(t.coursesWithGrades,e)}))},e.prototype.canViewAllUserData=function(e){return this.entitlement.hasCourseEntitlement(o.v.ViewGrades,e)},e.prototype.formatMessageRecipients=function(e){return(e||[]).map((function(e){return e.id})).join(",")},e.prototype.determineContentSupportsActivityData=function(e){var t=this.$q.defer();return y.a.isExternalSubmissionsAssessment(e)?t.resolve(!1):this.contentSupportsActivityData(e)?this.canViewAllUserData(e.courseId).then((function(e){t.resolve(e)})).catch((function(e){t.reject(e)})):t.resolve(!1),t.promise},e.prototype.contentSupportsActivityData=function(e){return(o.g.TestLink.isEqualTo(e.contentHandler)||o.g.UltraAssignment.isEqualTo(e.contentHandler))&&e.hasGradingColumn()},e.prototype.determinePanelSref=function(e,t){var a=this,n=this.$q.defer(),i={hasGrades:this.hasSufficientGradeData(e),hasActivity:this.hasSufficientActivityData(e),canViewAllUserData:this.canViewAllUserData(e)};return this.$q.all(i).then((function(i){i.hasGrades&&i.hasActivity?i.canViewAllUserData?n.resolve(a.createPanelSref(u.a.InstructorClass,e,t)):n.resolve(a.createPanelSref(u.a.StudentProgress,e,t)):n.reject()})).catch((function(e){n.reject(e)})),n.promise},e.prototype.createPanelSref=function(e,t,a){var n='({ courseId: "'+t+'"';return a&&(n+=', notificationId: "'+a+'"'),e.toString()+(n+=" })")},e.prototype.exportFilename=function(e,t,a,n,i){var s="";e&&(s=e.courseId+"_");var r=this.bbLocalize.formatDateSync(new Date,l.ILocaleDateFormat.ISO).replace(/[^0-9]/g,""),o="";t&&a&&t.id!==a.id&&(o=t.userName+"_");var c=n?"_"+n:"",d="";return i&&(d=i.replace(/\s+/g,"_")+"_"),s+o+d+r+c},e.prototype.getSufficientDataPromise=function(){var e=this.sufficientDataCache.get(this.SUFFICIENT_DATA_KEY);return e||(e={promise:this.SufficientDataModel.$new().$fetch().$allow([404,400]).$asPromise()},this.sufficientDataCache.put(this.SUFFICIENT_DATA_KEY,e)),e},e.prototype.getNotificationsPromise=function(e,t,a,n){var i=e+t+a+n,s=this.notificationsCache.get(i);if(!s){var r={};t&&(r.userId=t),a&&(r.includeDismissed=a),n&&(r.notificationType=n),(s={promise:this.CourseNotificationsModel.$find(e,r).$asPromise()}).promise.then((function(e){return e.currentStudent.forEach((function(e){e.ui={createdDay:d.utc(e.created).startOf("day").toDate()}})),e})),this.notificationsCache.put(i,s)}return s},e.$inject=["DSCacheFactory","$q",r.b,l.serviceName,c.zb.serviceName,c.Ab.serviceName,c.Bb.serviceName,c.Cb.serviceName,c.Db.serviceName,c.Gb.serviceName,c.Hb.serviceName,c.Jb.serviceName,c.Kb.serviceName,c.Lb.serviceName,c.Mb.serviceName,c.Eb.serviceName,c.Fb.serviceName],e}();!function(e){function t(){return null!==e&&e.apply(this,arguments)||this}Object(n.__extends)(t,e)}(b);s.module(m,[c.R,r.a]).service(p,b)},zyQz:function(e,t,a){"use strict";var n=a("D57K"),i=a("nbDY"),s=a.n(i),r=a("EtRF"),o=a("1ovh"),l=a("M+Ig"),c=function(e){function t(t,a){var n=e.call(this,t)||this;return n.options=a,n}return Object(n.__extends)(t,e),t.prototype.getRelatedTimeSeries=function(){return this.options.relatedTimeSeries},t.prototype.getTitle=function(e,a){if(this===t.StudentsInTrouble){var n=parseInt(e.extraAttribs.inTroubleCount,10)||0,i=parseInt(e.extraAttribs.inTroubleFailing,10)||0,s=parseInt(e.extraAttribs.inTroubleAbsent,10)||0,r="withBoth.plural";return r=i>0?s>0?"withBoth.plural":"withFailing.plural":s>0?"withAbsent.plural":"noExtras.plural",{locale:a,key:this.options.bundleTitleKey+"."+r,params:{count:n,failing:i,absent:s}}}var o=this.getPhraseVariant(e);return o?{locale:a,key:this.options.bundleTitleKey+".variation"+o}:{locale:a,key:this.options.bundleTitleKey}},t.prototype.getBody=function(e,t){if(this.options.bundleBodyKey){var a=this.getPhraseVariant(e);return a?{locale:t,key:this.options.bundleBodyKey+".variation"+a}:{locale:t,key:this.options.bundleBodyKey}}return{locale:t,key:""}},t.prototype.getPhraseVariant=function(e){if(this.options.phraseVariants)return 1+((e.extraAttribs.phraseVariant||1)-1)%this.options.phraseVariants},t.prototype.getInitialView=function(){return this.options.initialView},t.prototype.getInsight=function(e){return this.options.insightKey?{locale:e,key:this.options.insightKey}:null},t.prototype.getAction=function(e){return this.options.actionKey?{locale:e,key:this.options.actionKey}:null},t.prototype.getIcon=function(){return this.options.icon},t.SufficientActivityData=new t("SufficientActivityData",{initialView:l.a.InstructorDynamic,relatedTimeSeries:o.a.Activity,bundleTitleKey:"base.stream.telemetry.sufficientActivityData.title",bundleBodyKey:"base.stream.telemetry.sufficientActivityData.body",icon:r.a.DEFAULT}),t.SufficientGradeData=new t("SufficientGradeData",{initialView:l.a.InstructorDynamic,relatedTimeSeries:o.a.Grades,bundleTitleKey:"base.stream.telemetry.sufficientGradeData.title",bundleBodyKey:"base.stream.telemetry.sufficientGradeData.body",icon:r.a.DEFAULT}),t.StudentsInTrouble=new t("StudentsInTrouble",{initialView:l.a.InstructorDynamic,relatedTimeSeries:o.a.Grades,bundleTitleKey:"base.stream.telemetry.studentsInTrouble",icon:r.a.ALERT}),t.GradeBelowThreshold=new t("GradeBelowThreshold",{initialView:l.a.StudentLowGrades,relatedTimeSeries:o.a.Grades,bundleTitleKey:"base.stream.telemetry.gradeWarning.title",bundleBodyKey:"base.stream.telemetry.gradeWarning.body",phraseVariants:2,insightKey:"components.directives.telemetry.insight.gradeBelowThreshold",actionKey:"base.stream.telemetry.action.level",icon:r.a.ALERT}),t.GradeInLowest=new t("GradeInLowest",{initialView:l.a.StudentLowGrades,relatedTimeSeries:o.a.Grades,bundleTitleKey:"base.stream.telemetry.gradeWarning.title",bundleBodyKey:"base.stream.telemetry.gradeWarning.body",phraseVariants:2,insightKey:"components.directives.telemetry.insight.lowPerformer",actionKey:"base.stream.telemetry.action.level",icon:r.a.ALERT}),t.GradeDropped=new t("GradeDropped",{initialView:l.a.StudentFindAStudyPartner,relatedTimeSeries:o.a.Grades,bundleTitleKey:"base.stream.telemetry.gradeDropped.title",bundleBodyKey:"base.stream.telemetry.gradeDropped.body",insightKey:"components.directives.telemetry.insight.trendingDown",actionKey:"base.stream.telemetry.action.studyPartner",icon:r.a.ALERT}),t.NoRecentActivity=new t("NoRecentActivity",{initialView:l.a.DirectToCourse,relatedTimeSeries:o.a.Activity,bundleTitleKey:"base.stream.telemetry.activityLowestWarning.title",bundleBodyKey:"base.stream.telemetry.activityLowestWarning.body",insightKey:"components.directives.telemetry.insight.noRecentActivity",actionKey:"base.stream.telemetry.action.courseOutline",icon:r.a.ALERT}),t.ActivityInLowest=new t("ActivityInLowest",{initialView:l.a.StudentLowActivity,relatedTimeSeries:o.a.Activity,bundleTitleKey:"base.stream.telemetry.activityLowestWarning.title",bundleBodyKey:"base.stream.telemetry.activityLowestWarning.body",insightKey:"components.directives.telemetry.insight.lowPerformer",actionKey:"base.stream.telemetry.action.level",icon:r.a.ALERT}),t.ActivityDropped=new t("ActivityDropped",{initialView:l.a.StudentLowActivity,relatedTimeSeries:o.a.Activity,bundleTitleKey:"base.stream.telemetry.activityDroppedWarning.title",bundleBodyKey:"base.stream.telemetry.activityDroppedWarning.body",insightKey:"components.directives.telemetry.insight.trendingDown",actionKey:"base.stream.telemetry.action.level",icon:r.a.ALERT}),t.ActivityIncreased=new t("ActivityIncreased",{initialView:l.a.StudentProgress,relatedTimeSeries:o.a.Activity,bundleTitleKey:"base.stream.telemetry.performanceIncreased.title",bundleBodyKey:"base.stream.telemetry.performanceIncreased.body",actionKey:"base.stream.telemetry.action.performance",icon:r.a.KUDOS}),t.ActivityInHighest=new t("ActivityInHighest",{initialView:l.a.StudentHighPerformance,relatedTimeSeries:o.a.Activity,bundleTitleKey:"base.stream.telemetry.activityInHighest.title",bundleBodyKey:"base.stream.telemetry.activityInHighest.body",actionKey:"base.stream.telemetry.action.performance",icon:r.a.KUDOS}),t.GradeIncreased=new t("GradeIncreased",{initialView:l.a.StudentProgress,relatedTimeSeries:o.a.Grades,bundleTitleKey:"base.stream.telemetry.performanceIncreased.title",bundleBodyKey:"base.stream.telemetry.performanceIncreased.body",actionKey:"base.stream.telemetry.action.performance",icon:r.a.KUDOS}),t.GradeInHighest=new t("GradeInHighest",{initialView:l.a.StudentHighPerformance,relatedTimeSeries:o.a.Grades,bundleTitleKey:"base.stream.telemetry.gradeInHighest.title",bundleBodyKey:"base.stream.telemetry.gradeInHighest.body",actionKey:"base.stream.telemetry.action.performance",icon:r.a.KUDOS}),t}(s.a);t.a=c}}]);