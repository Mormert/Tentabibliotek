(window.webpackJsonp=window.webpackJsonp||[]).push([[125,36,38,39,44,91],{"/BCe":function(e,t){e.exports='<ng-switch on="targetContent.contentHandler.toString()">\n  <a ng-switch-when="resource/x-bb-forumlink" class="content-title"\n     bb-peek-sref="discussion.view.with-grading({contentId:\'{{targetContent.id}}\'})"\n     bb-prevent-click-if="targetContent.isConditionalReleaseLocked()" \n     aria-describedby="{{ariaDescribedBy}}"\n     analytics-id="course.link.item.forumLink.link"><span>{{ content.title }}</span></a>\n  <div ng-switch-default class="content-title">{{ content.title }}</div>\n</ng-switch>'},"/R3n":function(e,t){e.exports='<div>\n  <div class="name">\n    <ng-switch on="::content.getContentDisplay().linkAction()" ng-class="{\'has-indicator\': content.ui.hasIndicator}">\n      <div ng-switch-when="resource/x-bb-folder">\n        <bb-content-item-folder></bb-content-item-folder>\n      </div>\n      <div ng-switch-when="contenturl">\n        \x3c!-- Center content title when it is only one line of text (without edit capability, description, or date restrictions). --\x3e\n        <a bb-prevent-click-if="content.isConditionalReleaseLocked()"\n            ng-click="contentItemBase.markCompleted()"\n            ng-href="{{content.getContentDisplay().contentUrl()}}" target="_blank" rel="noopener noreferrer" class="content-title"\n            ng-class="{\'name-middle\': contentItemCourseOutline.shouldAlignMiddle()}"\n            aria-describedby="{{contentItemBase.getAriaDescribedBy()}}"\n            analytics-id="content.item.course.outline.courseContent.link">\n          <span>{{ content.title }}</span>\n        </a>\n      </div>\n      <div ng-switch-when="ltilaunch">\n        <bb-content-item-ltilaunch></bb-content-item-ltilaunch>\n      </div>\n      <div ng-switch-when="scormlaunch">\n        <bb-content-item-scormlaunch></bb-content-item-scormlaunch>\n      </div>\n      <div ng-switch-when="resource/x-bb-asmt-agn-link">\n        \x3c!-- open  edit page when an instructor(=entitledToDesignAssessment) is accessing an assignment in a complete course. page will become read only based on canEdit() --\x3e\n        <a ng-if="contentItemBase.entitledToDesignAssessment"\n           class="content-title"\n           aria-describedby="{{contentItemBase.getAriaDescribedBy()}}"\n           bb-peek-sref="gradebook-item.assignment({\n                                 courseId: content.courseId,\n                                 contentId: content.id,\n                                 gradeitemView: \'details\' })"\n           analytics-id="content.item.course.outline.gradebook.item.assignment.link"><span>{{ content.title }}</span></a>\n        \x3c!-- user cannot modify --\x3e\n        <a ng-if="!contentItemBase.entitledToDesignAssessment"\n           bb-peek-sref="assignment.view({assignmentId:content.id})" bb-prevent-click-if="content.isConditionalReleaseLocked()"\n           ng-class="{\'is-late\': contentItemBase.isLate, \'is-restricted\': content.isRestricted()}"\n           aria-describedby="{{contentItemBase.getAriaDescribedBy()}}"\n           class="content-title"\n           analytics-id="content.item.course.outline.gradebook.item.assignment.readOnly.link"><span>{{ content.title }}</span></a>\n      </div>\n      <div ng-switch-when="resource/x-bb-assignment">\n        <a bb-peek-sref="assignment.view({assignmentId:content.id})" class="content-title"\n           aria-describedby="{{contentItemBase.getAriaDescribedBy()}}"\n           ng-class="{\'is-late\': contentItemBase.isLate}"\n           analytics-id="content.item.coures.outline.assignment.link"><span>{{ content.title }}</span></a>\n      </div>\n      <div ng-switch-when="resource/x-bb-document">\n        <a bb-peek-sref="content-manage.edit.document({id:content.id})" class="content-title"\n           aria-describedby="{{contentItemBase.getAriaDescribedBy()}}"\n           ng-class="{\'is-late\': contentItemBase.isLate}"\n           analytics-id="content.item.coures.outline.document.link"><span>{{ content.title }}</span></a>\n      </div>\n      <div ng-switch-when="resource/x-bb-page">\n        <bb-content-item-page></bb-content-item-page>\n      </div>\n      <div ng-switch-when="resource/x-bb-asmt-test-link">\n        \x3c!-- open edit page when an instructor(=entitledToDesignAssessment) is accessing content. In a complete course, page will become read only based on canEdit() --\x3e\n        <a ng-if="contentItemBase.entitledToDesignAssessment" class="content-title"\n           bb-peek-sref="gradebook-item.assessment({\n                                 courseId: content.courseId,\n                                 contentId: content.id,\n                                 gradeitemView: \'details\',\n                                 assessmentType: \'test\'})"\n           aria-describedby="{{contentItemBase.getAriaDescribedBy()}}"\n           analytics-id="content.item.courses.outline.gradebook.item.assessment.link"><span>{{ content.title }}</span></a>\n        \x3c!-- user cannot modify --\x3e\n        <a ng-if="!contentItemBase.entitledToDesignAssessment" href="javascript:void(0);"\n           ng-click="contentItemBase.openAssessmentItem()" bb-prevent-click-if="content.isConditionalReleaseLocked()"\n           ng-class="{\'is-late\': contentItemBase.isLate, \'is-restricted\': content.isRestricted()}"\n           class="content-title"\n           aria-describedby="{{contentItemBase.getAriaDescribedBy()}}"\n           analytics-id="content.item.courses.outline.gradebook.item.assessment.readOnly.link"><span>{{ content.title }}</span></a>\n      </div>\n      <a ng-switch-when="resource/x-bb-forumlink" bb-peek-sref="discussion.view.with-grading({contentId:content.id})"\n         bb-prevent-click-if="content.isConditionalReleaseLocked()"\n         class="content-title" aria-describedby="{{contentItemBase.getAriaDescribedBy()}}"\n         analytics-id="content.item.courses.outline.gradebook.item.forum.link"><span>{{ content.title }}</span></a>\n      <div ng-switch-when="resource/x-bb-courselink">\n        <bb-course-link-item content="content" target-content="contentItemBase.targetContent" prefix="\'course.outline\'"/>\n      </div>\n      <a ng-switch-when="resource/x-bb-journallink" bb-peek-sref="journal.view.with-grading({contentId:content.id})"\n         bb-prevent-click-if="content.isConditionalReleaseLocked()"\n         class="content-title" aria-describedby="activity-indicator-{{::content.id}}"\n         analytics-id="content.item.courses.outline.journal.link"><span>{{ content.title }}</span></a>\n      <div ng-switch-default class="content-title">{{ content.title }}</div>\n      <bb-svg-icon role="img" aria-hidden="false" bb-translate-attrs="::{\'aria-label\':\'components.directives.content-item-base.aria-label.indicator\'}" ng-if="content.ui.hasIndicator" id="activity-indicator-{{::content.id}}" class="indicator" size="small" icon="activity-indicator" status="active"></bb-svg-icon>\n    </ng-switch>\n  </div>\n  <div ng-if="content.canViewAsInstructor() && content.canHaveAttempts() && content.hasDueDate()" class="due-date">\n    \x3c!-- no due date --\x3e\n    <span bb-translate ng-if="!dueDate" class="content-no-due-date-label">components.directives.content-item-base.no-due-date</span>\n    \x3c!-- due date --\x3e\n    <span bb-translate ng-if="dueDate && !gradeDetail" class="content-due-date-label">components.directives.content-item-base.due-date</span>\n    <bb-datetime format="Short" value="dueDate" ng-if="dueDate && !gradeDetail" class="content-due-date"></bb-datetime>\n    <span ng-if="content.getTimedTestDetail().hasTimeLimit" class="time-limit ellipse">\n      <span class="vertical-bar"></span>\n      <span bb-translate>components.directives.content-item-base.time-limit</span>\n      <span>{{content.getTimedTestDetail().displayedTimeLimitSeconds | timeSpan: "m": this }}</span>\n    </span>\n    <span ng-if="contentItemCourseOutline.getExtraRequirementsSummary() !== null">\n      <span class="vertical-bar"></span>\n      <span bb-translate class="js-extra-requirements">{{::contentItemCourseOutline.getExtraRequirementsSummary()}}</span>\n    </span>\n  </div>\n  <div ng-if="!content.canViewAsInstructor() && content.canHaveAttempts() && content.hasDueDate()" class="due-date"\n       ng-class="{\'is-late\': contentItemBase.isLate}" ng-switch="dueDate != null">\n    \x3c!-- submission card --\x3e\n    \x3c!--  TODO: submissionCard is disabled until LRN-101279 is fixed --\x3e\n    \x3c!-- <bb-submission-card ng-if="gradeDetail"  grade-detail="gradeDetail" inline="true"></bb-submission-card>\n    <bb-submission-card ng-if="!gradeDetail" grading-column="gradingColumn" inline="true"></bb-submission-card> --\x3e\n    \x3c!-- no due date --\x3e\n    <span bb-translate ng-switch-default class="content-no-due-date-label">components.directives.content-item-base.no-due-date</span>\n    \x3c!-- due date --\x3e\n    <span bb-translate ng-switch-when="true"\n          class="content-due-date-label">components.directives.content-item-base.due-date</span>\n    <bb-datetime format="Short" value="dueDate" ng-switch-when="true" class="content-due-date"></bb-datetime>\n    <span ng-if="content.getTimedTestDetail().hasTimeLimit" class="time-limit ellipse">\n      <span class="vertical-bar"></span>\n      <span bb-translate>components.directives.content-item-base.time-limit</span>\n      <span>{{content.getTimedTestDetail().displayedTimeLimitSeconds | timeSpan: "m": this }}</span>\n    </span>\n    <span ng-if="contentItemCourseOutline.getExtraRequirementsSummary() !== null">\n      <span class="vertical-bar"></span>\n      <span bb-translate class="js-extra-requirements">{{::contentItemCourseOutline.getExtraRequirementsSummary()}}</span>\n    </span>\n  </div>\n  <div ng-if="contentItemBase.isPeerGradingConfigured" class="peer-review-due-date" bb-feature-toggle="peerAssessmentFeatureFlag" remove-from-dom="true">\n    <bb-svg-icon size="small" icon="peer-review"></bb-svg-icon>\n    <span bb-translate class="content-peer-review-due-date-label"\n          translate-values="{peerReviewsNumber: contentItemBase.peerReviews, datetime: contentItemBase.peerDueDate}">\n      components.directives.content-item-base.peer-review-due-date\n    </span>\n    <button class="peer-review-info-tooltip"\n      bb-tooltip\n      enhanced-tooltip="true"\n      tooltip-position="bottom"\n      tooltip-open-on-activation="true"\n      tooltip-disable-on-mouse-over="false"\n      bb-translate-attrs="{ title: \'components.directives.content-item-base.peerReview.information-tooltip\' }"\n      role="tooltip"\n      analytics-id="components.directives.content-item-base.peerGrading.tooltip.button"\n    >\n      <bb-svg-icon class="stop-click-propagation" size="small" icon="information"></bb-svg-icon>\n    </button>\n  </div>\n  <div ng-if="contentItemBase.isModifyPermissionLoaded && content.canHaveAttempts() && content.isGroupContent" class="group-info">\n    <div class="guidance-wrapper">\n      <div class="group-name">\n        <span><bb-svg-icon size="small" icon="groups"></bb-svg-icon></span>\n        <span class="group-target-guided" bb-guidance-target component-key="contentGroupInfo"\n              ng-if="!contentItemBase.contextCourse.course.isComplete()">\n        </span>\n        <a ng-if="contentItemBase.hasViewGroupsAsAdmin"\n           class="js-groups-link"\n           href="javascript:void(0);"\n           ng-click="contentItemBase.editGroups()"\n           analytics-id="content.item.course.outline.contentItemBase.editGroups.link">\n          <bb-group-count content="content"></bb-group-count>\n        </a>\n        <span ng-if="contentItemBase.canViewGroups && !contentItemBase.hasViewGroupsAsAdmin" class="js-groups-link">\n          <bb-group-count content="content"></bb-group-count>\n        </span>\n        <div ng-if="!(contentItemBase.canViewGroups || contentItemBase.hasViewGroupsAsAdmin)" class="student-group-enrollment">\n          <bb-group-student-enrollment content="content"></bb-group-student-enrollment>\n        </div>\n        \x3c!-- For complete course, will not show this guidance: LRN-107718 --\x3e\n        <span>\n          <bb-guidance ng-if="!contentItemBase.contextCourse.course.isComplete() && !contentItemBase.entitledToDesignAssessment" component-key="contentGroupInfo"\n                       class="guidance-element-group guidance-is-empty-student guidance-element-overlay push-left">\n            <span bb-translate="{{::contentItemCourseOutline.groupAssessmentFtueKey}}" translate-values="{title: contentItemCourseOutline.customCategory}"></span>\n          </bb-guidance>\n        </span>\n      </div>\n    </div>\n  </div>\n  <div ng-if="!content.canViewAsInstructor() && content.isConditionalReleaseLocked()"\n    role="tooltip"\n    tabindex="0"\n    class="lock-info"\n    bb-complex-tooltip\n    enhanced-tooltip="true"\n    tooltip-position="bottom"\n    tooltip-open-on-activation="true"\n    tooltip-disable-on-mouse-over="true"\n    tooltip-scope="contentItemBase.conditionalRelease.tooltipScope"\n    tooltip-template="{{::contentItemBase.conditionalRelease.getConditionalReleaseComplexTooltipTemplate()}}">\n    <span bb-translate="components.directives.content-item-base.conditionalRelease.lock-info"></span>\n    <span class="sr-only">{{contentItemBase.conditionalRelease.tooltips}}</span>\n  </div>\n  <div class="name-controls stop-click-propagation"\n    ng-class="{\n      \'name-conditional-release\': !content.canViewAsInstructor() && content.isConditionalReleaseLocked(),\n      \'selector-disabled\': content.isInForcedSequenceModule()\n    }"\n    ng-if="contentItemBase.showVisibility()">\n    <bb-content-visibility-selector content="content"\n                                    link-content="contentItemBase.targetContent"\n                                    onchange-func="contentItemBase.updateContentVisibility()"\n                                    open-panel-on-restricted="true"\n                                    enable-conditional-release="content.canAccessAdaptiveRelease()"\n                                    disable-restricted="contentItemBase.disableRestricted"\n                                    verbose-restricted-label="true"></bb-content-visibility-selector>\n  </div>\n  <div ng-if="content.canViewAsInstructor() && content.isConditionalRelease()" class="conditional-release-control"\n       ng-class="{\'conditional-release-control-for-complete-course\': contentItemCourseOutline.isCourseCompletedAndInInstructorView()}">\n    <div class="rules">\n      <a href="javascript:void(0);"\n        ng-click="contentItemCourseOutline.canOpenConditionalRelease && contentItemCourseOutline.openConditionalRelease()"\n        bb-complex-tooltip\n        enhanced-tooltip="true"\n        tooltip-position="bottom"\n        tooltip-disable-on-mouse-over="{{!contentItemCourseOutline.canOpenConditionalRelease}}"\n        tooltip-enable-on-mouse-leave-for-all-breakpoints="{{contentItemCourseOutline.canOpenConditionalRelease}}"\n        tooltip-enable-on-mouse-over-for-all-breakpoints="{{contentItemCourseOutline.canOpenConditionalRelease}}"\n        tooltip-open-on-activation="{{!contentItemCourseOutline.canOpenConditionalRelease}}"\n        tooltip-auto-update="true"\n        tooltip-scope="contentItemBase.conditionalRelease.tooltipScope"\n        tooltip-template="{{::contentItemBase.conditionalRelease.getConditionalReleaseComplexTooltipTemplate()}}"\n        analytics-id="components.directives.content-item-base.conditionalRelease.{{contentItemBase.conditionalRelease.conditionType}}.link">\n        <span bb-translate="components.directives.content-item-base.conditionalRelease.{{contentItemBase.conditionalRelease.conditionType}}"></span>\n        <span class="sr-only">{{contentItemBase.conditionalRelease.tooltips}}</span>\n      </a>\n    </div>\n  </div>\n</div>\n'},"/hmo":function(e,t){e.exports='<ng-switch on="targetContent.contentHandler.toString()">\n  <a ng-switch-when="resource/x-bb-blti-link" \n     bb-component-sref="{{prefix}}.engagement.edit({contentId:\'{{targetContent.id}}\'})"\n     class="content-title"\n     analytics-id="course.content.lti.link"><span>{{ content.title }}</span></a>\n</ng-switch>\n'},"/oLk":function(e,t,n){var o=n("ziER"),i=n("5JeM"),s=new o({id:"icon-small-export",use:"icon-small-export-usage",viewBox:"0 0 16 16",content:'<symbol fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" id="icon-small-export"><path d="M7 9l8-8M12 1h3v3M15 9.091V15H1V1h5.909" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" /></symbol>'});i.add(s);e.exports=s},"0/Nk":function(e,t){e.exports='<div class="group-student-self-enroll-directive" bb-load-bundle="components/directives/group/group-student-enrollment">\n  <div ng-if="$ctrl.content.assignedGroups.length > 0">\n    <span ng-if="!$ctrl.isOpenEnrollment()" class="ellipse title">\n      {{$ctrl.content.assignedGroups[0].groupTitle}}\n    </span>\n    <a ng-if="$ctrl.isSelfEnrollment && $ctrl.isOpenEnrollment()" class="self-enroll-link js-self-enroll-link"\n       href="javascript:void(0);" ng-click="$ctrl.openContentEnrollPanel()"\n       analytics-id="components.directives.group-student-enrollment.groupTitle.link">\n      {{$ctrl.content.assignedGroups[0].groupTitle}}\n    </a>\n  </div>\n  <span ng-if="!($ctrl.content.assignedGroups.length > 0) && !$ctrl.isSelfEnrollment" class="ellipse title" bb-translate\n        translate-values="{title: components.directives.group-student-enrollment.unknown}">\n    components.directives.group-student-enrollment.unknown\n  </span>\n  <div ng-if="!($ctrl.content.assignedGroups.length > 0) && $ctrl.isSelfEnrollment">\n    <div ng-if="$ctrl.isOpenEnrollment()">\n      <a href="javascript:void(0);" ng-click="$ctrl.openContentEnrollPanel()" class="self-enroll-link js-self-enroll-link"\n         bb-translate analytics-id="components.directives.group-student-enrollment.self-enroll-to-participate">components.directives.group-student-enrollment.self-enroll-to-participate</a>\n    </div>\n    <div ng-if="$ctrl.isBeforeEnrollment()" class="self-enroll-date" translate-values="{time: $ctrl.selfEnrollGroupInfo.relativeDate}"\n         bb-translate>components.directives.group-student-enrollment.enrollment-starts</div>\n    <div ng-if="$ctrl.isOpenEnrollmentWithEnding()" class="self-enroll-date"\n         ng-class="{\'is-important\': $ctrl.selfEnrollGroupInfo.isEnrollmentDateImportant}"\n         translate-values="{time: $ctrl.selfEnrollGroupInfo.relativeDate}"\n         bb-translate>components.directives.group-student-enrollment.enrollment-closes</div>\n    <div ng-if="$ctrl.isAfterEnrollment()" class="self-enroll-date"\n         bb-translate>components.directives.group-student-enrollment.enrollment-closed</div>\n  </div>\n</div>\n'},"07HN":function(e,t){e.exports='<div tabindex="-1" id="{{::addContentButton.getButtonWrapperId()}}">\n  <button\n    aria-expanded="{{addContentButton.isMenuVisible}}"\n    aria-label="{{addContentButton.addButtonAriaLabel}}"\n    ng-class="{hide: !(addContentButton.isButtonVisible || addContentButton.alwaysShow || addContentButton.isMenuVisible)}"\n    ng-focus="addContentButton.showButton()"\n    ng-blur="addContentButton.hideButton()"\n    class="button-add-content"\n    id="{{::addContentButton.getTargetId()}}"\n    ng-click="addContentButton.toggleAddContentMenu()"\n    analytics-id="components.directives.add-content-button.grades.button"\n  >\n  </button>\n</div>\n<bb-ui-contextual-menu\n  items="addContentButton.items"\n  target-id="::addContentButton.getTargetId()"\n  show="addContentButton.isMenuVisible"\n  directional-hint="::addContentButton.getDirectionalHint()"\n  dismiss="addContentButton.hideAddContentMenu"\n  analytics-id="components.directives.add-content-button.contextualMenu"\n>\n</bb-ui-contextual-menu>'},"0lMW":function(e,t,n){},"0rzL":function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var o=n("D57K"),i=(n("eWdw"),n("wHJ2")),s=n("pjml"),r=n("dJ97"),a=n("nbDY"),c=n.n(a),l=n("Bu0u"),d=n("UODz"),u="ultra.components.directives.submissionCard",p=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(o.__extends)(t,e),t.ATTEMPT=new t("ATTEMPT"),t.GRADE=new t("GRADE"),t.INFO=new t("INFO"),t}(c.a),h=function(){function e(e){if(this.scope=e,!e.gradingColumn&&!e.gradeDetail)throw new l.a({message:"gradingColumn or gradeDetail must be provided."});if(this.scope.gradeDetail&&!this.scope.gradeDetail.column)throw new l.a({message:"gradeDetail.column must be provided to display attempt mode."});var t,n;switch(this.scope.gradeDetail&&(this.scope.gradeDetail.ui.groupAttempt||this.scope.gradeDetail.ui.attempt)&&(this.attempt=this.scope.gradeDetail.ui.groupAttempt||this.scope.gradeDetail.ui.attempt,this.currentGradeStatus=this.scope.gradeDetail.ui.attempt.status),(!e.gradeDetail||e.gradeDetail&&!this.attempt)&&e.gradingColumn?this.scope.mode=p.INFO:e.gradeDetail&&this.attempt&&(this.scope.mode=p.ATTEMPT,this.scope.gradingColumn=this.scope.gradeDetail.column),e.iconClass=s.r.ContentHandler.UltraAssignment.iconClass,this.showLate=(!e.showLate||e.showLate())&&e.gradingColumn.isLate(),!this.showLate||!this.scope.gradingColumn.isLate()||e.gradeDetail&&this.attempt&&!this.attempt.isInProgress()||(e.isLate=!0,e.iconClass+="-a"),e.mode){case p.INFO:n=e.gradingColumn.dueDate?"DUE":"NO_DUE_DATE",t=this.showLate&&e.gradingColumn.isLate()?"UNOPENED_LATE":"UNOPENED";break;case p.ATTEMPT:n=this.attempt.status.toString(),e.hasAttempt=!0,t=s.C.AttemptStatus.InProgress.isEqualTo(this.attempt.status)&&this.showLate&&e.gradingColumn.isLate()?"SUBMISSION_LATE":"SUBMISSION";break;case p.GRADE:}e.status="components.directives.submission-card.attemptStatus."+n,e.title="components.directives.submission-card.title."+t}return e.prototype.shouldExpandForRubricIcon=function(){return(this.scope.showRubricButton&&this.scope.showRubricButton()||this.scope.showRubricDiv&&this.scope.showRubricDiv())&&this.scope.gradingColumn.hasRubricAssociation&&this.scope.gradingColumn.hasRubricAssociation()},e.$inject=["scope"],e}(),m=function(){function e(e){var t=this;this.$injector=e,this.restrict="AE",this.template=d,this.scope={gradeDetail:"=?",gradingColumn:"=?",inline:"@?",clickable:"=?",showLate:"&?",showRubricButton:"&?",showRubricDiv:"&?"},this.link=function(e){e.submissionCard=t.$injector.instantiate(h,{scope:e})}}return e.$inject=["$injector"],e}();i.module(u,[r.a]).directive("bbSubmissionCard",["$injector",function(e){return e.instantiate(m)}])},"1/hr":function(e,t,n){},"1Niw":function(e,t){e.exports='<div tabindex="-1" id="{{::addContentButton.getButtonWrapperId()}}">\n  <button\n    class="button-add-content js-show-add-options"\n    aria-expanded="{{addContentButton.isMenuVisible}}"\n    ng-class="{hide: !(addContentButton.isButtonVisible || addContentButton.alwaysShow || addContentButton.isMenuVisible)}"\n    aria-label="{{addContentButton.addButtonAriaLabel}}"\n    ng-focus="addContentButton.showButton()"\n    ng-blur="addContentButton.hideButton()"\n    id="{{::addContentButton.getTargetId()}}"\n    ng-click="addContentButton.toggleAddContentMenu()"\n    analytics-id="components.directives.add-content-button.editor.button">\n  </button>\n</div>\n<bb-ui-contextual-menu\n  items="::addContentButton.items"\n  target-id="::addContentButton.getTargetId()"\n  show="addContentButton.isMenuVisible"\n  directional-hint="::addContentButton.getDirectionalHint()"\n  dismiss="addContentButton.hideAddContentMenu"\n  analytics-id="components.directives.add-content-button.contextualMenu"\n>\n</bb-ui-contextual-menu>\n\x3c!--\n  The elements are kept around to trigger download actions.\n  The \'ng-hide\' class is added to prevent the buttons from interfering with AX (tab order, screen readers)\n--\x3e\n<ul class="row element-list-add-menu angular-animate ng-hide small-block-grid-2"\n    ng-class="::{\'medium-block-grid-2\': !addContentButton.isCloudServiceAvailable, \'medium-block-grid-3\': addContentButton.isCloudServiceAvailable }">\n  \x3c!-- ng-class: if isMobile==true we have 3 buttons in the add content template.  Excluding\n    \'medium-offset-2\' will allow the 3 buttons to be on the same line.  Otherwise, \'OneDrive\'\n    ends up on the second row.\n  --\x3e\n  <li>\n    <button type="button" \n            class="js-add-text-block"\n            ng-click="addContentButton.addTextBlock()"\n            analytics-id="components.directives.add-content-button.editor.addText.button">\n      <div>\n        <i class="icon-doc-pencil-2"></i>\n        <span bb-translate>components.directives.add-content-button.addContent</span>\n      </div>\n    </button>\n  </li>\n  <li>\n    <bb-file-upload\n      url="/v1/files"\n      data="{}"\n      monitor-leave="true"\n      allow-multiple="true"\n      hide-transclude-during-upload="false"\n      primary-key="primaryKey && primaryKey() ? primaryKey() : fileListViewLocalId"\n      skip-zip-file-check="true"\n      click-enabled="true"\n      disable-drag="false"\n      class="js-file-upload"\n      web-location="{{webLocation}}"\n      file-location="{{fileLocation}}"\n      target-div="{{\'#\' + fileListViewId}}"\n      disallow-folder-uploads="true"\n      is-third-party-upload="false"\n      ignored-states="::ignoredStates()">\n        <button\n          type="button"\n          class="file-upload-button"\n          ng-click="addContentButton.assignPosition()"\n          aria-label="{{addContentButton.uploadAriaLabel}}"\n          analytics-id="components.directives.add-content-button.editor.fileUpload.button">\n          <div ng-if="!addContentButton.isMobile">\n            <i class="icon-arrow-upload"></i>\n            <span bb-translate>components.directives.add-content-button.uploadFromComputer</span>\n          </div>\n          <div ng-if="addContentButton.isMobile">\n            <i class="icon-arrow-upload"></i>\n            <span bb-translate>components.directives.add-content-button.uploadFromDevice</span>\n          </div>\n        </button>\n    </bb-file-upload>\n  </li>\n  <li ng-if="::addContentButton.isCloudServiceAvailable">\n    <bb-file-upload\n      allow-multiple="false"\n      monitor-leave="true"\n      target-div="{{\'#\' + fileListViewId}}"\n      hide-transclude-during-upload="false"\n      click-enabled="false"\n      primary-key="primaryKey && primaryKey() ? primaryKey() : fileListViewLocalId"\n      skip-zip-file-check="true"\n      disable-drag="true"\n      is-third-party-upload="true"\n      third-party-download-handler="addContentButton.downloadFile"\n      ignored-states="::ignoredStates()">\n      <button\n        type="button"\n        class="js-upload-from-kloudless"\n        ng-click="addContentButton.assignPosition()"\n        bb-kloudless\n        primary-key="primaryKey && primaryKey() ? primaryKey() : fileListViewLocalId"\n        attach-handler="attachHandler || addContentButton.defaultAttachHandler"\n        web-location="{{webLocation}}"\n        file-location="{{fileLocation}}"\n        allow-multiple="false"\n        on-cancel-focus="!initialUpload ? addContentButton.focusAddButton : null"\n        analytics-id="components.directives.add-content-button.editor.uploadFromCloudStorage.button">\n          <div>\n            <i class="icon-cloud"></i>\n            <span bb-translate>components.directives.add-content-button.uploadFromCloudStorage</span>\n          </div>\n        </button>\n    </bb-file-upload>\n  </li>\n</ul>'},"1ZbL":function(e,t,n){"use strict";n.d(t,"a",(function(){return m}));var o=n("D57K"),i=n("5MwF"),s=n("nsO7"),r=n("ERkP"),a=n("7nmT"),c=n("0JpG"),l=n("8unJ"),d=n("jbsW"),u=n("uDfI"),p=function(){function e(){this.__isFirstRender=!0,this.state={},this.props={}}return e.prototype.$onChanges=function(e){var t=this.props,n=Object(s.mapValues)(e,"currentValue"),o=Object(s.assign)({},this.props,n);if(this.__isFirstRender)Object(s.assign)(this,{props:o}),this.componentWillMount(),this.render(),this.__isFirstRender=!1;else{if(!this.didPropsChange(n,t))return;this.componentWillReceiveProps(o);var i=this.shouldComponentUpdate(o,this.state);if(Object(s.assign)(this,{props:o}),!i)return;this.componentWillUpdate(this.props,this.state),this.render(),this.componentDidUpdate(this.props,this.state)}},e.prototype.$postLink=function(){this.componentDidMount()},e.prototype.$onDestroy=function(){this.componentWillUnmount()},e.prototype.didPropsChange=function(e,t){return Object(s.some)(e,(function(e,n){return e!==t[n]}))},e.prototype.componentWillMount=function(){},e.prototype.componentDidMount=function(){},e.prototype.componentWillReceiveProps=function(e){},e.prototype.shouldComponentUpdate=function(e,t){return!0},e.prototype.componentWillUpdate=function(e,t){},e.prototype.componentDidUpdate=function(e,t){},e.prototype.componentWillUnmount=function(){},e.prototype.render=function(){},e}();function h(e){return function(t){function n(n){for(var o=[],i=1;i<arguments.length;i++)o[i-1]=arguments[i];var s=t.call(this)||this;return s.$element=n,s.injectedProps={},e.injectNames.forEach((function(e,t){s.injectedProps[e]=o[t]})),s}return Object(o.__extends)(n,t),n.prototype.render=function(){var t=r.createElement(e.Class,Object(o.__assign)(Object(o.__assign)({},this.injectedProps),this.props),null);e.renderLocalized&&(t=this.localizeComponent(t)),e.withProvider&&(t=this.providedComponent(t)),Object(a.render)(t,this.$element[0])},n.prototype.providedComponent=function(e){var t={store:this.injectedProps.$ngRedux};return r.createElement(u.Provider,t,e)},n.prototype.localizeComponent=function(e){var t=this.injectedProps[c.serviceName],n={locale:t.getLocale(this.injectedProps.$scope),babelfishInstance:t.intl,babelfishFormatInstance:t.frmt};return i.a.unitTesting&&(n.mockLocalize=Object(d.getLocalizeMock)()),r.createElement(l.Locale,n,e)},n.prototype.componentWillUnmount=function(){Object(a.unmountComponentAtNode)(this.$element[0])},n}(p)}function m(e){e.injectNames=e.injectNames||[];var t=e.bindingNames||e.Class.propTypes&&Object.keys(e.Class.propTypes)||[],n=e.attributes||[];return e.renderLocalized&&(-1===e.injectNames.indexOf("$scope")&&e.injectNames.push("$scope"),-1===e.injectNames.indexOf(c.serviceName)&&e.injectNames.push(c.serviceName)),e.withProvider&&-1===e.injectNames.indexOf("$ngRedux")&&e.injectNames.push("$ngRedux"),{bindings:Object(o.__assign)(Object(o.__assign)({},Object(s.fromPairs)(t.map((function(e){return[e,"<"]})))),Object(s.fromPairs)(n.map((function(e){return[e,"@"]})))),controller:Object(o.__spreadArrays)(["$element"],e.injectNames,[h(e)])}}},"1zDl":function(e,t,n){"use strict";n.d(t,"a",(function(){return c})),n.d(t,"b",(function(){return l}));var o=n("D57K"),i=n("nsO7"),s=n("wHJ2"),r=n("pjml"),a=n("+brj"),c="ultra.service.course.content.copy",l="courseContentCopy",d=function(){function e(e,t){var n=this;this.browserStorage=e,this.$q=t,this.COPY_TASKS_KEY="COPY-TASKS-ID",this.DISMISSED_TASKS_KEY="DISMISSED-COPY-TASKS-ID",this.getCurrentCopyTaskErrorSummaries=function(e){return n.getCurrentCopyTasks().then((function(t){return void 0===t&&(t=[]),t.length?n.getErrorSummaries(e,t):[]}))},this.getCurrentCopyTaskErrorCountsByCategory=function(e){return n.getCurrentCopyTaskErrorSummaries(e).then((function(e){return i.map(e,(function(e){return n.mergeTasksWithinCourseGrouping(e)}))}))},this.mergeTasksWithinCourseGrouping=function(e){var t=i.first(e),o=t.sourceCourseName,s=t.sourceCourseId;return{errorCountsByCategory:i(e).flatMap((function(e){return e.errorCountsByCategory})).groupBy((function(e){return e.name})).map((function(e,t){return n.mergeErrorCountsOfSameCategory(e)})).sortBy((function(e){return n.localizedCategoryName(e.name)})).value(),sourceCourseId:s,sourceCourseName:o,taskIds:i.map(e,(function(e){return e.taskId}))}},this.mergeErrorCountsOfSameCategory=function(e){return i.reduce(e,(function(e,t){return{count:e.count+t.count,name:t.name}}),{count:0,name:""})},this.localizedCategoryName=function(e){var t=r.n.ConversionContentCategory.parse(e);return t?t.getLocalizableCategoryNameKey():null},this.getErrorSummaries=function(e,t){return void 0===t&&(t=[]),e.getGranularCopyTaskStatus(t).then((function(e){r.n.ConversionReportStatus.Success;var t=i(e.results).groupBy("sourceCourseId").mapValues((function(e,t){return i.head(e).sourceCourseName})).value();return i(e.results).filter((function(e){return!!e.errorCountsByCategory.length})).groupBy("sourceCourseId").sortBy((function(e,n){return t[n]})).map((function(e,t){return e})).value()}))},this.copyDetailsNotificationCount=function(e){return n.getCopyDetailsNotificationTasks().then((function(t){return i(e).flatMap().filter((function(e){return i.includes(t,e.taskId)})).flatMap("errorCountsByCategory").reduce((function(e,t){return e+t.count}),0)}))},this.resetCopyDetailsNotificationCount=function(){n.getCurrentCopyTasks().then((function(e){void 0===e&&(e=[]),n.browserStorage.saveToStorage(n.DISMISSED_TASKS_KEY,e,a.a.SessionStorage)}))}}return e.prototype.getCurrentCopyTasks=function(){return this.browserStorage.getFromStorage(this.COPY_TASKS_KEY,a.a.SessionStorage)},e.prototype.getCopyDetailsNotificationTasks=function(){var e=this.browserStorage.getFromStorage(this.DISMISSED_TASKS_KEY,a.a.SessionStorage),t=this.browserStorage.getFromStorage(this.COPY_TASKS_KEY,a.a.SessionStorage);return this.$q.all([e,t]).then((function(e){var t=e[0],n=void 0===t?[]:t,o=e[1];return(void 0===o?[]:o).filter((function(e){return!i.includes(n,e)}))}))},e.prototype.appendToCurrentCopyTasks=function(e){var t=this;return void 0===e&&(e=[]),this.browserStorage.getFromStorage(this.COPY_TASKS_KEY,a.a.SessionStorage).then((function(n){return void 0===n&&(n=[]),t.browserStorage.saveToStorage(t.COPY_TASKS_KEY,Object(o.__spreadArrays)(n,e),a.a.SessionStorage)}))},e.prototype.clearCopyTasks=function(){this.browserStorage.deleteFromStorage(this.DISMISSED_TASKS_KEY,a.a.SessionStorage),this.browserStorage.deleteFromStorage(this.COPY_TASKS_KEY,a.a.SessionStorage)},e.$inject=[a.c,"$q"],e}();!function(e){function t(){return null!==e&&e.apply(this,arguments)||this}Object(o.__extends)(t,e)}(d);s.module(c,[r.R]).service(l,d)},"2E9T":function(e,t){e.exports='<bb-svg-icon size="small" icon="add" class="js-add-plus add-circle-default"></bb-svg-icon>\n<bb-svg-icon size="small" icon="add" status="active" class="js-add-plus add-circle-active"></bb-svg-icon>'},"2a+M":function(e,t,n){"use strict";(function(e){n.d(t,"c",(function(){return l})),n.d(t,"d",(function(){return d})),n.d(t,"b",(function(){return u})),n.d(t,"a",(function(){return p}));var o=n("D57K"),i=n("nsO7"),s=n("wHJ2"),r=n("nbDY"),a=n.n(r),c=n("0JpG"),l="ultra.services.dragDrop",d="dragDropService",u=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(o.__extends)(t,e),t.TOP=new t("TOP"),t.BOTTOM=new t("BOTTOM"),t.FOLDER=new t("FOLDER"),t.SELF=new t("SELF"),t}(a.a),p=function(){function t(e,t){var n=this;this.$timeout=e,this.bbLocalize=t,this.dragHoverClass="dz-drag-hover",this.dragElementSelector=".drag-element",this.onFolderClass="on-folder",this.onNestedFolderClass="on-nested-folder",this.originalElementClass="drag-element-original",this.movableElementClass="drag-element-movable",this.queuedScreenReaderMessages="",this.bbLocalize.loadBundle("components/services/drag-drop").then((function(){n.folderDepthMessageKey="components.services.drag-drop.folderDepthMessage"}))}return t.prototype.createDropPlaceholderElement=function(t){this.dropPlaceholderElement=e('<div class="dragdropplaceholder js-no-file-drop" style="height: '+t.height()+"px; width: "+t.width()+'px"></div>')},t.prototype.setDropTarget=function(e){this.lastDropTargetId=this.currentDropTargetId,this.currentDropTargetId=e},t.prototype.clearDropTarget=function(){this.setDropTarget(void 0)},t.prototype.isCurrentDropTarget=function(e){return this.currentDropTargetId===e},t.prototype.isNotSameDropTarget=function(){return this.currentDropTargetId!==this.lastDropTargetId},t.prototype.scrollDragDropItemsContainer=function(e,n){var o=this._getScrollingContainerElement();if(o){var i=e<t.SCROLLING_CONSTANTS.scrollZoneHeight,s=e>o.height()-t.SCROLLING_CONSTANTS.scrollZoneHeight,r=o.scrollTop();i?o.scrollTop(r-n):s&&o.scrollTop(r+n)}},t.prototype._getScrollingContainerElement=function(){var e=this,n=t.SCROLL_CONTAINERS_SELECTORS.map((function(t){return e.originalElement.closest(t)}));return i.find(n,(function(t){return e._elementHasScrollbar(t)}))},t.prototype._elementHasScrollbar=function(e){return e.get(0).scrollHeight>e.innerHeight()},t.SCROLLING_CONSTANTS={scrollZoneHeight:200,mouseInteractionDistanceToScroll:30,keyboardInteractionDistanceToScroll:200},t.SCROLL_CONTAINERS_SELECTORS=[".panel-wrap",".panel-content"],t.$inject=["$timeout",c.serviceName],t}();!function(e){function t(){return null!==e&&e.apply(this,arguments)||this}Object(o.__extends)(t,e)}(p);s.module(l,[c.moduleName]).service(d,p)}).call(this,n("5iHu"))},"2i58":function(e,t,n){var o=n("ziER"),i=n("5JeM"),s=new o({id:"icon-small-content-market",use:"icon-small-content-market-usage",viewBox:"0 0 16 16",content:'<symbol fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" id="icon-small-content-market"><path d="M2 2h13l-1 8H4" stroke-width="2" stroke-linejoin="round" /><circle cx="13" cy="14" r="1" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" /><circle cx="4" cy="14" r="1" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" /><path d="M3 6h11.5M7 2v8M11 2v8M1 1h1l2 12h9" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" /></symbol>'});i.add(s);e.exports=s},"2uh6":function(e,t,n){var o=n("ziER"),i=n("5JeM"),s=new o({id:"icon-large-message",use:"icon-large-message-usage",viewBox:"0 0 38 38",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 38 38" id="icon-large-message"><path fill="#FFF" d="M6 29.5c-.827 0-1.5-.673-1.5-1.5V10c0-.827.673-1.5 1.5-1.5h26c.827 0 1.5.673 1.5 1.5v18c0 .827-.673 1.5-1.5 1.5H6z" /><path fill="#767676" d="M32 9c.551 0 1 .449 1 1v18c0 .551-.449 1-1 1H6c-.551 0-1-.449-1-1V10c0-.551.449-1 1-1h26m0-1H6c-1.1 0-2 .9-2 2v18c0 1.1.9 2 2 2h26c1.1 0 2-.9 2-2V10c0-1.1-.9-2-2-2z" /><path fill="none" stroke="#767676" stroke-linejoin="round" stroke-miterlimit="10" d="M5 9l14 11L33 9" /><path fill="none" stroke="#767676" stroke-miterlimit="10" d="M16 18L5 29M33 29L22 18" /></symbol>'});i.add(s);e.exports=s},"367g":function(e,t,n){},"3Jgm":function(e,t,n){"use strict";var o=n("D57K"),i=n("wHJ2"),s=n("pjml"),r=n("Qbdf"),a=n("k9iv"),c=n("0JpG"),l=n("TnpK"),d=n("Sa5G"),u=n("FBBZ"),p=n("5iHu");var h=n("Q/M7");n.d(t,"a",(function(){return m})),n.d(t,"b",(function(){return b}));var m="ultra.components.services.partner",b="partner",g=function(){function e(e,t,n,o,i,s,r,a,c,l,d,u){this.$q=e,this.$rootScope=t,this.$stateParams=n,this.$window=o,this.cacheFactory=i,this.contextCourse=s,this.errorModalService=r,this.localizeService=a,this.ultraStateService=c,this.PartnerCourseModel=l,this.PartnerModel=d,this.PartnerStatusModel=u,this.shortMaxAge=5e3,this.partnerStatusCache=i.createCache("PartnerStatusCache",{deleteOnExpire:"passive",maxAge:this.shortMaxAge}),this.partnersCache=i.createCache("PartnersCache",{deleteOnExpire:"passive",maxAge:this.shortMaxAge}),this.partnerLinkedCoursesCache=i.createCache("PartnerLinkedCoursesCache",{deleteOnExpire:"passive",maxAge:this.shortMaxAge})}return e.prototype.getPartnerCloudStatus=function(e,t){if(void 0===t&&(t=!1),p("body").hasClass("bb-within-uia-test"))return this.$q.when({enabled:!1,userCloudProvisioned:!1});if(t)return this.PartnerStatusModel.getStatus(e);var n=this.partnerStatusCache.get("status");return n||(n={promise:this.PartnerStatusModel.getStatus(e)},this.partnerStatusCache.put("status",n)),n.promise},e.prototype.resetPartnerCloudStatus=function(){this.partnerStatusCache.removeAll()},e.prototype.getPartners=function(e,t){if(void 0===t&&(t=!1),t)return this.PartnerModel.getPartnersByType(e);var n=this.partnersCache.get(e);return n||(n={promise:this.PartnerModel.getPartnersByType(e)},this.partnersCache.put(e,n)),n.promise},e.prototype.getLinkedPartners=function(e,t){if(void 0===t&&(t=!1),t)return this.PartnerCourseModel.$new(e).partnerLinkedCourses.$search().$allow(["400-599"]).$asPromise();var n=this.partnerLinkedCoursesCache.get(e);return n||(n={promise:this.PartnerCourseModel.$new(e).partnerLinkedCourses.$search().$allow(["400-599"]).$asPromise()},this.partnerLinkedCoursesCache.put(e,n)),n.promise},e.prototype.launchPartner=function(e,t){e.toolProvider.available?u.p(e)?this._launchBrowseLink(e.browseContentLink):this._checkProvisioningAndLaunch(e,t):e.toolProvider.compatible?this.errorModalService.handleError(this.localizeService.translateSync({locale:this.localizeService.getLocale(this.$rootScope),key:"course.partnerList.errorProviderNotConfigured"})):this.errorModalService.handleError(this.localizeService.translateSync({locale:this.localizeService.getLocale(this.$rootScope),key:"course.partnerList.errorProviderIncompatible"}))},e.prototype._checkProvisioningAndLaunch=function(e,t){var n=this;this._getProvisioningCheckResult(e.providerId,t).then((function(t){var o;t.status?(o={partnerId:e.providerId,toolType:"browse",partnerTitle:u.i(e)},d.x.Inline.isEqualTo(n.$stateParams.mode)?o.mode=n.$stateParams.mode:(o.partnerParentId=n.$stateParams.parentId,o.position=n.$stateParams.position)):(o={partnerId:e.providerId,toolType:"partnerProvisioning",partnerTitle:n.localizeService.translateSync({locale:n.localizeService.getLocale(n.$rootScope),key:"course.partnerList.partnerProvisioning"}),partnerParentId:n.$stateParams.parentId},n.ultraStateService.current.name.indexOf("peek.books-and-tools")>=0&&(o.returnState="base.courses.peek.course.outline.peek.books-and-tools")),n.ultraStateService.goPeekState("partner-tool.tool",o)}))},e.prototype._getProvisioningCheckResult=function(e,t){return i.isDefined(t)?this.$q.when({status:t}):this.PartnerCourseModel.$new(this.contextCourse.courseId).updateProvisioning(e)},e.prototype._launchBrowseLink=function(e){var t=h.c(e.url);switch(this.$stateParams.parentId&&(t=h.a(t,"content_id",this.$stateParams.parentId)),e.target){case"_self":this._windowLocationAssign(t);break;case"_blank":this.$window.open(t)}},e.prototype._windowLocationAssign=function(e){this.$window.location.assign(e)},e.$inject=["$q","$rootScope","$stateParams","$window","DSCacheFactory",r.e,a.c,c.serviceName,l.d,s.X.serviceName,s.V.serviceName,s.Z.serviceName],e}();!function(e){function t(){return null!==e&&e.apply(this,arguments)||this}Object(o.__extends)(t,e)}(g);i.module(m,[r.b,a.b,c.moduleName,l.b,s.R]).service(b,g)},"3YxC":function(e,t,n){var o=n("ziER"),i=n("5JeM"),s=new o({id:"icon-medium-unlock",use:"icon-medium-unlock-usage",viewBox:"0 0 24 24",content:'<symbol fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" id="icon-medium-unlock"><path d="M11 16c0-.5523.4477-1 1-1v0c.5523 0 1 .4477 1 1v2c0 .5523-.4477 1-1 1v0c-.5523 0-1-.4477-1-1v-2z" stroke-width="2" /><path stroke-width="2" stroke-linecap="round" stroke-linejoin="round" d="M3 11h18v12H3zM6 11V6s0-5 6-5c2.6981 0 4.1829 1.011 5 2.1239" /></symbol>'});i.add(s);e.exports=s},"3mIl":function(e,t,n){var o=n("ziER"),i=n("5JeM"),s=new o({id:"icon-small-import",use:"icon-small-import-usage",viewBox:"0 0 16 16",content:'<symbol fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" id="icon-small-import"><path d="M15 9.091V15H1V1h5.909M15 1l-9 9" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" /><path d="M6 7v3h3" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" /></symbol>'});i.add(s);e.exports=s},"4ICS":function(e,t,n){var o=n("ziER"),i=n("5JeM"),s=new o({id:"icon-medium-question-bank",use:"icon-medium-question-bank-usage",viewBox:"0 0 24 24",content:'<symbol fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" id="icon-medium-question-bank"><path stroke-width="2" stroke-linecap="round" stroke-linejoin="round" d="M1 13h22v10H1zM8 5h2v2H8zM8 10h2v2H8zM8 18h8" /><path d="M4 13V1h16v12M13 5h4M13 10h4" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" /></symbol>'});i.add(s);e.exports=s},"4qUd":function(e,t){e.exports='<div bb-load-bundle="components/directives/schedule-outline" class="schedule-outline">\n\n  \x3c!-- compact representation, used on /courses --\x3e\n  <div ng-if="scheduleOutlineCollection().length !== 0 && compact()" class="compact">\n    \x3c!-- If there is only one schedule for this course - show it. --\x3e\n    <div ng-if="scheduleOutlineCollection().length === 1">\n      <p class="location-name" ng-if="scheduleOutlineCollection()[0].location">{{scheduleOutlineCollection()[0].getTruncatedLocation(TRUNCATION_LOCATION_COURSE_CARD)}}</p>\n      <p class="schedule">\n        <span ng-switch="scheduleOutlineCollection()[0].recurRules.freq">\n          <span ng-switch-when="WEEKLY">{{scheduleOutline.getWeeklyRepeatLabel(scheduleOutlineCollection()[0])}}</span>\n          <span ng-switch-when="MONTHLY">\n            <span bb-translate>scheduleOutline.monthlyEvent</span>\n            <span bb-translate ng-if="scheduleOutline.getNextEventDate(scheduleOutlineCollection()[0])">scheduleOutline.nextMonthlyEvent</span>\n            <span ng-if="scheduleOutline.getNextEventDate(scheduleOutlineCollection()[0] )" bb-date="scheduleOutline.getNextEventDate(scheduleOutlineCollection()[0])" format="short" auto-update="true"></span>\n          </span>\n          <span ng-switch-when="DAILY" bb-translate>scheduleOutline.dailyEvent</span>\n        </span>\n        <span ng-if="scheduleOutlineCollection()[0].isAllDayEvent()" bb-translate>scheduleOutline.allDay</span>\n        <span ng-if="!scheduleOutlineCollection()[0].isAllDayEvent()"><span bb-time="{{scheduleOutlineCollection()[0].startDate}}" auto-update="true" format="Short"></span> - <span bb-time="{{scheduleOutlineCollection()[0].endDate}}" auto-update="true" format="Short"></span></span>\n      </p>\n    </div>\n\n    \x3c!-- if there is more than one schedule for this course - just tell how many schedules available. --\x3e\n    <div ng-if="scheduleOutlineCollection().length > 1">\n      <span bb-translate translate-values="{count: scheduleOutlineCollection().length}">scheduleOutline.moreMeetingsCompact.plural</span>\n    </div>\n  </div>\n\n  \x3c!-- normal representation --\x3e\n  <div ng-if="scheduleOutlineCollection().length !== 0 && !compact()" class="regular">\n    <div class="item clearfix js-course-schedule" ng-repeat="repeatingEvent in scheduleOutline.getSchedules() track by $index">\n      <div class="element-card">\n        <div class="element-image" ng-if="$first">\n          <bb-svg-icon size="medium" icon="away"></bb-svg-icon>\n        </div>\n        <div class="element-details">\n          <div ng-switch="repeatingEvent.recurRules.freq" class="name">\n            <span ng-switch-when="WEEKLY">{{scheduleOutline.getWeeklyRepeatLabel(repeatingEvent)}}</span>\n            <span ng-switch-when="MONTHLY">\n              <span bb-translate>scheduleOutline.monthlyEvent</span> <br/>\n              <span bb-translate ng-if="scheduleOutline.getNextEventDate(repeatingEvent)">scheduleOutline.nextMonthlyEvent</span>\n              <span ng-if="scheduleOutline.getNextEventDate(repeatingEvent)" bb-date="{{scheduleOutline.getNextEventDate(repeatingEvent)}}" format="short" auto-update="true"></span>\n            </span>\n            <span ng-switch-when="DAILY">\n              <span bb-translate>scheduleOutline.dailyEvent</span> <br/>\n              <span bb-translate ng-if="scheduleOutline.getNextDailyEventDate(repeatingEvent)">scheduleOutline.nextMonthlyEvent</span>\n              <span ng-if="scheduleOutline.getNextDailyEventDate(repeatingEvent)" bb-date="{{scheduleOutline.getNextDailyEventDate(repeatingEvent)}}" format="short" auto-update="true"></span>\n            </span>\n          </div>\n          <div ng-if="repeatingEvent.isAllDayEvent()" bb-translate>scheduleOutline.allDay</div>\n          <div ng-if="!repeatingEvent.isAllDayEvent()"><span bb-time="{{repeatingEvent.startDate}}" format="Short" auto-update="true"></span> - <span bb-time="{{repeatingEvent.endDate}}" format="Short" auto-update="true"></span></div>\n        </div>\n      </div>\n      <div class="element-card" ng-if="scheduleOutline.areAnyLocationsSet()">\n        <div class="element-image" ng-if="$first">\n          <bb-svg-icon size="medium" icon="location"></bb-svg-icon>\n        </div>\n        <div class="element-details">\n          <span class="name" ng-if="$first || repeatingEvent.location !== scheduleOutlineCollection()[$index -1].location">{{repeatingEvent.getTruncatedLocation(TRUNCATION_LOCATION_OUTLINE)}}</span><br/>\n        </div>\n      </div>\n    </div>\n    <div ng-if="scheduleOutlineCollection().length > 2" class="item more" ng-class="{right: scheduleOutline.areAnyLocationsSet()}">\n      <a bb-peek-sref="class-schedule"\n         bb-translate\n         translate-values="{count: scheduleOutlineCollection().length - 2}"\n         analytics-id="scheduleOutline.moreMeetings.plural">\n        scheduleOutline.moreMeetings.plural\n      </a>\n    </div>\n  </div>\n</div>\n'},"5Tom":function(e,t,n){"use strict";n.d(t,"b",(function(){return p})),n.d(t,"a",(function(){return h}));var o=n("D57K"),i=(n("JfeD"),n("nYZ0")),s=n("fYJU"),r=n("0JpG"),a=n("TnpK"),c=n("0/Nk"),l=n("OI4n"),d=n("yC9S"),u=n("aHpC"),p="ultra.directives.group.group-student-enrollment",h=function(){function e(e,t,n,o,i){this.scope=e,this.contentService=t,this.currentUserService=n,this.localize=o,this.ultraState=i,this.isSelfEnrollment=!1}return e.prototype.$onInit=function(){this.render()},e.prototype.render=function(){return Object(o.__awaiter)(this,void 0,void 0,(function(){var e,t,n,i,s;return Object(o.__generator)(this,(function(o){switch(o.label){case 0:return this.content.selfEnrollmentGroups&&this.content.selfEnrollmentGroups.length>0?(e=this.localize.getReactBabelfishParams(),t=e.locale,n=e.babelfishFormatter,i=this.content.selfEnrollmentGroups.filter((function(e){return e.group})).map((function(e){return e.group})),s=this,[4,l.getSelfEnrollmentGroupInfo(i,t,n)]):[3,2];case 1:return s.selfEnrollGroupInfo=o.sent(),this.isSelfEnrollment=this.selfEnrollGroupInfo.isSelfEnrollment,[3,3];case 2:this.isSelfEnrollment=!1,o.label=3;case 3:return[2]}}))}))},e.prototype.openContentEnrollPanel=function(){return Object(o.__awaiter)(this,void 0,void 0,(function(){return Object(o.__generator)(this,(function(e){switch(e.label){case 0:return this.fromView?this.ultraState.current.name.endsWith("discussion.view.with-grading.peek.discussion-details")?[4,this.ultraState.leavePeekState()]:[3,4]:[3,8];case 1:return e.sent(),[4,this.ultraState.leavePeekState()];case 2:return e.sent(),[4,this.ultraState.goPeekState("content-group-enroll",{courseId:this.content.courseId,contentId:this.content.id,fromView:this.fromView})];case 3:return e.sent(),[3,7];case 4:return[4,this.ultraState.leavePeekState()];case 5:return e.sent(),[4,this.ultraState.goPeekState("content-group-enroll",{courseId:this.content.courseId,contentId:this.content.id,fromView:this.fromView})];case 6:e.sent(),e.label=7;case 7:return[3,10];case 8:return[4,this.ultraState.goPeekState("content-group-enroll",{courseId:this.content.courseId,contentId:this.content.id})];case 9:e.sent(),e.label=10;case 10:return[2]}}))}))},e.prototype.isBeforeEnrollment=function(){return this.selfEnrollGroupInfo&&"Before"===this.selfEnrollGroupInfo.enrollmentDateState},e.prototype.isOpenEnrollment=function(){return this.selfEnrollGroupInfo&&"Open"===this.selfEnrollGroupInfo.enrollmentDateState},e.prototype.isOpenEnrollmentWithEnding=function(){return this.selfEnrollGroupInfo&&"Open"===this.selfEnrollGroupInfo.enrollmentDateState&&null!=this.selfEnrollGroupInfo.relativeDate},e.prototype.isAfterEnrollment=function(){return this.selfEnrollGroupInfo&&"After"===this.selfEnrollGroupInfo.enrollmentDateState},e=Object(o.__decorate)([Object(d.a)({moduleName:p,componentName:"bbGroupStudentEnrollment",template:c,bindings:{content:"<",fromView:"@"},requireModules:[i.d,s.a,r.moduleName,a.b]}),Object(o.__param)(0,Object(u.b)("$scope")),Object(o.__param)(1,Object(u.b)(i.e)),Object(o.__param)(2,Object(u.b)(s.b)),Object(o.__param)(3,Object(u.b)(r.serviceName)),Object(o.__param)(4,Object(u.b)(a.d))],e)}()},"6TNA":function(e,t){e.exports='<span class="schema-grade">{{displayGrade.fullDisplayGrade}}</span>\n'},"6s5h":function(e,t,n){var o=n("ziER"),i=n("5JeM"),s=new o({id:"icon-medium-onedrivebiz",use:"icon-medium-onedrivebiz-usage",viewBox:"0 0 24 24",content:'<symbol fill="currentColor" xmlns="http://www.w3.org/2000/svg" stroke="transparent" viewBox="0 0 24 24" id="icon-medium-onedrivebiz"><path d="M21.8171 14.5845c0-2.0178-1.6394-3.6572-3.6572-3.6572-.6306 0-1.135.1261-1.6395.3783-.7567-1.0089-2.0178-1.6395-3.405-1.6395-2.1439 0-4.0356 1.6395-4.2878 3.7834-1.7656 0-3.1528 1.3872-3.1528 3.1528 0 1.7655 1.3872 3.1528 3.1528 3.1528H21.3127c1.5133 0 2.6483-1.135 2.6483-2.6484.2522-1.2611-.7567-2.3961-2.1439-2.5222z" fill="#000" /><path d="M4.54 16.6023c0-2.1439 1.5134-3.9095 3.405-4.2878.7567-2.27 2.9006-3.9095 5.2967-3.9095 1.3873 0 2.6484.5045 3.6573 1.3872.5044-.126.8828-.2522 1.3872-.2522h.1261C18.2862 7.0178 16.0162 5 13.3678 5c-2.0177 0-3.6572 1.135-4.4139 2.6483-.6305-.2522-1.3872-.5044-2.1439-.5044-2.27 0-4.0355 1.7656-4.0355 4.0356 0 .2522 0 .5044.126.7566C1.2612 12.1884 0 13.4495 0 15.0889c0 1.7656 1.5133 3.2789 3.279 3.2789h1.5133c-.1262-.5044-.2523-1.135-.2523-1.7655z" fill="#000" /></symbol>'});i.add(s);e.exports=s},"6sUD":function(e,t){e.exports='<div>\n  \x3c!-- Display a loading spinner if page is rendering --\x3e\n  <div class="telemetry-loading-anim" ng-if="telemetryPanelHeader.showSpinner">\n    <div class="spinner bb-secondary-color-2"/>\n  </div>\n  <header class="panel-header simple-header">\n    <div class="panel-titles-container">\n      <div class="panel-sub-title">{{ ::course().name }}</div>\n      <div class="black-header-contents">\n        <button class="left-off-canvas-toggle menu-toggle standard-button dark-background"\n                type="button"\n                analytics-id="components.directives.telemetry.panel.menu.button">\n          <bb-svg-icon size="small" icon="main-menu"></bb-svg-icon>\n          <span class="sr-only" bb-translate>components.directives.telemetry.panel.menu</span>\n        </button>\n        <h1 class="panel-title" ng-if="::titleKey" bb-translate>{{::titleKey}}</h1>\n        <h1 class="panel-title" ng-if="title">{{::title}}</h1>\n        \x3c!-- BUTTON 2 (displayed to the left of Button 1) --\x3e\n        <button ng-if="buttonTwoIcon" id="button-two"\n                aria-haspopup="true"\n                class="standard-button dark-background hide-for-large-up"\n                bb-translate-attrs="{\'aria-label\': buttonTwoAriaLabel,\'title\': buttonTwoTitle}"\n                ng-click="buttonTwoCallback()"\n                ng-class="{ \'active\': mobileStudentListVisible }"\n                analytics-id="components.directives.telemetry.panel.buttonwTwo.button">\n          <i class="{{ ::buttonTwoIcon }}"></i>\n          <span class="sr-only" bb-translate>buttonTwoTitle</span>\n        </button>\n        \x3c!-- BUTTON 1 (displayed on the far right) --\x3e\n        <button ng-if="buttonOneIcon"\n                id="button-one"\n                class="standard-button dark-background hide-for-large-up"\n                bb-translate-attrs="{\'aria-label\': buttonOneAriaLabel,\'title\': buttonOneTitle}"\n                ng-click="buttonOneCallback()"\n                analytics-id="components.directives.telemetry.panel.buttonOne.button">\n          <i class="{{ ::buttonOneIcon }}"></i>\n          <span class="sr-only" bb-translate>buttonOneTitle</span>\n        </button>\n      </div>\n    </div>\n  </header>\n</div>\n'},"6xt4":function(e,t){e.exports='<div\n  ng-switch="rootContent().isInForcedSequenceModule() || rootContent().isForcedSequenceModule() "\n  id="{{::addContentButton.getButtonWrapperId()}}"\n  tabindex="-1"\n>\n  <button\n    ng-switch-when="true"\n    id="{{::addContentButton.getTargetId()}}"\n    class="button-add-content js-show-add-options"\n    ng-class="{hide: !(addContentButton.isButtonVisible || addContentButton.alwaysShow || addContentButton.isMenuVisible)}"\n    bb-tooltip\n    enhanced-tooltip="true"\n    tooltip-open-on-activation="true"\n    tooltip-disable-on-mouse-over="true"\n    aria-expanded="{{addContentButton.isMenuVisible}}"\n    aria-controls="{{::\'add-content-menu-\' + addMenuId}}"\n    aria-label="{{addContentButton.addButtonAriaLabel}}"\n    bb-translate-attrs="{ title: \'course.outline.addForbidden.text\' }"\n    analytics-id="components.directives.add-content-button.course-outline.button"\n    >\n  </button>\n  <button\n    ng-switch-default\n    id="{{::addContentButton.getTargetId()}}"\n    class="button-add-content js-show-add-options"\n    data-show-add-options\n    ng-click="addContentButton.toggleAddContentMenu()"\n    ng-class="{hide: !(addContentButton.isButtonVisible || addContentButton.alwaysShow || addContentButton.isMenuVisible)}"\n    aria-expanded="{{addContentButton.isMenuVisible}}"\n    aria-controls="{{::\'add-content-menu-\' + addMenuId}}"\n    aria-label="{{addContentButton.addButtonAriaLabel}}"\n    ng-focus="addContentButton.showButton()"\n    ng-blur="addContentButton.hideButton()"\n    analytics-id="components.directives.add-content-button.course-outline.addContentMenu.button">\n  </button>\n</div>\n<bb-ui-contextual-menu\n  items="addContentButton.items"\n  target-id="::addContentButton.getTargetId()"\n  show="addContentButton.isMenuVisible && !addContentButton.isEmptyFolder()"\n  directional-hint="::addContentButton.getDirectionalHint()"\n  dismiss="addContentButton.hideAddContentMenu"\n  analytics-id="components.directives.add-content-button.contextualMenu">\n</bb-ui-contextual-menu>\n<ul class="element-list-add-menu angular-animate small-block-grid-2 medium-block-grid-2 large-block-grid-3"\n    ng-attr-id="{{::\'add-content-menu-\' + addMenuId}}"\n    ng-show="addContentButton.isEmptyFolder()">\n  <li ng-if="addContentButton.isEmptyFolder()">\n    <a class="js-create"\n       bb-peek-sref="content-manage.create(addContentButton.getInsertLocationData())"\n       analytics-id="components.directives.add-content-button.course-outline.link">\n      <div>\n        <bb-svg-icon size="small" icon="add"></bb-svg-icon>\n        <span bb-translate>components.directives.add-content-button.create</span>\n      </div>\n    </a>\n  </li>\n  <li ng-if="addContentButton.currentCourse.canCopy() && addContentButton.isEmptyFolder()">\n    <a class="content-import-button"\n       bb-peek-sref="content-manage.copy(addContentButton.getInsertLocationData())"\n       analytics-id="components.directives.add-content-button.course-outline.import.link">\n      <div>\n        <bb-svg-icon size="small" icon="duplicate"></bb-svg-icon>\n        <span bb-translate>components.directives.add-content-button.copy</span>\n      </div>\n    </a>\n  </li>\n  <li>\n    <bb-file-upload\n      url="/v1/files"\n      data="{}"\n      monitor-leave="true"\n      allow-multiple="true"\n      hide-transclude-during-upload="false"\n      is-content="true"\n      primary-key="fileListViewLocalId"\n      skip-zip-file-check="true"\n      class="js-file-upload"\n      depth="depth()">\n      <button ng-if="addContentButton.isEmptyFolder()"\n              class="file-upload-button"\n              analytics-id="components.directives.add-content-button.course-outline.upload.button">\n        <div>\n          <bb-svg-icon size="small" icon="upload"></bb-svg-icon>\n          <span bb-translate>components.directives.add-content-button.upload</span>\n        </div>\n      </button>\n    </bb-file-upload>\n  </li>\n  <li ng-if="addContentButton.isEmptyFolder()">\n    <a class="js-content-market"\n       href="javascript:void(0);"\n       ng-click="addContentButton.openContentMarket()"\n       analytics-id="components.directives.add-content-button.course-outline.openContentMarket.link">\n      <div>\n        <bb-svg-icon size="small" icon="content-market"></bb-svg-icon><span bb-translate>components.directives.add-content-button.contentMarket</span>\n      </div>\n    </a>\n  </li>\n  <li ng-if="::addContentButton.isCloudServiceAvailable">\n    <bb-file-upload\n      allow-multiple="true"\n      monitor-leave="true"\n      is-third-party-upload="true"\n      hide-transclude-during-upload="false"\n      click-enabled="false"\n      primary-key="fileListViewId"\n      skip-zip-file-check="true"\n      third-party-download-handler="addContentButton.downloadFile"\n      target-div="{{\'#\' + fileListViewId}}"\n      disable-drag="true"\n      ignored-states="[\'content-manage.import\']">\n      <button\n        class="doc-add-media clear ng-scope"\n        bb-kloudless\n        primary-key="fileListViewId"\n        attach-handler="addContentButton.defaultAttachHandler"\n        web-location="{{webLocation}}"\n        file-location="{{fileLocation}}"\n        allow-multiple="true"\n        on-files-selected="addContentButton.onFilesSelectedHandler"\n        analytics-id="components.directives.add-content-button.course-outline.importContentFromCloudStorage.button">\n        <bb-svg-icon size="small" icon="upload-cloud"></bb-svg-icon>\n        <span bb-translate>components.directives.add-content-button.importContentFromCloudStorage.title</span>\n      </button>\n    </bb-file-upload>\n  </li>\n  <li ng-if="addContentButton.isEmptyFolder()">\n    <a class="js-content-collection"\n       bb-peek-sref="content-collection(addContentButton.getInsertLocationData())"\n       analytics-id="components.directives.add-content-button.course-outline.contentCollection.link">\n      <div>\n        <bb-svg-icon size="small" icon="content-collection"></bb-svg-icon>\n        <span bb-translate>components.directives.add-content-button.contentCollection</span>\n      </div>\n    </a>\n  </li>\n</ul>\n'},"7BzJ":function(e,t,n){},"7UH7":function(e,t){e.exports='<div class="text-editor" tabindex="-1" bb-load-bundle="components/directives/text-editor" bb-cache-compilation="basic-text-editor">\n  <label ng-if="inputLabelKey" class="text-editor-label" for="{{::elementId}}" bb-translate>{{::inputLabelKey}}</label>\n  <textarea id="{{::elementId}}"\n         class="read-mode editor-element"\n         name="{{::elementId}}"\n         tabindex="0"\n         type="text"\n         bb-validate-maxlength="{{::getInputMaxLength()}}"\n         ng-model="ngModel"\n         maxlength="{{::(getInputMaxLength() || \'\')}}"\n         ng-model-options="{ getterSetter: true }"\n         ng-disabled="{{::readonly()}}"\n         fng-blur="textEditor.onBlur()"\n         fng-focus="textEditor.onFocus()"\n         fng-keyup="textEditor.onChange($event)"\n         fng-keydown="textEditor.onKeydown($event)"\n         bb-translate-attrs="{ \'placeholder\': \'{{placeholderKey}}\' }"\n         aria-label="{{textEditor.getContentLabel()}}"\n         translate-attrs-values="{{::placeholderAttrsValues}}"\n         bb-focus-on="{{::focusOn}}"\n         ng-required="::fieldRequired()"\n         analytics-id="components.textEditor.basicEditor.textarea"></textarea>\n  <div bb-validation-messages\n       ng-if="::!noValidationMessage()"\n       for="{{::elementId}}" immediate="true">\n    <span ng-message="maxlengthImmediate">\n      <span bb-translate translate-values="{ diff: element.$errorImmediate.maxlengthImmediate.diff }">\n        components.directives.validation.messages.errors.maxlength.plural\n      </span>\n    </span>\n  </div>\n</div>\n'},"8+lX":function(e,t,n){var o=n("ziER"),i=n("5JeM"),s=new o({id:"icon-small-replies",use:"icon-small-replies-usage",viewBox:"0 0 16 16",content:'<symbol fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" id="icon-small-replies"><path d="M1 5h14v10H1v-4" stroke-width="2" stroke-miterlimit="10" stroke-linecap="round" stroke-linejoin="round" /><path d="M3 3L1 5l2 2" stroke-width="2" stroke-miterlimit="10" stroke-linecap="round" stroke-linejoin="round" /></symbol>'});i.add(s);e.exports=s},"82Nl":function(e,t,n){var o=n("ziER"),i=n("5JeM"),s=new o({id:"icon-medium-location",use:"icon-medium-location-usage",viewBox:"0 0 24 24",content:'<symbol fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" id="icon-medium-location"><path d="M20 9c0 4.4183-8 14-8 14S4 13.4183 4 9s3.5817-8 8-8 8 3.5817 8 8z" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" /><circle cx="12" cy="9" r="4" stroke-width="2" /></symbol>'});i.add(s);e.exports=s},"8LHV":function(e,t){e.exports='<div tabindex="-1" id="{{::addContentButton.getButtonWrapperId()}}">\n  <button\n    aria-expanded="{{addContentButton.isMenuVisible}}"\n    aria-label="{{addContentButton.addButtonAriaLabel}}"\n    ng-class="{hide: !(addContentButton.isButtonVisible || addContentButton.alwaysShow || addContentButton.isMenuVisible)}"\n    ng-focus="addContentButton.showButton()"\n    ng-blur="addContentButton.hideButton()"\n    class="button-add-content"\n    id="{{::addContentButton.getTargetId()}}"\n    ng-click="addContentButton.toggleAddContentMenu()"\n    analytics-id="components.directives.add-content-button.discussion.button"\n  >\n  </button>\n</div>\n<bb-ui-contextual-menu\n  items="::addContentButton.items"\n  target-id="::addContentButton.getTargetId()"\n  show="addContentButton.isMenuVisible && !addContentButton.isEmptyFolder()"\n  directional-hint="::addContentButton.getDirectionalHint()"\n  dismiss="addContentButton.hideAddContentMenu"\n  analytics-id="components.directives.add-content-button.contextualMenu"\n>\n</bb-ui-contextual-menu>\n\x3c!-- some condition --\x3e\n<ul role="menu" class="element-list-add-menu small-block-grid-1 angular-animate"\n    ng-attr-id="{{::\'add-discussion-menu-\' + addMenuId}}"\n    ng-if="addContentButton.isEmptyFolder()">\n  <li>\n    <a role="menuitem" \n       tabindex="0" \n       bb-peek-sref="discussion.view.with-grading(addContentButton.getInsertLocationData())" \n       class="js-create-discussion-link"\n       ng-click="addContentButton.toggleMenu()"\n       analytics-id="components.directives.add-content-button.discussion.link">\n      <div>\n        <bb-svg-icon size="medium" icon="discussion"></bb-svg-icon><span bb-translate>components.directives.add-content-button.addDiscussion</span>\n      </div>\n    </a>\n  </li>\n</ul>\n'},"8VoP":function(e,t,n){"use strict";(function(e){n.d(t,"b",(function(){return u})),n.d(t,"a",(function(){return p}));var o=n("D57K"),i=n("0JpG"),s=n("Qbdf"),r=n("AI52"),a=n("Q/M7"),c=n("lEL+"),l=n("E4Qo"),d=n("GbAM"),u="ultra.course.exports.controller",p=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(o.__extends)(t,e),t}(function(){function t(t,n,o,i,s,r){var a=this;this.$scope=t,this.exportService=n,this.$modal=o,this.bbLocalize=i,this.timeout=s,this.contextCourse=r,t.courseExport=this,this.currentCourse=t.course.model,this.courseId=this.contextCourse.courseId,this.canExport=this.currentCourse.canExport(),this.canArchive=this.currentCourse.canArchive(),this.exportModalTitleKey=this.currentCourse.isOrganization?"organization.export.modal.modalTitle":"course.export.modal.modalTitle",this.getExportsAndScheduledTasks(!0),t.$on("update-course-exports",(function(){a.getExportsAndScheduledTasks(!1),a.timeout((function(){var t=e(".list-archive-export li:last .file-name").text().trim();a.$scope.$root.$broadcast(d.a,a.exportFileAddedNotification(t)),e(".list-archive-export li:last > .file-link").focus()}),a.$scope,1e3)}))}return t.prototype.getExportsAndScheduledTasks=function(e){var t=this;this.exportService.getExportsAndScheduledTasks(this.courseId,this.currentCourse.courseId,e,this.canExport,this.canArchive).then((function(e){t.courseExports=e.courseExports,t.scheduledTasks=e.scheduledTasks}))},t.prototype.openExportModal=function(){var e=this;!this.canExport||this.canArchive?!this.canArchive||this.canExport?this.modalInstance=this.$modal.open({template:l,scope:this.$scope,resolve:{translations:[i.serviceName,function(e){return e.loadBundle("features/course/exports/course-export")}]}}):this.exportService.createExportTask(!0,this.courseId).then((function(t){e.courseExports=t.courseExports,e.scheduledTasks=t.scheduledTasks,e.$scope.$emit("start-task-status-check")})):this.exportService.createExportTask(!1,this.courseId).then((function(t){e.courseExports=t.courseExports,e.scheduledTasks=t.scheduledTasks,e.$scope.$emit("start-task-status-check")}))},t.prototype.exportFileAddedNotification=function(e){return this.bbLocalize.translateSync({locale:this.bbLocalize.getLocale(this.$scope),key:"course.export.aria-label.file-added",params:{fileName:e},noWrap:!0})},t.prototype.exportProgressNotification=function(){return this.bbLocalize.translateSync({locale:this.bbLocalize.getLocale(this.$scope),key:"course.export.aria-label.export-in-progress",noWrap:!0})},t.prototype.triggerCourseExport=function(e){var t=this;this.modalInstance.dismiss(),this.exportService.createExportTask(e,this.courseId).then((function(e){t.courseExports=e.courseExports,t.scheduledTasks=e.scheduledTasks,t.$scope.$emit("start-task-status-check"),t.timeout((function(){t.$scope.$root.$broadcast(d.a,t.exportProgressNotification())}),t.$scope,1e3)}))},t.prototype.deleteCourseExport=function(e){var t=this;this.exportService.deleteCourseExport(e,this.courseId).then((function(e){t.courseExports=e.courseExports,t.scheduledTasks=e.scheduledTasks}))},t.prototype.deleteExportTask=function(e){var t=this;this.exportService.deleteScheduledTask(e,this.courseId).then((function(e){t.courseExports=e.courseExports,t.scheduledTasks=e.scheduledTasks}))},t.prototype.getAbsoluteUrl=function(e){return a.c(e)},t.$inject=["$scope",r.b,"$modal",i.serviceName,c.b,s.e],t}())}).call(this,n("5iHu"))},"8nBA":function(e,t){e.exports='<bb-modal class="notification js-dismiss-modal"\n          role="alertdialog"\n          modal-title-key="{{moveErrorTitleKey}}"\n          analytics-id-tag-prefix="course.outline.moveErrorAlert">\n    <div name="modal-contents">\n        <p bb-translate="{{moveErrorTextKey}}"></p>\n    </div>\n    <button name="modal-footer-button-primary" \n            ng-click="$parent.$close()" \n            class="js-dismiss-modal button button--secondary js-secondary-button"\n            analytics-id="global.ok.button">\n      <span bb-translate="global.ok"></span>\n    </button>\n</bb-modal>'},"8sWK":function(e,t,n){var o=n("ziER"),i=n("5JeM"),s=new o({id:"icon-small-groups",use:"icon-small-groups-usage",viewBox:"0 0 16 16",content:'<symbol fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" id="icon-small-groups"><path d="M12 15s-1-2-4-2M4 15s1-2 4-2M8 13c1.6569 0 3-1.3431 3-3S9.6569 7 8 7s-3 1.3431-3 3 1.3431 3 3 3zM12 5c1.1046 0 2-.8954 2-2s-.8954-2-2-2-2 .8954-2 2 .8954 2 2 2zM1 7s1-2 3-2 3 2 3 2M9 7s1-2 3-2 3 2 3 2M4 5c1.1046 0 2-.8954 2-2s-.8954-2-2-2-2 .8954-2 2 .8954 2 2 2z" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" /></symbol>'});i.add(s);e.exports=s},"9ZLq":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,i=n("D57K"),s=n("ERkP"),r=n("MC1S");!function(e){e[e.ScoreIndicator=0]="ScoreIndicator",e[e.AlternativeFormats=1]="AlternativeFormats"}(o=t.WidgetType||(t.WidgetType={}));t.default=function(e){var t=e.contentRef,n=e.widgetType,a=e.text,c=e.ariaLabel,l={"data-ally-content-ref":t},d={};switch(c&&(d["aria-label"]=c),a||(d.style={width:"100%"}),d.style={display:"none"},n){case o.ScoreIndicator:if(l["data-ally-invoke"]="instructorfeedback",l["data-ally-show"]="instructorfeedback",!a)return s.createElement("span",i.__assign({},l,d,{"data-ally-scoreindicator":"circle",onKeyDown:function(e){switch(e.keyCode){case 32:e.target.dispatchEvent(new Event("click"))}}}));break;case o.AlternativeFormats:if(l["data-ally-invoke"]="alternativeformats",l["data-ally-show"]="alternativeformats",c&&(l["data-ally-tooltip"]="",d.title=c),!a)return s.createElement("button",i.__assign({},l,d),s.createElement(r.SvgIcon,{iconName:"ally-download",iconSize:"small"}))}return s.createElement(r.Link,i.__assign({},d,{additionalAttributes:i.__assign({},l),analyticsId:"components.directives.allyWidget.link"}),a)}},"9hp7":function(e,t){e.exports='<div bb-load-bundle="components/directives/add-content-button">\n  <div class="add-element no-select js-add-content-button {{::contextArea + \'-add-button\'}}"\n       ng-class="{\n         \'force-show-add-button\': addContentButton.isForceShowAddButton && addContentButton.isForceShowAddButton(),\n         \'is-active\': addContentButton.isMenuVisible,\n         \'button-visible\': addContentButton.isButtonVisible,\n         hide: hideDividerLines() && !(addContentButton.isButtonVisible || addContentButton.alwaysShow || addContentButton.isMenuVisible)\n       }"\n       ng-keydown="addContentButton.onKeydown($event)">\n    <template></template>\n  </div>\n  <div id="{{::fileListViewId}}">\n    <bb-progress display-results="false" primary-key="primaryKey && primaryKey() ? primaryKey() : fileListViewLocalId" target-div="{{::\'#\' + fileListViewId}}"></bb-progress>\n  </div>\n</div>'},A4FN:function(e,t,n){var o=n("ziER"),i=n("5JeM"),s=new o({id:"icon-small-disable",use:"icon-small-disable-usage",viewBox:"0 0 16 16",content:'<symbol fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" id="icon-small-disable"><path d="M1 8c0-3.866 3.134-7 7-7v0c3.866 0 7 3.134 7 7v0c0 3.866-3.134 7-7 7v0c-3.866 0-7-3.134-7-7v0zM12.5 3.5l-9 9" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" /></symbol>'});i.add(s);e.exports=s},AI52:function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return c}));var o=n("D57K"),i=n("nsO7"),s=n("wHJ2"),r=n("pjml"),a="ultra.service.course.export",c="courseExport",l=function(){function e(e,t,n,o){this.CourseModel=e,this.ScheduledTaskModel=t,this.$modal=n,this.$q=o,this.exportsAndScheduledTasksByCourseId={},this.permissionsByCourseId={}}return e.prototype.getExportsAndScheduledTasks=function(e,t,n,o,i){var s=this,r=this.$q.defer();return e&&t&&(o||i)&&(!this.exportsAndScheduledTasksByCourseId[e]||n?this.populateCourseExportsAndScheduledTasks(e,t,o,i).then((function(t){s.exportsAndScheduledTasksByCourseId[e]={courseExports:t[0],scheduledTasks:t[1]},r.resolve(s.exportsAndScheduledTasksByCourseId[e])})):r.resolve(this.exportsAndScheduledTasksByCourseId[e])),r.promise},e.prototype.createExportTask=function(e,t){var n=this,o=this.$q.defer();if(t){var i={cxAction:e?"CX_ACTION_ARCHIVE":"CX_ACTION_EXPORT"};this.CourseModel.$new(t).exports.$build(i).$save().$then((function(e){n.ScheduledTaskModel.$find(e.taskId).$then((function(e){n.exportsAndScheduledTasksByCourseId[t].scheduledTasks.push(e),o.resolve(n.exportsAndScheduledTasksByCourseId[t])}))}))}return o.promise},e.prototype.deleteCourseExport=function(e,t){var n=this,o=this.$q.defer();return t&&this.CourseModel.$new(t).exports.$new(e.cxFileId).$destroy().$then((function(){i.remove(n.exportsAndScheduledTasksByCourseId[t].courseExports,(function(t){return t.cxFileId===e.cxFileId})),o.resolve(n.exportsAndScheduledTasksByCourseId[t])})),o.promise},e.prototype.deleteScheduledTask=function(e,t){var n=this,o=this.$q.defer();return t&&this.ScheduledTaskModel.$new(e.taskId).$destroy().$then((function(){i.remove(n.exportsAndScheduledTasksByCourseId[t].scheduledTasks,(function(t){return t.taskId===e.taskId})),o.resolve(n.exportsAndScheduledTasksByCourseId[t])})),o.promise},e.prototype.populateCourseExportsAndScheduledTasks=function(e,t,n,o){return this.$q.all([this.getCourseExports(e),this.getScheduledTasks(t,n,o)])},e.prototype.getCourseExports=function(e){return this.CourseModel.$new(e).exports.$refresh().$asPromise()},e.prototype.getScheduledTasks=function(e,t,n){var o="";if(t||n){t&&(o+="EXPORT"),n&&(""!==o&&(o+=","),o+="ARCHIVE");var i={filterBy:"cxTasks",courseId:e,groupStatus:"INPROGRESS",operation:o};return this.ScheduledTaskModel.$collection().$refresh(i).$asPromise()}},e.$inject=[r.o.serviceName,r.sb.serviceName,"$modal","$q"],e}();!function(e){function t(){return null!==e&&e.apply(this,arguments)||this}Object(o.__extends)(t,e)}(l);s.module(a,[r.R]).service(c,l)},AYCo:function(e,t,n){var o=n("ziER"),i=n("5JeM"),s=new o({id:"icon-small-link",use:"icon-small-link-usage",viewBox:"0 0 16 16",content:'<symbol fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" id="icon-small-link"><rect x=".224" y="3.534" width="4.681" height="7.022" rx="2" transform="rotate(-45 .224 3.534)" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" /><rect x="7.5" y="10.81" width="4.681" height="7.022" rx="2" transform="rotate(-45 7.5 10.81)" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" /><path d="M5 5l6 6" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" /></symbol>'});i.add(s);e.exports=s},Ao2D:function(e,t,n){var o=n("ziER"),i=n("5JeM"),s=new o({id:"icon-small-reports",use:"icon-small-reports-usage",viewBox:"0 0 16 16",content:'<symbol fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" id="icon-small-reports"><path d="M5 7v5h6V7H5z" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" /><path d="M2 1h9l3 3v11H2V1z" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" /><path d="M11 1v3h3" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" /></symbol>'});i.add(s);e.exports=s},"Aw+3":function(e,t,n){var o=n("ziER"),i=n("5JeM"),s=new o({id:"icon-small-feedback",use:"icon-small-feedback-usage",viewBox:"0 0 16 16",content:'<symbol fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" id="icon-small-feedback"><path d="M1 1h14v12h-4l-3 2-3-2H1V1zM4 4h8M4 7h8M4 10h4" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" /></symbol>'});i.add(s);e.exports=s},BiyI:function(e,t,n){var o=n("ziER"),i=n("5JeM"),s=new o({id:"icon-small-add-plus",use:"icon-small-add-plus-usage",viewBox:"0 0 16 16",content:'<symbol fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" id="icon-small-add-plus"><path d="M8 5v6M11 8H5" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" /></symbol>'});i.add(s);e.exports=s},CM4G:function(e,t,n){var o=n("ziER"),i=n("5JeM"),s=new o({id:"icon-small-video",use:"icon-small-video-usage",viewBox:"0 0 16 16",content:'<symbol fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" id="icon-small-video"><g clip-path="url(#icon-small-video_clip0)" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M1 1h14v14H1zM4 1v14M12 1v14M0 4h4M12 4h4M0 8h4M12 8h4M0 12h4M12 12h4" /><path d="M7 7v2l2-1-2-1z" /></g><defs><clipPath id="icon-small-video_clip0"><path fill="#fff" d="M0 0h16v16H0z" /></clipPath></defs></symbol>'});i.add(s);e.exports=s},CQx7:function(e,t,n){var o=n("ziER"),i=n("5JeM"),s=new o({id:"icon-large-course-complete",use:"icon-large-course-complete-usage",viewBox:"0 0 24 24",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" id="icon-large-course-complete"><path fill="none" stroke-linecap="round" stroke-miterlimit="10" d="M20.5 13.5V6.6M17.5.5h-13c-1.7 0-3 1.4-3 3v17c0 1.6 1.3 3 3 3h8" /><path fill="none" stroke-linecap="round" stroke-miterlimit="10" d="M20.5 6.5h-16c-1.7 0-3-1.4-3-3v0c0-1.6 1.3-3 3-3h16M4.5 4.5h16M4.5 2.5h16" /><path fill="none" stroke-miterlimit="10" d="M4.5 6.5v17" /><path fill="none" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" d="M13.5 20l3.5 3.5 5.5-8.5" /><path fill="none" stroke-miterlimit="10" d="M16.5 13.5h-8c-.6 0-1-.4-1-1v-2c0-.6.4-1 1-1h8c.5 0 1 .4 1 1v2c0 .6-.5 1-1 1z" /></symbol>'});i.add(s);e.exports=s},"D8d/":function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return u}));var o=n("wHJ2"),i=n("0JpG"),s=n("A+IJ"),r=n("2a+M"),a=n("pjml"),c=n("lEL+"),l=n("GbAM"),d=n("W6wm"),u="ultra.components.directives.bbDropHandler",p=function(){function t(e,t,n,o,i,s,a,c){var l=this;this.scope=e,this.element=t,this.$rootScope=o,this.$q=i,this.timeout=s,this.dragDropService=a,this.bbLocalizeService=c,this.isDraggingOverFolder=!1,this.isEmptyTarget="emptyTarget"in n,this.dropTargetElement=t.closest(this.dragDropService.dragElementSelector),e.$on("bb-drag-move",(function(){if(l.isEnabledForReordering()&&l.isNotSameDropTarget()&&l.isOnSamePanel()){var e=t.offset(),n=t.height()+e.top,o=t.width()+e.left;l.dragDropService.pointerPosition.left>=e.left&&l.dragDropService.pointerPosition.left<=o&&l.dragDropService.pointerPosition.top>=e.top&&l.dragDropService.pointerPosition.top<=n?l.dragOverFunc(l.dragDropService.pointerPosition.top):l.dragLeaveFunc()}})),e.$on("bb-drag-end",(function(){l.isEnabledForReordering()&&l.dragDropService.isCurrentDropTarget(e.content().id)&&l.isOnSamePanel()&&l.dropHandlerFunc()})),t.on("drop",(function(t){t.originalEvent.dataTransfer.files&&t.originalEvent.dataTransfer.files.length>0&&e.onFileDropHandler&&e.onFileDropHandler()(t.originalEvent.dataTransfer.files,e.content())})),e.$on("bb-drag-cancel",(function(){l.isEnabledForReordering()&&l.dragDropService.isCurrentDropTarget(e.content().id)&&l.isOnSamePanel()&&(e.content().id===l.dragDropService.currentDragId&&(l.dragDropService.positionBefore=e.content().id),l.dropHandlerFunc())})),e.$on("keyboard-drag-start",(function(){l.isEnabledForReordering()&&e.content().id===l.dragDropService.currentDragId&&(l.dragPosition=r.b.SELF,l.dragDropService.originalElement=t.closest(l.dragDropService.dragElementSelector),l.dragDropService.currentDragElement=l.dragDropService.originalElement.clone(),l.dragDropService.originalElement.addClass(l.dragDropService.originalElementClass),l.dragDropService.currentDragElement.addClass(l.dragDropService.movableElementClass),l.dragDropService.originalElement.addClass(l.dragDropService.dragHoverClass),l.dragDropService.setDropTarget(e.content().id))})),e.$on("keyboard-drag-end",(function(){l.isEnabledForReordering()&&l.dragDropService.isCurrentDropTarget(e.content().id)&&l.isOnSamePanel()&&l.timeout((function(){l.dragDropService.originalElement&&l.dragDropService.originalElement.removeClass(l.dragDropService.originalElementClass),r.b.FOLDER.isEqualTo(l.dragPosition)?l.dragDropService.positionAfter=e.content().id:r.b.TOP.isEqualTo(l.dragPosition)?(l.dragDropService.positionBefore=e.content().id,l.dragDropService.positionAfter=null):(l.dragDropService.positionAfter=e.content().id,l.dragDropService.positionBefore=null),l.dropTargetElement.removeClass(l.dragDropService.dragHoverClass),l.dragDropService.currentDragElement&&l.dragDropService.currentDragElement.remove(),l.isDropPreventedByContentDepthRules().then((function(t){if(!l.isDnDPreventedInDiscussionContext()&&!t&&!l._isDroppingInSamePlace()){var n={dragContentId:l.dragDropService.currentDragId,dragElement:l.dragDropService.currentDragElement,parentFolderId:l.scope.content().parentId,positionAfterId:l.dragDropService.positionAfter,positionBeforeId:l.dragDropService.positionBefore,rootScope:l.$rootScope,targetFolderId:l.scope.content().id};e.onMoveHandler()(n)}l._keyboardEndDragAndClearValues()}))}),e)})),e.$on("keyboard-drag-cancel",(function(){l.isEnabledForReordering()&&l.dragDropService.isCurrentDropTarget(e.content().id)&&(l._keyboardEndDragAndClearValues(),l.dropTargetElement.removeClass(l.dragDropService.dragHoverClass),l.dragDropService.originalElement.removeClass(l.dragDropService.originalElementClass),l.dragDropService.currentDragElement.remove())})),e.$on("keyboard-drag-up",(function(){l.isEnabledForReordering()&&l.dragDropService.isCurrentDropTarget(e.content().id)&&(l._removeKeyboardPlaceholderAndStyling(),l.isEmptyTarget&&(l.dragPosition=r.b.TOP),r.b.SELF.isEqualTo(l.dragPosition)||r.b.TOP.isEqualTo(l.dragPosition)?e.previousContentId&&e.previousContentId()?l.keyboardMoveUpToItem(e.previousContentId()):e.content().depth>1?(l.dragDropService.queuedScreenReaderMessages+=" ",l.dragDropService.queuedScreenReaderMessages+=l.bbLocalizeService.translateSync({locale:l.bbLocalizeService.getLocale(l.scope),key:"components.services.drag-drop.aria.reorder-leave-folder",noWrap:!0}),l.keyboardMoveOntoFolder(e.content().parentId)):(l._applyKeyboardPlaceholderAndStyling(),l._informScreenReaderOfNewLocation()):r.b.FOLDER.isEqualTo(l.dragPosition)?l._keyboardMoveAboveThisItem():r.b.BOTTOM.isEqualTo(l.dragPosition)&&l.isDropPreventedByContentDepthRules().then((function(t){l.isAFolder()?!0!==e.isFolderOpen()||!l.isNotSameDropTarget()||l.isDnDPreventedInDiscussionContext()||t?!1!==e.isFolderOpen()||!l.isNotSameDropTarget()||l.isDnDPreventedInDiscussionContext()||t||l.keyboardMoveOntoFolder(l.scope.content().id):(l.dragDropService.queuedScreenReaderMessages+=" ",l.dragDropService.queuedScreenReaderMessages+=l.bbLocalizeService.translateSync({locale:l.bbLocalizeService.getLocale(l.scope),key:"components.services.drag-drop.aria.reorder-enter-folder",noWrap:!0}),l.keyboardMoveIntoFolderAsLastItem()):l._keyboardMoveAboveThisItem()})))})),e.$on("keyboard-drag-down",(function(){l.isEnabledForReordering()&&l.dragDropService.isCurrentDropTarget(e.content().id)&&(l._removeKeyboardPlaceholderAndStyling(),l.isEmptyTarget&&(l.dragPosition=r.b.BOTTOM),r.b.SELF.isEqualTo(l.dragPosition)||r.b.BOTTOM.isEqualTo(l.dragPosition)?e.nextContentId&&e.nextContentId()?l.keyboardMoveDownToItem(e.nextContentId()):e.content().depth>1?(l.dragDropService.queuedScreenReaderMessages+=" ",l.dragDropService.queuedScreenReaderMessages+=l.bbLocalizeService.translateSync({locale:l.bbLocalizeService.getLocale(l.scope),key:"components.services.drag-drop.aria.reorder-leave-folder",noWrap:!0}),l.keyboardMoveBelowItem(e.content().parentId)):(l._applyKeyboardPlaceholderAndStyling(),l._informScreenReaderOfNewLocation()):r.b.FOLDER.isEqualTo(l.dragPosition)?l.isDropPreventedByContentDepthRules().then((function(t){e.isFolderOpen&&!0===e.isFolderOpen()&&l.isNotSameDropTarget()&&!l.isDnDPreventedInDiscussionContext()&&!t?(l.dragDropService.queuedScreenReaderMessages+=" ",l.dragDropService.queuedScreenReaderMessages+=l.bbLocalizeService.translateSync({locale:l.bbLocalizeService.getLocale(l.scope),key:"components.services.drag-drop.aria.reorder-enter-folder",noWrap:!0}),l.keyboardMoveIntoFolderAsFirstItem()):l._keyboardMoveBelowThisItem()})):r.b.TOP.isEqualTo(l.dragPosition)&&l.isDropPreventedByContentDepthRules().then((function(e){l.isAFolder()&&l.isNotSameDropTarget()&&!l.isDnDPreventedInDiscussionContext()&&!e?l.keyboardMoveOntoFolder(l.scope.content().id):l._keyboardMoveBelowThisItem()})))})),e.$on("keyboard-drag-right",(function(){l.isEnabledForReordering()&&l.dragDropService.isCurrentDropTarget(e.content().id)&&r.b.FOLDER.isEqualTo(l.dragPosition)&&e.isFolderOpen&&!1===e.isFolderOpen()&&e.$emit("toggle-folder-by-id",e.content().id)})),e.$on("keyboard-drag-left",(function(){l.isEnabledForReordering()&&l.dragDropService.isCurrentDropTarget(e.content().id)&&r.b.FOLDER.isEqualTo(l.dragPosition)&&e.isFolderOpen&&!0===e.isFolderOpen()&&e.$emit("toggle-folder-by-id",e.content().id)})),e.$on("keyboard-move-up-to-item",(function(t,n){l.isEnabledForReordering()&&e.content().id===n&&(l.dragDropService.setDropTarget(e.content().id),e.content().id===l.dragDropService.currentDragId?(l.dragPosition=r.b.SELF,l._applyKeyboardPlaceholderAndStyling(),l._informScreenReaderOfNewLocation()):l.isAFolder()?l.scope.isFolderOpen&&!0===l.scope.isFolderOpen()?l.keyboardMoveIntoFolderAsLastItem():(l.dragPosition=r.b.FOLDER,l._applyKeyboardPlaceholderAndStyling(),l._informScreenReaderOfNewLocation()):l._keyboardMoveAboveThisItem())})),e.$on("keyboard-move-down-to-item",(function(t,n){l.isEnabledForReordering()&&e.content().id===n&&(l.dragDropService.setDropTarget(e.content().id),e.content().id===l.dragDropService.currentDragId?(l.dragPosition=r.b.SELF,l._applyKeyboardPlaceholderAndStyling(),l._informScreenReaderOfNewLocation()):l.isAFolder()?l.keyboardMoveOntoFolder(l.scope.content().id):l._keyboardMoveBelowThisItem())})),e.$on("keyboard-move-above-item",(function(t,n){l.isEnabledForReordering()&&e.content().id===n&&(l.dragDropService.setDropTarget(e.content().id),l._keyboardMoveAboveThisItem())})),e.$on("keyboard-move-below-item",(function(t,n){l.isEnabledForReordering()&&e.content().id===n&&(l.dragDropService.setDropTarget(e.content().id),l._keyboardMoveBelowThisItem())})),e.$on("keyboard-move-onto-folder",(function(t,n){l.isEnabledForReordering()&&e.content().id===n&&(l.dragDropService.setDropTarget(e.content().id),l.dragPosition=r.b.FOLDER,l._applyKeyboardPlaceholderAndStyling(),l._informScreenReaderOfNewLocation())})),e.$on("remove-placeholder",(function(){l.isEnabledForReordering()&&l.dragDropService.dropPlaceholderElement&&l.dragDropService.dropPlaceholderElement.remove(),l.isEmptyTarget&&l.element.children("bb-add-content-button").show()}))}return t.prototype._keyboardMoveBelowThisItem=function(){this.scope.content().id===this.dragDropService.currentDragId?this.keyboardMoveDownToItem(this.scope.content().id):this.scope.nextContentId&&this.scope.nextContentId()===this.dragDropService.currentDragId?this.keyboardMoveDownToItem(this.scope.nextContentId()):(this.dragPosition=r.b.BOTTOM,this._applyKeyboardPlaceholderAndStyling(),this._informScreenReaderOfNewLocation())},t.prototype._keyboardMoveAboveThisItem=function(){this.scope.content().id===this.dragDropService.currentDragId?this.keyboardMoveUpToItem(this.scope.content().id):this.scope.previousContentId&&this.scope.previousContentId()===this.dragDropService.currentDragId?this.keyboardMoveUpToItem(this.scope.previousContentId()):(this.dragPosition=r.b.TOP,this._applyKeyboardPlaceholderAndStyling(),this._informScreenReaderOfNewLocation())},t.prototype._informScreenReaderOfNewLocation=function(){var e=this.element.find("[bb-drag-handle]").eq(0).attr("drag-item-name"),t="";if(""!==this.dragDropService.queuedScreenReaderMessages&&(t+=this.dragDropService.queuedScreenReaderMessages,t+=" "),-1!==this.dragDropService.currentDropTargetId.indexOf("blank"))return t+=this.bbLocalizeService.translateSync({locale:this.bbLocalizeService.getLocale(this.scope),key:"components.services.drag-drop.aria.reorder-only-item-in-folder",noWrap:!0}),this.$rootScope.$broadcast(l.a,t),void(this.dragDropService.queuedScreenReaderMessages="");this.scope.previousContentId&&this.scope.previousContentId()||!r.b.TOP.isEqualTo(this.dragPosition)&&!r.b.SELF.isEqualTo(this.dragPosition)?this.scope.nextContentId&&this.scope.nextContentId()||!r.b.BOTTOM.isEqualTo(this.dragPosition)&&!r.b.SELF.isEqualTo(this.dragPosition)||(t+=this.bbLocalizeService.translateSync({locale:this.bbLocalizeService.getLocale(this.scope),key:"components.services.drag-drop.aria.reorder-end-of-list",noWrap:!0}),t+=" "):(t+=this.bbLocalizeService.translateSync({locale:this.bbLocalizeService.getLocale(this.scope),key:"components.services.drag-drop.aria.reorder-top-of-list",noWrap:!0}),t+=" "),r.b.SELF.isEqualTo(this.dragPosition)?t+=this.bbLocalizeService.translateSync({locale:this.bbLocalizeService.getLocale(this.scope),key:"components.services.drag-drop.aria.reorder-moved-self",noWrap:!0}):r.b.FOLDER.isEqualTo(this.dragPosition)?t+=this.bbLocalizeService.translateSync({locale:this.bbLocalizeService.getLocale(this.scope),key:"components.services.drag-drop.aria.reorder-moved-folder",params:{itemName:e},noWrap:!0}):r.b.TOP.isEqualTo(this.dragPosition)?t+=this.bbLocalizeService.translateSync({locale:this.bbLocalizeService.getLocale(this.scope),key:"components.services.drag-drop.aria.reorder-moved-above",params:{itemName:e},noWrap:!0}):r.b.BOTTOM.isEqualTo(this.dragPosition)&&(t+=this.bbLocalizeService.translateSync({locale:this.bbLocalizeService.getLocale(this.scope),key:"components.services.drag-drop.aria.reorder-moved-below",params:{itemName:e},noWrap:!0})),this.$rootScope.$broadcast(l.a,t),this.dragDropService.queuedScreenReaderMessages=""},t.prototype._applyKeyboardPlaceholderAndStyling=function(){var e=this.dropTargetElement;r.b.SELF.isEqualTo(this.dragPosition)?this.dropTargetElement.addClass(this.dragDropService.dragHoverClass):r.b.FOLDER.isEqualTo(this.dragPosition)?(this.dropTargetElement.before(this.dragDropService.currentDragElement),this.dragDropService.currentDragElement&&(1===this.scope.content().depth?this.dragDropService.currentDragElement.addClass(this.dragDropService.onFolderClass):2===this.scope.content().depth&&this.dragDropService.currentDragElement.addClass(this.dragDropService.onNestedFolderClass))):r.b.BOTTOM.isEqualTo(this.dragPosition)?(e=this.dragDropService.currentDragElement,this.dropTargetElement.after(this.dragDropService.currentDragElement)):r.b.TOP.isEqualTo(this.dragPosition)&&(e=this.dragDropService.currentDragElement,this.dropTargetElement.before(this.dragDropService.currentDragElement)),this._scrollContainer(e)},t.prototype._removeKeyboardPlaceholderAndStyling=function(){this.dropTargetElement.removeClass(this.dragDropService.dragHoverClass),this.dragDropService.currentDragElement&&(this.dragDropService.currentDragElement.removeClass(this.dragDropService.onFolderClass),this.dragDropService.currentDragElement.removeClass(this.dragDropService.onNestedFolderClass),this.dragDropService.currentDragElement.remove())},t.prototype._scrollContainer=function(e){this.dragDropService.scrollDragDropItemsContainer(e.offset().top,r.a.SCROLLING_CONSTANTS.keyboardInteractionDistanceToScroll)},t.prototype._keyboardEndDragAndClearValues=function(){var t=this;this.timeout((function(){e('[bb-drag-handle][drag-item-id="'+t.dragDropService.currentDragId+'"]').focus(),t.dragDropService.clearDropTarget(),t.dragDropService.currentDragId=void 0,t.dragDropService.currentDragType=void 0,t.dragDropService.isKeyboardDragging=!1}),this.scope,0,!1)},t.prototype.isDropPreventedByContentDepthRules=function(){var e=this;if(void 0!==this.dragDropService.currentDragHasFolderChild)return this.dragDropService.currentDragHasFolderChild.then((function(t){return a.r.ContentHandler.Folder.isEqualTo(e.dragDropService.currentDragType)&&(e.isDraggingOverFolder&&e.scope.content().depth===s.l||e.scope.content().depth>s.l||e.isDraggingOverFolder&&t)}));var t=this.$q.defer();return t.resolve(!1),t.promise},t.prototype.isDnDPreventedInDiscussionContext=function(){var e=this;return d.a.Discussions===e.dragDropService.currentDragContext&&a.r.ContentHandler.Folder.isEqualTo(e.dragDropService.currentDragType)&&(this.isDraggingOverFolder&&this.scope.content().depth===s.k||this.scope.content().depth>s.k)},t.prototype.dragOverFunc=function(e){var t=this;if(this.dragDropService.currentDragId&&this.dragDropService.currentDragId!==this.scope.content().id){this.dragDropService.setDropTarget(this.scope.content().id),!this.folderHoverTimeout&&this.scope.isFolderOpen&&!1===this.scope.isFolderOpen()&&(this.dropTargetElement.addClass(this.dragDropService.dragHoverClass),this.folderHoverTimeout=this.timeout((function(){t.isDropPreventedByContentDepthRules().then((function(e){e||t.isDnDPreventedInDiscussionContext()?(t.dragDropService.isShowingDepthMessage=!0,t.$rootScope.$broadcast("show-override-message",t.bbLocalizeService.translateSync({locale:t.bbLocalizeService.getLocale(t.scope),key:t.dragDropService.folderDepthMessageKey}),t.scope.content().id)):(t.scope.$emit("toggle-folder-by-id",t.scope.content().id),t.wasFolderOpened=!0)}))}),this.scope,1500)),this.dragDropService.isShowingDepthMessage&&this.dragDropService.isNotSameDropTarget()&&(this.dragDropService.isShowingDepthMessage=!1,this.broadcastShowOverrideMessage());var n=e,o=this.element.offset().top+this.element.height()/2,i=this.dragPosition;this.isAFolder()&&(this.isDraggingOverFolder=!0),this.scope.content().id.indexOf("placeholder")>-1?(this.dragDropService.positionAfter=this.scope.content().parentId,this.dragDropService.positionBefore=void 0,this.dragPosition=r.b.BOTTOM):n<=o?(this.dragDropService.positionBefore=this.scope.content().id,this.dragDropService.positionAfter=void 0,this.dragPosition=r.b.TOP):(this.dragDropService.positionAfter=this.scope.content().id,this.dragDropService.positionBefore=void 0,this.dragPosition=r.b.BOTTOM),(this.dragDropService.isNotSameDropTarget()||this.dragPosition!==i)&&(this._moveDropPlaceholderElement(),this.isEmptyTarget&&this.element.children().hide())}},t.prototype._moveDropPlaceholderElement=function(){var e=this;if(this.$rootScope.$broadcast("remove-placeholder"),this.dragDropService.currentDragId!==this.dragDropService.currentDropTargetId){e.dragDropService.positionBefore&&e.dragDropService.currentDropTargetId!==e.dragDropService.idOfNextItem?this.dropTargetElement.before(this.dragDropService.dropPlaceholderElement):e.dragDropService.currentDropTargetId.indexOf("placeholder")>-1&&e.dragDropService.idOfNextItem===e.dragDropService.currentDropTargetId||!e.dragDropService.positionAfter||e.dragDropService.currentDropTargetId===e.dragDropService.idOfPreviousItem||this.dropTargetElement.after(this.dragDropService.dropPlaceholderElement)}},t.prototype._isDroppingInSamePlace=function(){if(null!=this.dragDropService.positionAfter&&this.scope.previousContentId&&this.dragDropService.positionAfter===this.scope.previousContentId()||this.dragDropService.positionAfter===this.dragDropService.currentDragId||null!=this.dragDropService.positionBefore&&this.scope.nextContentId&&this.dragDropService.positionBefore===this.scope.nextContentId()||this.dragDropService.positionBefore===this.dragDropService.currentDragId)return!0},t.prototype.dropHandlerFunc=function(){var e=this;this.timeout.cancel(this.folderHoverTimeout),this.dropTargetElement.parents("[data-parent-id]").last().removeAttr("style"),this.dragDropService.clearDropTarget(),this.$rootScope.$broadcast("remove-placeholder"),this.$rootScope.$broadcast("file-drag-restore"),this.dragDropService.isShowingDepthMessage&&(this.dragDropService.isShowingDepthMessage=!1,this.broadcastShowOverrideMessage());var t={dragContentId:this.dragDropService.currentDragId,originalElement:this.dragDropService.originalElement,parentFolderId:this.scope.content().parentId,positionAfterId:this.dragDropService.positionAfter,positionBeforeId:this.dragDropService.positionBefore,rootScope:this.$rootScope,targetFolderId:this.scope.content().id};this.isDropPreventedByContentDepthRules().then((function(n){e._isDroppingInSamePlace()||e.isDnDPreventedInDiscussionContext()?e.dropCleanupFunc():!n&&e.isDraggingOverFolder?e.scope.$$phase||e.scope.$root&&e.scope.$root.$$phase?(e.scope.onMoveIntoFolderHandler()(t),e.dropCleanupFunc()):e.scope.$apply((function(){e.scope.onMoveIntoFolderHandler()(t),e.dropCleanupFunc()})):n?e.dropCleanupFunc():e.scope.$$phase||e.scope.$root&&e.scope.$root.$$phase?(e.scope.onMoveHandler()(t),e.dropCleanupFunc()):e.scope.$apply((function(){e.scope.onMoveHandler()(t),e.dropCleanupFunc()})),e.isDraggingOverFolder=!1}))},t.prototype.dropCleanupFunc=function(){this.wasFolderOpened&&(this.wasFolderOpened=!1,this.scope.$emit("toggle-folder-by-id",this.scope.content().id)),this.dragDropService.currentDragId=void 0,this.dragDropService.currentDragType=void 0,this.dropTargetElement.removeClass(this.dragDropService.dragHoverClass),this.dragDropService.currentDragElement&&this.dragDropService.currentDragElement.remove()},t.prototype.dragLeaveFunc=function(){var e=this;this.isDraggingOverFolder=!1,this.dropTargetElement.removeClass(this.dragDropService.dragHoverClass),this.timeout.cancel(this.folderHoverTimeout),this.folderHoverTimeout=void 0,this.isDropPreventedByContentDepthRules().then((function(t){t&&(e.dragDropService.isShowingDepthMessage=!1,e.broadcastShowOverrideMessage())}))},t.prototype.broadcastShowOverrideMessage=function(){var e=this;this.scope.$$phase||this.scope.$root&&this.scope.$root.$$phase?this.$rootScope.$broadcast("show-override-message",void 0,this.scope.content().id):this.scope.$apply((function(){return e.$rootScope.$broadcast("show-override-message",void 0,e.scope.content().id)}))},t.prototype.keyboardMoveUpToItem=function(e){var t=this;this.timeout((function(){t.dragDropService.clearDropTarget(),t.$rootScope.$broadcast("keyboard-move-up-to-item",e)}),this.scope)},t.prototype.keyboardMoveDownToItem=function(e){var t=this;this.timeout((function(){t.dragDropService.clearDropTarget(),t.$rootScope.$broadcast("keyboard-move-down-to-item",e)}),this.scope)},t.prototype.keyboardMoveBelowItem=function(e){var t=this;this.timeout((function(){t.dragDropService.clearDropTarget(),t.$rootScope.$broadcast("keyboard-move-below-item",e)}),this.scope)},t.prototype.keyboardMoveAboveItem=function(e){var t=this;this.timeout((function(){t.dragDropService.clearDropTarget(),t.$rootScope.$broadcast("keyboard-move-above-item",e)}),this.scope)},t.prototype.keyboardMoveOntoFolder=function(e){var t=this;this.timeout((function(){t.dragDropService.clearDropTarget(),t.$rootScope.$broadcast("keyboard-move-onto-folder",e)}),this.scope)},t.prototype.keyboardMoveIntoFolderAsLastItem=function(){var e=this.scope.content().children;e.length>0?this.keyboardMoveBelowItem(e[e.length-1].id):this.keyboardMoveBelowItem(this.scope.content().id+"blank")},t.prototype.keyboardMoveIntoFolderAsFirstItem=function(){var e=this.scope.content().children;e.length>0?this.keyboardMoveAboveItem(e[0].id):this.keyboardMoveAboveItem(this.scope.content().id+"blank")},t.prototype.isNotSameDropTarget=function(){return this.scope.content().id!==this.dragDropService.currentDragId},t.prototype.isOnSamePanel=function(){return this.element.closest(".panel-content").is(this.dragDropService.originalElement.closest(".panel-content"))},t.prototype.isEnabledForReordering=function(){return!(this.scope.disableForReordering&&this.scope.disableForReordering())},t.prototype.isAFolder=function(){return null!=this.scope.isFolderOpen},t.$inject=["scope","element","attrs","$rootScope","$q",c.b,r.d,i.serviceName],t}(),h=function(){function e(e){var t=this;this.$injector=e,this.scope={onMoveIntoFolderHandler:"&?",onMoveHandler:"&",onFileDropHandler:"&",isFolderOpen:"&?",content:"&",previousContentId:"&?",nextContentId:"&?",disableForReordering:"&?"},this.restrict="A",this.link=function(e,n,o){e.dropHandlerDirective=t.$injector.instantiate(p,{scope:e,element:n,attrs:o})}}return e.$inject=["$injector"],e}();o.module(u,[r.c,c.a]).directive("bbDropHandler",["$injector",function(e){return e.instantiate(h)}])}).call(this,n("5iHu"))},DXZ4:function(e,t,n){},De5J:function(e,t,n){},Dt14:function(e,t,n){"use strict";n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return r}));var o=n("wHJ2"),i=n("pjml"),s="ultra.services.collab",r="collab",a=function(){function e(e,t,n,o,i,s){this.$compile=e,this.$rootScope=t,this.$timeout=n,this.CourseModel=o,this.CollabUltraModel=i,this.$sce=s}return e.prototype.joinVirtualClassroom=function(e,t){var n=window.open();this.getVirtualClassroomLaunchUrl(e,t).then((function(e){n.location.href=e}),(function(e){n.close()}))},e.prototype.getCollabSessions=function(e){return this.CourseModel.$new(e).collab.getVirtualClassroomSession()},e.prototype.getVirtualClassroomLaunchUrl=function(e,t){return this.CourseModel.$new(e).collab.sessions.$new(t).getLaunchUrl()},e.$inject=["$compile","$rootScope","$timeout",i.o.serviceName,i.l.serviceName,"$sce"],e}();o.module(s,[i.R]).service(r,a)},E4Qo:function(e,t){e.exports='<bb-modal id="notification-modal"\n          class="notification"\n          modal-title-key="{{::courseExport.exportModalTitleKey}}"\n          analytics-id-tag-prefix="course.export.modal.startArchive">\n  <div name="modal-contents">\n    <p bb-translate="course.export.modal.modalText" course-org-token-resolver></p>\n  </div>\n  <button name="modal-footer-button-primary" \n          class="close-modal-export js-export-without-student-data button js-primary-button" \n          ng-click="courseExport.triggerCourseExport(false)"\n          analytics-id="course.export.modal.startExport.button">\n    <span bb-translate="course.export.modal.startExport"></span>\n  </button>\n  <button name="modal-footer-button-secondary" \n          class="close-modal-export js-export-with-student-data button button--secondary js-secondary-button" \n          ng-click="courseExport.triggerCourseExport(true)"\n          analytics-id="course.export.modal.startArchive.button">\n    <span bb-translate="course.export.modal.startArchive"></span>\n  </button>\n</bb-modal>'},EACR:function(e,t,n){var o=n("ziER"),i=n("5JeM"),s=new o({id:"icon-medium-export",use:"icon-medium-export-usage",viewBox:"0 0 24 24",content:'<symbol fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" id="icon-medium-export"><g clip-path="url(#icon-medium-export_clip0)" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M23 1L9 15M17 1h6v6M23 14v9H1V1h10" /></g><defs><clipPath id="icon-medium-export_clip0"><path fill="#fff" d="M0 0h24v24H0z" /></clipPath></defs></symbol>'});i.add(s);e.exports=s},ELoy:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));n("px9Z"),n("De5J"),n("GkCm");var o=n("wHJ2"),i=n("lEL+"),s=n("6sUD"),r="ultra.directives.telemetry.panel.header",a=function(){function e(t,n){var o=this;this.scope=t,this.timeout=n,this.showSpinner=!1,this.spinnerTimeout=this.timeout((function(){o.showSpinner=!0}),this.scope,e.WAIT_TIME_TO_SHOW_SPINNER),this.scope.$watch("::panelDataLoaded()",(function(e){e&&o.dataLoaded()}))}return e.prototype.dataLoaded=function(){this.timeout.cancel(this.spinnerTimeout),this.showSpinner=!1},e.$inject=["scope",i.b],e.WAIT_TIME_TO_SHOW_SPINNER=1e3,e}(),c=function(){function e(e){var t=this;this.$injector=e,this.restrict="E",this.template=s,this.transclude=!0,this.scope={course:"&",panelDataLoaded:"&",titleKey:"@?",title:"@?",buttonOneIcon:"@",buttonOneCallback:"&",buttonOneAriaLabel:"@",buttonOneTitle:"@",buttonTwoIcon:"@",buttonTwoCallback:"&",buttonTwoAriaLabel:"@",buttonTwoTitle:"@"},this.link=function(e){e.telemetryPanelHeader=t.$injector.instantiate(a,{scope:e})}}return e.$inject=["$injector"],e}();o.module(r,[]).directive("bbTelemetryPanelHeader",["$injector",function(e){return e.instantiate(c)}])},Et3n:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var o=n("D57K"),i=n("0JpG"),s=n("yC9S"),r=n("dL5/"),a="ultra.directives.group.group-count";!function(){function e(){}e.prototype.$onInit=function(){},e.prototype.isSelfEnrollment=function(){return!!(this.content.selfEnrollmentGroups&&this.content.selfEnrollmentGroups.length>0)&&this.content.selfEnrollmentGroups.some((function(e){return e.group&&!e.group.groupSetId}))},e=Object(o.__decorate)([Object(s.a)({moduleName:a,componentName:"bbGroupCount",template:r,bindings:{content:"<"},requireModules:[i.moduleName]})],e)}()},FB0g:function(e,t){e.exports='<div bb-load-bundle="components/directives/multi-user-usercard" class="multi-user-usercard" bb-foundation-defer>\n\n  <div class="multi-user-avatar usercard-button" ng-if="!noAvatar() && view() === \'multiple-instructors\'">\n    <bb-avatar user="multiUserUsercard.fakeMultiUser"></bb-avatar>\n  </div>\n\n  <div class="element-details">\n\n    \x3c!-- Multiple instructors usercard toggle button --\x3e\n    <div ng-if="view() === \'multiple-instructors\'" class="usercard-trigger">\n      <div class="multi-users-title name" ng-switch="multiUserUsercard.userType">\n        <span ng-switch-when="default" bb-translate>components.directives.multiUserUsercard.title.default</span>\n        <span ng-switch-when="instructor" course-org-token-resolver bb-translate>components.directives.multiUserUsercard.title.instructor</span>\n        <span ng-switch-when="leader" course-org-token-resolver bb-translate>components.directives.multiUserUsercard.title.leader</span>\n      </div>\n      <div class="view-users">\n        <button class="button-anchor"\n                ng-click="multiUserUsercard.toggleCard()"\n                ng-switch="multiUserUsercard.userType"\n                data-dropdown="{{::listId}}"\n                analytics-id="components.directives.multiUserUsercard.toggleCard.button"\n        >\n          <span class="separate-view-all-button" bb-translate>components.directives.multiUserUsercard.viewAll</span>\n          <span class="combined-view-all-button"\n                bb-translate-attrs="{\'aria-label\':\'components.directives.multiUserUsercard.viewAllSrText.\' +  multiUserUsercard.userType}"\n                translate-attrs-values="{ courseName: courseName }"\n                bb-translate\n                >\n                {{\'components.directives.multiUserUsercard.title.\' + multiUserUsercard.userType}}</span>\n        </button>\n      </div>\n    </div>\n\n    \x3c!-- User group usercard toggle button --\x3e\n    <div ng-if="view() === \'group-users\'" class="usercard-trigger assessment-exception">\n      <h2 bb-feature-toggle="differentiatedFeedback" remove-from-dom="true" class="slider-name">\n        <span class="page-title show-exceptions">\n          <bdi class="ellipse">{{groupUsersTitle()}}</bdi>\n        </span>\n      </h2>\n      <button aria-controls="group-members-id"\n            bb-feature-toggle="!differentiatedFeedback"\n            remove-from-dom="true"\n            data-dropdown="{{::listId}}"\n            aria-haspopup="true"\n            ng-click="multiUserUsercard.toggleCard()"\n            class="ellipse page-title group-member-dropdown clear"\n            analytics-id="components.directives.multiUserUsercard.toggleCard.button">\n        <span class="group-member-dropdown-flex-wrapper show-exceptions">\n          <bdi class="ellipse">{{groupUsersTitle()}}</bdi>\n          <bdi class="select-value"></bdi>\n        </span>\n      </button>\n    </div>\n\n    \x3c!-- Usercard list --\x3e\n    <div id="{{::listId}}" data-dropdown-content\n         ng-if="multiUserUsercard.isCardOpen"\n         class="multi-user-usercard-list"\n         ng-class="{\'multiple-instructors\': view() === \'multiple-instructors\', \'group-users\': view() === \'group-users\'}"\n         role="region" tabindex="-1"\n         bb-translate-attrs="{\'aria-label\': view() === \'multiple-instructors\' ? \'components.directives.multiUserUsercard.ariaLabels.instructor\' : \'components.directives.multiUserUsercard.ariaLabels.default\'}"\n         bb-focus\n         ng-keydown="multiUserUsercard.handleKeydown($event)"\n         bb-click-outside="multiUserUsercard.handleClickOutside()" is-active="true">\n      <div class="list-header" ng-if="view() === \'group-users\' && listHeader">\n        <h1>{{listHeader()}}</h1>\n      </div>\n      <ul>\n        <li ng-repeat="user in users | limitTo:multiUserUsercard.visibleUsersCount track by $index"\n            class="user-row js-user-{{::user.id}}"\n            ng-class="{\'separator\': ($index < users.length - 1) || showMoreButton()}"\n            aria-labelledby="user-row-name-{{::multiUserUsercard.userListId}}_{{$index}}">\n          <div class="user-avatar">\n            <bb-avatar user="user" auto-update="true" inactive="view() === \'group-users\' && !multiUserUsercard.isUserCourseAvailable(user.id)"></bb-avatar>\n          </div>\n          <div id="user-row-name-{{::multiUserUsercard.userListId}}_{{$index}}" class="user-name ellipsis">\n            <bb-username user="user" format="short" auto-update="true"></bb-username>\n            <div ng-if="view() === \'group-users\' && selectedUser === user" class="sub-text" ng-bind-html="selectedText"></div>\n          </div>\n        </li>\n      </ul>\n      <div ng-show="multiUserUsercard.showMoreButton()" class="show-all-users">\n        \x3c!-- htmlhint:analytics-id:disable --\x3e\n        <button class="button button--text" ng-click="multiUserUsercard.showAll($event)"\n                bb-translate="components.directives.multiUserUsercard.showMoreUsers.plural"\n                translate-values="{count: multiUserUsercard.hiddenUsersCount()}"\n                analytics-id="components.directives.multiUserUsercard.showMoreUsers.button">\n        </button>\n        \x3c!-- htmlhint:analytics-id:enable --\x3e\n      </div>\n    </div>\n\n  </div>\n</div>\n'},FpRh:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var o=n("D57K"),i=n("yC9S"),s=n("aHpC"),r=n("t3aq"),a=n.n(r),c="ultra.directives.bbAllyContentRef";!function(){function e(e){this.$element=e}e.prototype.$postLink=function(){a.a.renderContentId(this.$element[0],{contentId:this.contentId,fileId:this.fileId,filePreviewUrl:this.filePreviewUrl})},e.prototype.$onDestroy=function(){a.a.destroyComponent(this.$element[0])},e=Object(o.__decorate)([Object(i.a)({module:angular.module(c,[]),componentName:"bbAllyContentRef",bindings:{contentId:"@",fileId:"@",filePreviewUrl:"@"}}),Object(o.__param)(0,Object(s.b)("$element"))],e)}()},GbCx:function(e,t,n){},GkCm:function(e,t,n){var o=n("ziER"),i=n("5JeM"),s=new o({id:"icon-small-main-menu",use:"icon-small-main-menu-usage",viewBox:"0 0 16 16",content:'<symbol fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" id="icon-small-main-menu"><path d="M1 3h14M15 8H1M1 13h14" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" /></symbol>'});i.add(s);e.exports=s},"H/mg":function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var o=n("D57K"),i=n("wHJ2"),s=n("ERkP"),r=n("1ZbL"),a=n("Dz4E"),c="ultra.components.directives.react-toolkit.contextual-menu",l={Class:function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(o.__extends)(t,e),t.prototype.render=function(){return this.props.show?s.createElement(a.ContextualMenu,{items:this.props.items,directionalHint:this.props.directionalHint,target:document.getElementById(this.props.targetId),onDismiss:this.props.dismiss,analyticsId:this.props.analyticsId}):null},t}(s.Component),bindingNames:["items","targetId","show","dismiss","directionalHint"],attributes:["analyticsId"]};i.module(c,[]).component("bbUiContextualMenu",Object(r.a)(l))},HjsN:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return c}));var o=n("D57K"),i=(n("wnWX"),n("dCrD")),s=n("Oyr+"),r="allCloudUploadsCompleteEvent",a="failed",c=function(e){function t(t,n,o){var i=e.call(this,t,n,o)||this;return i.cloudUploadPromises=[],i.onFilesSelectedHandler=function(e){var t=[];e.forEach((function(e){var n={id:e.id,deferred:i.$q.defer()};t.push(n.deferred),i.cloudUploadPromises.push(n)})),i.$q.all(t.map((function(e){return e.promise}))).then((function(){i.scope.$emit(r)}),(function(e){i.scope.$emit(r,e)}))},i.resolveFileUploadDeferred=function(e,t){var n=i.cloudUploadPromises.findIndex((function(t){return t.id===e}));return n>=0&&(t?i.cloudUploadPromises[n].deferred.reject(t):i.cloudUploadPromises[n].deferred.resolve(),i.cloudUploadPromises.splice(n,1),!0)},i.cloudUploadAttachHandler=function(e,t,n,o){var s=i.scope.attachHandler||i.defaultAttachHandler,r=i.$q.defer();return s(e,t,n,o).then((function(){i.resolveFileUploadDeferred(t.ui.fileId)&&r.resolve()})),r.promise},n.$on(s.e,(function(e,t,n,o,r){o===s.c.Error?i.resolveFileUploadDeferred(t,a):o===s.c.Cancel&&i.resolveFileUploadDeferred(t)})),i}return Object(o.__extends)(t,e),t.$inject=["$injector","scope","element"],t}(i.a)},IAsK:function(e,t,n){},"IR+Z":function(e,t,n){"use strict";n.d(t,"a",(function(){return h}));n("5k3c");var o=n("wHJ2"),i=n("Oyr+"),s=n("0JpG"),r=n("Vsv2"),a=n("zXZW"),c=n("pjml"),l=n("12mu"),d=n("lEL+"),u=n("U2yl"),p=n("Poqp"),h="ultra.directives.bbKloudless",m=function(){function e(e,t,n,o,i,s,a,c){this.scope=e,this.$q=t,this.$exceptionHandler=n,this.bbLocalize=o,this.$modal=i,this.CloudDriveModel=s,this.CloudDriveTaskModel=a,this.timeout=c,this.provider=r.a.KLOUDLESS.toString(),this.bbLocalize.loadBundle("components/directives/kloudless")}return e.prototype.getFileId=function(e){return e.account+"|"+e.id},e.prototype.onFileSelect=function(e){this.scope.$emit(i.d,e,this.scope.primaryKey&&this.scope.primaryKey()),this.scope.onFilesSelected&&this.scope.onFilesSelected(e)},e.prototype.getDownloadFileInfo=function(e){var t=this.getFileId(e);return this.CloudDriveModel.$new("Kloudless").contents.$new(t).$fetch({accessToken:this.accessToken}).$asPromise()},e.prototype.downloadFiles=function(e,t,n){var o=this,s={accessToken:this.accessToken,expand:"mimeType,isMedia"};this.scope.fileLocation&&(s.fileLocation=this.scope.fileLocation),this.scope.webLocation&&(s.webLocation=this.scope.webLocation),(t?this.CloudDriveTaskModel.$new(n||e.id):this.CloudDriveModel.$new("Kloudless").contents.$new(n||e.id).download).$fetch(s).$then((function(t){if("COMPLETE"===t.status)var n=o.scope.$on(i.e,(function(s,r,a){a!==i.c.UploadProgressComplete||e.ui.fileId&&r!==e.ui.fileId||(o.attachHandler(t,e),n())}));else o.timeout((function(){o.downloadFiles(e,!0,t.taskId)}),o.scope,2e3);(t.completePercentage<100||"COMPLETE"===t.status)&&o.scope.$root.$broadcast(i.e,e.ui.index,t.completePercentage,null,i.c.UpdateProgress,e.ui.targetDiv,e.ui.fileId)}),(function(t){o.displayUploadError(),o.scope.$root.$broadcast(i.e,e.ui.fileId,e,i.c.Error,e.ui.targetDiv,o.scope.primaryKey&&o.scope.primaryKey()),o.$exceptionHandler(t,"source")}))},e.prototype.attachHandler=function(e,t){var n=this.$q.defer(),o={fileName:null,fileLocation:null};return e&&(o.fileName=e.fileName,o.fileLocation=e.fileLocation,o.webLocation=e.webLocation,o.mimeType=e.mimeType,o.isMedia=e.isMedia),this.scope.attachHandler(o,t,this.scope.isUploadMultipleFiles).then((function(e){n.resolve(e)}),(function(e){n.reject(e)})),n.promise},e.prototype.displayUploadError=function(){this.$modal.open({template:u,scope:this.scope})},e.$inject=["scope","$q","$exceptionHandler",s.serviceName,l.b,c.j.serviceName,c.k.serviceName,d.b],e}(),b=function(){function e(e,t,n,i){var s=this;this.$injector=e,this.$q=t,this.$modal=n,this.CloudDriveService=i,this.scope={attachHandler:"=",isFlatten:"=?",primaryKey:"&?",primaryKeyValue:"@?",fileLocation:"@?",webLocation:"@?",disableClick:"&?",allowMultiple:"=?",onFilesSelected:"=?",onCancelFocus:"=?"},this.restrict="A",this.link=function(e,t,n){var i=s,a=r.a.KLOUDLESS.toString();e.kloudless=s.$injector.instantiate(m,{scope:e}),e.folderBranchCounts=0,e.isInitialized=!!i.CloudDriveService.cloudDriveStorage[a],e.isInitialized||i.CloudDriveService.initializeCloudDrive(r.a.KLOUDLESS);var c=function(t){var n=[];if(t&&t.length>0){for(var o=0;o<t.length;o++)n.push(e.kloudless.getDownloadFileInfo(t[o]));i.$q.all(n).then((function(t){i.CloudDriveService.isGettingFilesInfo=!1,e.kloudless.onFileSelect(t),t.length>1&&(e.isUploadMultipleFiles=!0)}),(function(){i.CloudDriveService.isGettingFilesInfo=!1}))}};t.on("click",(function(){e.disableClick&&e.disableClick()||!e.isInitialized||(i.CloudDriveService.cloudDriveStorage[a].openFilePicker(e,e.allowMultiple).then((function(n){if((n||[]).length>0){if(!n[0]||!n[0].bearer_token||!n[0].bearer_token.key)return void s.$modal.open({template:p,scope:e});e.kloudless.accessToken=n[0].bearer_token.key,i.CloudDriveService.isGettingFilesInfo=!0,o.isDefined(e.allowMultiple)&&!1===e.allowMultiple&&n.length>1?c([n[0]]):c(n)}else e.onCancelFocus?e.onCancelFocus():t.focus()})),e.$on("$destroy",(function(){i.CloudDriveService.isGettingFilesInfo=!1,t.off("click")})))})),e.$on("downloadFile",(function(t,n){n.ui.primaryKey===(e.primaryKey&&e.primaryKey())&&n.file.$url().indexOf("Kloudless")>=0&&e.kloudless.downloadFiles(n)}))}}return e.$inject=["$injector","$q","$modal",r.c],e}();o.module(h,[s.moduleName,r.b,a.a,l.a,d.a]).directive("bbKloudless",["$injector",function(e){return e.instantiate(b)}])},IfWz:function(e,t,n){var o=n("ziER"),i=n("5JeM"),s=new o({id:"icon-medium-gdrive",use:"icon-medium-gdrive-usage",viewBox:"0 0 24 24",content:'<symbol fill="currentColor" xmlns="http://www.w3.org/2000/svg" stroke="transparent" viewBox="0 0 24 24" id="icon-medium-gdrive"><g clip-path="url(#icon-medium-gdrive_clip0)" fill="#000"><path d="M6 21.5l3.5-6H23l-3.5 6H6zM7.5001 3.5l3.4462 6.031-6.75 11.6914L.75 15.1913 7.5001 3.5zM22.6962 14.2224l-6.9462-.0311L9 2.5l6.9462.031 6.75 11.6914z" /></g><defs><clipPath id="icon-medium-gdrive_clip0"><path fill="#fff" d="M0 0h24v24H0z" /></clipPath></defs></symbol>'});i.add(s);e.exports=s},IiJs:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return a}));var o=n("D57K"),i=n("wHJ2"),s=n("pjml"),r="ultra.services.collabUltra",a="collabUltra",c=function(){function e(e,t,n,o,i,s,r){this.$q=e,this.$compile=t,this.$rootScope=n,this.$timeout=o,this.CourseModel=i,this.CollabUltraModel=s,this.$sce=r}return e.prototype.getCollabB2Info=function(){return this.collabB2InfoPromise=this.collabB2InfoPromise||this.CollabUltraModel.$build().getCollabUltraInfo()},e.prototype.getAllCollabSessions=function(e){return this.CourseModel.$new(e).collabUltra.getAllCollabSessions()},e.prototype.enableCourseRoom=function(e,t){return this.CourseModel.$new(e).collabUltra.enableCourseRoom(t)},e.prototype.disableCourseRoom=function(e,t){return this.CourseModel.$new(e).collabUltra.disableCourseRoom(t)},e.prototype.getLaunchUrl=function(e,t){return this.CourseModel.$new(e).collabUltra.sessions.$new(t).getLaunchUrl()},e.prototype.getCourseCollab=function(e){return this.CourseModel.$new(e).collabUltra.getCourseCollabInfo()},e.prototype.launchDiscussionSession=function(e,t,n){return this.CourseModel.$new(e).collabUltra.launchDiscussionSession(t,n)},e.prototype.getCollabSessionStatus=function(e,t){var n=this;return this.getCollabB2Info().then((function(t){return 200===t.$response.status?n.CourseModel.$new(e).collabUltra.sessions.$fetch().$allow([403,500,504]).$asPromise():n.$q.reject()})).then((function(o){return 200===o.$response.status?n.CourseModel.$new(e).groups.$new(t).collabSession.$fetch({expand:"sessionInstances"}).$allow(["400-599"]).$asPromise().then((function(e){return e.filter((function(e){return e.sessionInstances&&e.sessionInstances.length>0})).length>0})):n.$q.when(null)}),(function(){return n.$q.when(null)}))},e.$inject=["$q","$compile","$rootScope","$timeout",s.o.serviceName,s.l.serviceName,"$sce"],e}();!function(e){function t(){return null!==e&&e.apply(this,arguments)||this}Object(o.__extends)(t,e)}(c);i.module(r,[s.R]).service(a,c)},J4qU:function(e,t,n){"use strict";n.d(t,"a",(function(){return c})),n.d(t,"b",(function(){return l}));var o=n("D57K"),i=n("pjml"),s=n("0JpG"),r=n("7pcG"),a=n("Fvsw"),c="ultra.components.services.calendar.schedule",l="bbSchedule",d=function(){function e(e,t,n){this.localize=e,this.calendar=t,this.context=n}return e.prototype.getWeeklyRepeatLabel=function(e,t,n,o){var r,a=this;if(void 0===n&&(n="medium"),!i.i.RecurFrequency.Weekly.isEqualTo(e.recurRules.freq))return"";switch(n.trim().toLowerCase()){case"short":r=s.ILocaleDateFormat.ShortWeekday;break;case"medium":r=s.ILocaleDateFormat.MediumWeekday;break;case"long":r=s.ILocaleDateFormat.LongWeekday;break;default:r=s.ILocaleDateFormat.MediumWeekday}return e.recurRules.byWeekDay.map((function(e){return i.i.RecurWeekDay.parse(e)})).filter((function(e){return!!e})).sort((function(e,t){return e.dayOfWeek-t.dayOfWeek})).map((function(e){return a.localize.formatDateSync(a.calendar.getSampleDateForDayOfWeek(e.dayOfWeek),r)})).join(this.localize.translateSync({locale:o,key:t,options:{noWrap:!0}}))},e.prototype.getNextMonthlyEventDate=function(e,t){return this.updateDate(e,t,this.calendar.getNextEventForMonthlyRepeat(e.recurRules,this.context.getServerTime()))},e.prototype.getNextDailyEventDate=function(e,t){return this.updateDate(e,t,this.calendar.getNextEventForDailyRepeat(e.recurRules,this.context.getServerTime()))},e.prototype.updateDate=function(e,t,n){var o=t[e.itemSourceId];return o&&o.getTime()===n.getTime()||(t[e.itemSourceId]=n,o=n),o},e.$inject=[s.serviceName,r.b,a.b],e}();!function(e){function t(){return null!==e&&e.apply(this,arguments)||this}Object(o.__extends)(t,e)}(d);angular.module(c,[r.a,a.a,s.moduleName]).service(l,d)},J8YL:function(e,t){e.exports='<div class="discussion-assignment">\n  <button class="button-add-content js-show-add-options" data-show-add-options ng-click="addContentButton.toggleMenu()"\n     ng-class="{hide: !(addContentButton.isButtonVisible || addContentButton.alwaysShow || addContentButton.isMenuVisible)}"\n     aria-expanded="{{addContentButton.isMenuVisible}}" aria-controls="{{::\'add-content-menu-\' + addMenuId}}"\n     aria-label="{{addContentButton.addButtonAriaLabel}}"\n     ng-focus="addContentButton.showButton()" ng-blur="addContentButton.hideButton()"\n     analytics-id="components.directives.add-content-button.assignment.button">\n  </button>\n  \x3c!-- use ng-show to keep the element when close add buttons, make sure the upload directive handlers will not be lost --\x3e\n  <ul role="menu" class="element-list-add-menu outline-menu angular-animate"\n      aria-expanded="{{addContentButton.isMenuVisible}}"\n      ng-attr-id="{{\'add-content-menu-\' + addMenuId}}"\n      ng-if="::addContentButton.isMenuVisible || undefined"\n      ng-show="addContentButton.isMenuVisible">\n    <li>\n      <bb-file-upload\n        url="/v1/files"\n        data="{}"\n        allow-multiple="true"\n        monitor-leave="true"\n        disable-drag="disableDrag && disableDrag()"\n        target-div="{{\'#\' + fileListViewId}}"\n        hide-transclude-during-upload="false"\n        is-third-party-upload="false"\n        disallow-folder-uploads="true"\n        skip-zip-file-check="true"\n        ignored-states="::ignoredStates()"\n        position="positionBefore ? positionBefore() : positionAfter && positionAfter() + 1">\n        <a href="javascript:void(0);"\n           role="menuitem"\n           bb-translate-attrs="{\'aria-label\':\'course.content.buildContentArea.addFiles\'}"\n           ng-click="addContentButton.toggleMenu()"\n           analytics-id="components.directives.add-content-button.assignment.fileUpload.link" >\n          <bb-svg-icon size="small" icon="upload"></bb-svg-icon><span bb-translate analytics-id="course.content.buildContentArea.addFiles">course.content.buildContentArea.addFiles</span>\n        </a>\n      </bb-file-upload>\n    </li>\n    <li ng-if="!addContentButton.isMobile">\n      \x3c!-- Skip zip file check, assignment does not support unzip file(LRN-101238) --\x3e\n      <bb-file-upload allow-multiple="true" monitor-leave="true" is-third-party-upload="true"  hide-transclude-during-upload="false" skip-zip-file-check="true"\n                      click-enabled="false" primary-key="fileListViewId" disable-drag="disableDrag && disableDrag()"\n                      third-party-download-handler="addContentButton.downloadFile" target-div="{{\'#\' + fileListViewId}}"\n                      position="positionBefore ? positionBefore() : positionAfter && positionAfter() + 1">\n        <a href="javascript:void(0);"\n           role="menuitem"\n           bb-one-drive primary-key="fileListViewId"\n           is-flatten="false"\n           attach-handler="attachHandler || addContentButton.defaultAttachHandler"\n           ignored-states="::ignoredStates()"\n           bb-translate-attrs="{\'aria-label\':\'components.directives.add-content-button.aria-label.content.oneDrive\'}"\n           ng-click="addContentButton.toggleMenu(\'OneDriveUpload\')"\n           analytics-id="components.directives.add-content-button.assignment.oneDrive.link">\n          <div>\n            <i class="icon-cloud"></i><span bb-translate>components.directives.add-content-button.oneDrive</span>\n          </div>\n        </a>\n      </bb-file-upload>\n    </li>\n  </ul>\n</div>\n'},JbZT:function(e,t,n){},JfeD:function(e,t,n){},JiEj:function(e,t){e.exports='<div bb-load-bundle="components/directives/content/learning-module/learning-module-base-item" class="base-content-item bb-lm-base-item"\n  bb-cache-compilation="lm-base-item">\n  <div class="content-item-base-container guidance-overflow-fix js-content-item-base" ng-paste="$event.stopPropagation()">\n    <div ng-switch on="content.ui.importPlaceholder">\n      \x3c!-- Import placeholder  --\x3e\n      <div ng-switch-when="true" class="placeholder-container" bb-focus>\n        <div class="placeholder-text" bb-translate>components.directives.content-item-base.copy-placeholder</div>\n        <div class="sr-only" bb-translate>components.directives.content-item-base.please-wait</div>\n      </div>\n\n      \x3c!-- Non-imported content --\x3e\n      <div ng-switch-default class="drag-element-row" ng-class="{\'is-restricted\': content.canEdit() && content.isHiddenFromStudents(), \'isNotClickable\': content.isConditionalReleaseLocked() || content.isRestricted() && !content.canEdit()}">\n        <div class="content-item-row">\n          <div class="content-item-details" ng-class="{\'is-uploading\':content.ui.isUploading}">\n            <div class="element-card outline-item">\n\n              <ng-switch on="content.ui.isUploading">\n                \x3c!-- Uploading section begin --\x3e\n\n                <div ng-switch-when="true" class="upload-file">\n                  <bb-progress displayResults="false" id="{{content.ui.fileUploadId}}" class="bb-progress"></bb-progress>\n                </div>\n                \x3c!-- Uploading section end --\x3e\n\n                <div class="outline-item-inner" ng-switch-default>\n\n                  <div class="lm-header-section">\n                    \x3c!-- Learning Module title section begin --\x3e\n\n                    \x3c!-- Learning Module title editor --\x3e\n                    <div class="lm-header-row" bb-click-to-invoke-child=".list-tree-toggle button">\n                      \x3c!-- Header row section --\x3e\n                      <div class="lm-title-text-editor">\n                        <div class="editable-title-container" ng-show="!baseItem.titleEditMode">\n                          \x3c!-- Conditional release section begin --\x3e\n                          <div class="element-conditional-release" ng-if="!content.canEdit() && content.isConditionalReleaseLocked()">\n                            <bb-svg-icon size="small" icon="lock"></bb-svg-icon>\n                          </div>\n                          <div class="element-conditional-release" ng-if="!content.canEdit() && content.isForcedSequenceModule() && content.state === \'Started\'">\n                            <bb-svg-icon size="small" icon="started" status="success"></bb-svg-icon>\n                          </div>\n                          <div class="element-conditional-release" ng-if="!content.canEdit() && content.isForcedSequenceModule() && content.state === \'Completed\'">\n                            <bb-svg-icon size="small" icon="complete" status="success"></bb-svg-icon>\n                          </div>\n                          \x3c!-- Conditional release section end --\x3e\n                          \x3c!-- Attach event only at Instructor View --\x3e\n                          <div ng-if="::content.canEdit()" class="lm-title-instructor">\n                            <h3 class="sr-only" tabindex="-1">{{content.title}}</h3>\n                            <h3 class="lm-title secondary-title ellipse" ng-click="baseItem.enterTitleEditMode($event)" tabindex="-1" aria-hidden="true"\n                                analytics-id="components.directives.learningModule.baseItem.enterTitleEditMode.header">\n                            {{content.title}}\n                            </h3>\n                            <button ng-if="::content.canEdit()" class="button super-clear edit-title" type="button"\n                                ng-click="baseItem.enterTitleEditMode($event)"\n                                bb-translate-attrs="{\'aria-label\': \'components.directives.learning-module.base-item.edit-title\'}"\n                                translate-attrs-values="{learningModuleName: content.title}"\n                                analytics-id="course.learning.module.base.item.editTitle.button"\n                                >\n                                <bb-svg-icon size="small" icon="draw" aria-hidden="true"></bb-svg-icon>\n                            </button>\n                          </div>\n\n                          \x3c!-- Just display title at Student View --\x3e\n                          <div class="lm-title-student" ng-if="::(!content.canEdit())">\n                            <button class="lm-title secondary-title ellipse"\n                                tabindex="0"\n                                bb-translate-attrs="{\'aria-label\': \'components.directives.learning-module.aria-label.toggleLM\'}"\n                                translate-attrs-values="{learningModuleName: content.title}"\n                                aria-expanded="{{isOpen}}"\n                                title="{{::content.title}}"\n                                ng-click="!content.isConditionalReleaseLocked() && baseItem.toggleLM()"\n                                analytics-id="course.learning.module.base.item.toggleLm.button">\n                              {{::content.title}}\n                            </button>\n                            <div ng-if="content.isConditionalReleaseLocked()"\n                              role="tooltip"\n                              tabindex="0"\n                              class="lock-info"\n                              bb-complex-tooltip\n                              enhanced-tooltip="true"\n                              tooltip-position="bottom"\n                              tooltip-open-on-activation="true"\n                              tooltip-disable-on-mouse-over="true"\n                              tooltip-scope="baseItem.conditionalRelease.tooltipScope"\n                              tooltip-template="{{::baseItem.conditionalRelease.getConditionalReleaseComplexTooltipTemplate()}}">\n                              <span bb-translate>components.directives.content-item-base.conditionalRelease.lock-info</span>\n                              <span class="sr-only">{{baseItem.conditionalRelease.tooltips}}</span>\n                            </div>\n                          </div>\n                        </div>\n\n                        <div ng-show="baseItem.titleEditMode" bb-click-outside="baseItem.exitTitleEditMode()" ng-if="::content.canEdit()">\n                          <div class="lm-input">\n                            <input name="learning-module-title" class="lm-header-title lm-title" type="text" autocapitalize="off" ng-keydown="baseItem.onTitlePressKey($event)"\n                              maxlength="{{::baseItem.titleMaxLength}}" ng-model="content.title" ng-model-options="{ getterSetter: true }"\n                              ng-blur="baseItem.exitTitleEditMode($event)" ng-change="baseItem.onChangeTitle()" ng-click="$event.stopPropagation()"\n                              aria-required="true"\n                              bb-translate-attrs="{\'aria-label\': \'components.directives.header.placeholder.x-bb-lesson\'}"\n                              ng-required="true"\n                              analytics-id="course.learning.module.base.item.learningModuleTitle.input.text">\n                          </div>\n                        </div>\n                        \x3c!-- Learning Module visibility selector  --\x3e\n                        <div class="lm-visibility-selector" ng-if="content.canEdit() || (baseItem.isCourseCompletedAndInInstructorView() && content.isConditionalRelease())">\n                          <bb-content-visibility-selector ng-if="::content.canEdit()" content="content" is-visibility-selector-enabled="true" onchange-func="baseItem.onChangeVisibility()"\n                            open-panel-on-restricted="true" disable-restricted="false" enable-conditional-release="true">\n                          </bb-content-visibility-selector>\n                          <div class="rules" ng-if="(content.canEdit() || baseItem.isCourseCompletedAndInInstructorView()) && content.isConditionalRelease()">\n                            <a href="javascript:void(0);"\n                              ng-click="baseItem.canOpenConditionalRelease && baseItem.openConditionalRelease()"\n                              bb-complex-tooltip\n                              enhanced-tooltip="true"\n                              tooltip-position="bottom"\n                              tooltip-enable-on-mouse-over-for-all-breakpoints="true"\n                              tooltip-enable-on-mouse-leave-for-all-breakpoints="true"\n                              tooltip-auto-update="true"\n                              tooltip-scope="baseItem.conditionalRelease.tooltipScope"\n                              tooltip-template="{{::baseItem.conditionalRelease.getConditionalReleaseComplexTooltipTemplate()}}"\n                              analytics-id="components.directives.content-item-base.conditionalRelease.{{baseItem.conditionalRelease.conditionType}}.link">\n                              <span bb-translate>components.directives.content-item-base.conditionalRelease.{{baseItem.conditionalRelease.conditionType}}</span>\n                              <span class="sr-only">{{baseItem.conditionalRelease.tooltips}}</span>\n                            </a>\n                          </div>\n                        </div>\n                        \x3c!-- Learning Module control section begin --\x3e\n                        \x3c!-- for student --\x3e\n                        \x3c!-- <div ng-if="::(!content.canEdit())">\n                          <span class="lm-counting">{{baseItem.completed}} / {{baseItem.count}}</span>\n                        </div> --\x3e\n                        \x3c!-- for instructor --\x3e\n                        <div ng-if="::(content.canEdit() && canMove)" ng-show="!baseItem.titleEditMode" class="lm-drag-button">\n                          <button bb-drag-handle drag-item-id="{{content.id}}"\n                                  drag-item-name="{{content.title}}"\n                                  drag-item-type="{{content.contentHandler}}"\n                                  drag-item-context="{{contextArea}}"\n                                  class="super-clear small button icon js-drag-handle"\n                                  translate-attrs-values="{contentTitle: content.title}"\n                                  bb-translate-attrs="{\'title\': \'components.directives.content-item-base.move\', \'aria-label\': \'components.directives.content-item-base.aria-label.move\'}"\n                                  analytics-id="course.learning.module.base.item.move.button">\n                            <bb-svg-icon size="small" icon="move-item-up-down"></bb-svg-icon>\n                          </button>\n                        </div>\n                        <div bb-foundation-defer>\n                          <bb-overflow-menu ng-if="::(content.canDelete() || content.canEdit() || content.hasConversation() && !content.isConditionalReleaseLocked())"\n                                            element-id="{{::(\'learning-module\' + baseItem.controlId)}}"\n                                            element-name="{{content.title}}"\n                                            menu-items="baseItem.getOverflowMenu()"\n                                            analytics-id-tag-prefix="components.directives.learning-module.base-item.overflowMenu">\n                          </bb-overflow-menu>\n                        </div>\n                      </div>\n\n                      \x3c!-- Learning Module control section end --\x3e\n                      <div class="list-tree-toggle" ng-if="::(content.canEdit() || !content.isRestricted())">\n                        <button class="button super-clear" ng-click="baseItem.toggleLM()" aria-controls="{{::\'learning-module-contents-\' + content.id}}"\n                          aria-expanded="{{isOpen}}"\n                          bb-translate-attrs="{\'aria-label\': \'components.directives.learning-module.aria-label.toggleLM\',\n                          title: isOpen ? \'components.directives.learning-module.base-item.collapse\' : \'components.directives.learning-module.base-item.expand\'}"\n                          translate-attrs-values="{learningModuleName: content.title}"\n                          analytics-id="course.learning.module.base.item.toggleLm.button"\n                          >\n                          <bb-svg-icon size="small" icon="arrow-down"></bb-svg-icon>\n                        </button>\n                      </div>\n                    </div>\n                    \x3c!-- Learning Module title section end --\x3e\n                  </div>\n                  \x3c!-- Learning Module description section begin --\x3e\n                  <div class="lm-description"  ng-if="::(content.canEdit() || content.description)" ng-show="isOpen">\n                    \x3c!-- Displays at instructor view  --\x3e\n\n                    <div ng-if="::(content.canEdit())">\n                      <div class="lm-add-description" ng-if="!content.description && !baseItem.descriptionEditMode">\n                        <button type="button"\n                                class="lm-add-description-btn"\n                                ng-click="baseItem.editDescription()"\n                                bb-translate-attrs="{\'aria-label\': baseItem.toggleAriaLabel}"\n                                analytics-id="course.learning.module.base.item.lmAddDescription.button">\n                          <bb-svg-icon size="small" icon="draw" aria-hidden="true"></bb-svg-icon>\n                          <span bb-translate>components.directives.learning-module.base-item.add-description</span>\n                        </button>\n                      </div>\n\n                      <div ng-show="baseItem.descriptionEditMode" is-active="baseItem.descriptionEditMode" bb-click-outside="baseItem.saveDescription()">\n                        <form>\n                          <bb-basic-text-editor ng-model="content.description"\n                            element-id="{{::(\'lm-editor\' + content.id)}}"\n                            class="lm-description-editor"\n                            ng-class="{focused: baseItem.descriptionEditMode}"\n                            input-max-length="250"\n                            read-only="false"\n                            should-prevent-line-breaking="false"\n                            >\n                          </bb-basic-text-editor>\n                          <div class="buttons-2 equal-buttons panel-footer-right">\n                              <button class="button button--secondary js-cancel js-secondary-button non-first-focus"\n                                      ng-click="baseItem.cancelDescriptionEdit()"\n                                      bb-translate\n                                      ng-mousedown="$event.preventDefault()"\n                                      type="button"\n                                      analytics-id="components.directives.save-buttons.cancel">components.directives.save-buttons.cancel</button>\n                              <button class="button js-save js-primary-button non-first-focus"\n                                      ng-disabled="!baseItem.isDescriptionEdited()"\n                                      ng-click="baseItem.saveDescription()"\n                                      bb-translate\n                                      ng-mousedown="$event.preventDefault()"\n                                      type="button"\n                                      analytics-id="components.directives.save-buttons.notSaved">components.directives.save-buttons.notSaved</button>\n                            </div>\n                        </form>\n                      </div>\n\n                      <div class="description-show-text-container"\n                           ng-show="content.description && !baseItem.descriptionEditMode"\n                           ng-click="baseItem.onDescriptionClicked()"\n                           analytics-id="components.directives.learning-module.base-item.descriptionClicked"\n                      >\n                        <p class="description-show-text">\n                          {{content.description}}\n                        </p>\n                        <button class="description-editor"\n                                bb-translate-attrs="{\'aria-label\': \'components.directives.learning-module.base-item.edit-description\'}"\n                                translate-attrs-values="{learningModuleName: content.title}"\n                                analytics-id="course.learning.module.base.item.editDescription.button">\n                            <bb-svg-icon icon="draw" size="small" aria-hidden="true"></bb-svg-icon>\n                        </button>\n                      </div>\n                    </div>\n\n                    \x3c!-- Displays at student view --\x3e\n                    <div ng-if="::(!content.canEdit())">\n                      <div>\n                        <p class="description-show-text">\n                          {{content.description}}\n                        </p>\n                      </div>\n                    </div>\n                  </div>\n                </div>\n                \x3c!-- Learning Module description section end --\x3e\n              </ng-switch>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</div>'},Jwnl:function(e,t){e.exports='\x3c!-- Center content title when it is only one line of text (without edit capability, description, or date restrictions). --\x3e\n<button ng-if="!contentItemBase.isEngagementOutline()"\n        class="content-title" ng-class="{\'name-middle\': contentItemFolder.shouldAlignMiddle()}"\n        ng-click="contentItemFolder.toggleFolder()"\n        aria-expanded="{{content.ui.isOpen}}"\n        aria-describedby="{{contentItemBase.getAriaDescribedBy()}}"\n        bb-translate-attrs="{\'aria-label\':\'components.directives.content-item-base.aria-label.toggle-folder\'}"\n        translate-attrs-values="{folderName: content.title}"\n        analytics-id="content.item.folder.toggleFolder.button"><span>{{ content.title }}</span></button>\n<button ng-if="contentItemBase.isEngagementOutline()"\n        class="content-title name"\n        ng-click="contentItemFolder.toggleFolder()"\n        aria-describedby="{{contentItemBase.getAriaDescribedBy()}}"\n        aria-expanded="{{content.ui.isOpen}}"\n        analytics-id="content.item.folder.engagementOutline.toggleFolder.button"><span>{{ content.title }}</span></button>'},Jygx:function(e,t){var n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function o(e){this.message=e}o.prototype=new Error,o.prototype.name="InvalidCharacterError",e.exports="undefined"!=typeof window&&window.atob&&window.atob.bind(window)||function(e){var t=String(e).replace(/=+$/,"");if(t.length%4==1)throw new o("'atob' failed: The string to be decoded is not correctly encoded.");for(var i,s,r=0,a=0,c="";s=t.charAt(a++);~s&&(i=r%4?64*i+s:s,r++%4)?c+=String.fromCharCode(255&i>>(-2*r&6)):0)s=n.indexOf(s);return c}},KXuk:function(e,t,n){var o=n("ziER"),i=n("5JeM"),s=new o({id:"icon-small-complete",use:"icon-small-complete-usage",viewBox:"0 0 16 16",content:'<symbol fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" id="icon-small-complete"><rect x="1" y="1" width="14" height="14" rx="7" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" /><path d="M5 8l2 3 4-6" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" /></symbol>'});i.add(s);e.exports=s},KmIE:function(e,t,n){},"L+81":function(e,t,n){"use strict";n("zhNR"),n("Siqh"),n("Xc1Q");var o=n("lx16"),i=n("wHJ2"),s=n("kC07"),r=n("D8d/"),a=n("pjml"),c=n("lEL+"),l=n("yGpi"),d=n("D57K"),u=(n("Zahr"),n("lwNT"),n("vcLy"),n("KXuk"),n("Sa5G")),p=n("0JpG"),h=n("MKP7"),m=n("JNtI"),b=n("Ocaa"),g=n("pIXs"),v=n("aTRN"),f=n("nYZ0"),y=n("w9Zy"),C=n("TnpK"),w=n("X455"),S=n("oi1r"),k=n("jhBu"),I=n("JiEj"),D=n("aHpC"),x=n("+4Px"),T=n("e6jQ"),E="ultraUi.components.directives.content.learningModule.learningModuleBaseItem",$=function(){function e(e,t,n,o,i,s,r,a,c,l,d,p){var h=this;this.scope=e,this.element=t,this.attrs=n,this.localizeService=o,this.$q=i,this.contentService=s,this.offcanvasService=r,this.timeout=a,this.ultraState=c,this.contextCourseMembership=l,this.entitlementService=p,this.titleEditMode=!1,this.descriptionEditMode=!1,this.isEditButtonHovering=!1,this.lmTitlePlaceholder=this.localizeService.translateSync({locale:this.localizeService.getLocale(this.scope),key:"components.directives.learning-module.base-item.title-placeholder"}),this.description="",this.controlId=Object(T.a)(),this.titleMaxLength=250,this.isGettingConfirmationOptions=!1,this.descriptionCache="",this.titleCache="",this.conditionalRelease=d.instantiate(v.a,{scope:e}),e.content.title||(e.content.title=this.lmTitlePlaceholder),e.content.description=e.content.description?e.content.description:"",this.scope.$on("refresh-conditional-release-rules",(function(e,t){h.scope.content.id===t.id&&h.conditionalRelease.getConditions(t)})),this.scope.$on("bb-update-CR-tooltip",(function(e,t,n,o){t&&(h.rulesCriteria&&h.rulesCriteria.gradeColumnId)===t.id&&h.conditionalRelease.getConditions(h.scope.content,n,o)})),(e.content.isConditionalReleaseLocked()||e.content.isConditionalRelease()||e.content.isForcedSequenceModule())&&this.conditionalRelease.getConditions(e.content),this.entitlementService.hasCourseEntitlement(u.f.ModifyContent,this.scope.content.courseId).then((function(e){h.entitledToModifyContent=e})),this.scope.$on("update-state",(function(t,n){var o;if(n&&e.content.isForcedSequenceModule()&&!h.contextCourseMembership.isActAsInstructorMembership()&&(e.content.id===n.parentId||e.content.children&&e.content.children.some((function(e){return e.id===n.parentId&&(o=e,!0)})))){var s=[e.content.$fetch().$asPromise(),e.content.getChildren({limit:e.content.children.length+1}).$asPromise()];o&&o.children&&s.push(o.getChildren({limit:o.children.length+1}).$asPromise()),i.all(s).then((function(t){var n=t[1],i=t[2];n.forEach((function(t,o){var i=e.content.children.findIndex((function(e){return e.id===t.id}));-1!==i&&(n[o].ui=e.content.children[i].ui,n[o]=Object.assign(e.content.children[i],n[o]))})),o&&i&&i.forEach((function(e,t){var n=o.children.findIndex((function(t){return t.id===e.id}));-1!==n&&(o.children[n]=Object.assign(o.children[n],i[t]))}))}))}}))}return e.prototype.enterTitleEditMode=function(e){e.stopPropagation(),this.titleEditMode=!0,this.titleCache=this.scope.content.title,this.offcanvasService.safeFocus(this.element.find("input.lm-title"))},e.prototype.exitTitleEditMode=function(e){this.titleEditMode=!1,this.scope.content.title?this.scope.content.title!==this.titleCache&&this.onChangeTitle():this.scope.content.title=this.titleCache},e.prototype.onTitlePressKey=function(e){e.keyCode===x.f&&this.exitTitleEditMode()},e.prototype.onChangeTitle=function(){this.scope.content.title.trim()&&this._persistContent(this.scope.content,["title"])},e.prototype.onChangeVisibility=function(){this._updateVisibility(this.scope.content)},e.prototype._updateVisibility=function(e){e.visibility=this.contentService.determineVisibility(e.isAvailable);var t=["isAvailable","isPartiallyVisible","adaptiveReleaseRules"],n=e.getAssociatedGradingColumn();(n||this.scope.content.isForcedSequenceModule())&&(this.scope.content.isForcedSequenceModule()&&e.applyForcedSequence(!1),n&&(n.visible=e.isAvailable),t.push("contentDetail")),this._persistContent(e,t)},e.prototype.deleteContent=function(){this.scope.$emit("deleteContent",this.scope.content)},e.prototype.getOverflowMenu=function(){var e=this;return[{icon:"trash",labelKey:"global.delete",show:function(){return e.scope.content.canDelete()},onClick:this.deleteContent.bind(this),confirmationOptions:{lazyLoadTitleKeyAndInstructionsKey:function(){return e.isGettingConfirmationOptions=!0,e.getDeleteConfirmationKeyAndShowType().then((function(t){var n=t.confirmationKey.replace(/^resource\//,"");return e.isGettingConfirmationOptions=!1,e.$q.when(m.a(n))}))}}}]},e.prototype.getDeleteConfirmationKeyAndShowType=function(){var e=this;return this.contentService.generateDeleteConfirmationKey(this.scope.content,this.scope.contextArea).then((function(t){return{confirmationKey:e.scope.content.ui.deleteConfirmationKey,showType:e.scope.content.ui.modalShowType}}))},e.prototype.toggleLM=function(){this.scope.toggleFunc&&this.scope.toggleFunc()},e.prototype.isDescriptionEdited=function(){return this.descriptionCache!==this.scope.content.description},e.prototype.isCourseCompletedAndInInstructorView=function(){return!this.scope.content.canEdit()&&this.entitledToModifyContent},Object.defineProperty(e.prototype,"canOpenConditionalRelease",{get:function(){return!!(this.scope.content&&this.scope.content.permissions&&this.scope.content.permissions.adaptiveRelease&&this.scope.content.permissions.adaptiveRelease.view)},enumerable:!0,configurable:!0}),e.prototype.onDescriptionClicked=function(){this.editDescription(),this.descriptionCache=this.scope.content.description},e.prototype.editDescription=function(){var e=this;this.descriptionEditMode=!0,this.timeout((function(){e.element.find(".lm-description textarea").focus()}),this.scope,0)},e.prototype.cancelDescriptionEdit=function(){this.scope.content.description=this.descriptionCache,this.descriptionEditMode=!1},e.prototype.saveDescription=function(){this.descriptionEditMode=!1;this._persistContent(this.scope.content,["description"]),this.descriptionCache=""},e.prototype._persistContent=function(e,t){var n=this;e.withParams({fields:"id",expand:"gradebookCategory"}).$save(t).$asPromise().then((function(){n.scope.$root.$broadcast("content-update",e)}))},e.prototype.openConditionalRelease=function(){this.ultraState.goPeekState("conditional-release",{id:this.scope.content.id})},e.$inject=["scope","element","attrs",p.serviceName,"$q",f.e,y.e,c.b,C.d,w.d,"$injector",k.b],Object(d.__decorate)([Object(D.a)(2e3)],e.prototype,"onChangeTitle",null),e}(),O=function(){function e(e){var t=this;this.$injector=e,this.restrict="E",this.template=I,this.scope={content:"=",canToggle:"&",toggleFunc:"&",canMove:"=",contextArea:"=",isOpen:"="},this.link=function(e,n,o){e.baseItem=t.$injector.instantiate($,{scope:e,element:n,attrs:o})}}return e.$inject=["$injector"],e}();i.module(E,[h.a,g.a,f.d,b.a,y.d,c.a,C.b,S.a,k.a]).directive("bbLearningModuleBaseItem",["$injector",function(e){return e.instantiate(O)}]),n.d(t,"a",(function(){return M}));var M="ultra.directives.folder",A=function(){function e(e,t,n,o){var i=this;this.scope=e,this.element=t,this.timeout=n,this.contextCourseMembership=o,this.showEmptyMenu=!0,this.showMenuOverride=!1,this.showOutlineOverride=!1,this.isOpen=!1,this.toggleLabelKey="components.directives.folder.aria-label.open",this.initialChildrenLength=0,this.FOLDER_CONTENTS_SELECTOR=".folder-contents",this.contextArea=e.contextArea,this.loadMoreChildren=e.loadMoreChildren,this.contents=e.contents,this.content.ui?this.content.ui.isOpen=!1:this.content.ui={isOpen:!1},e.$on("toggle-folder",(function(e,t){i.canToggle()&&t===i.content&&i.toggleFolder()})),e.$on("toggle-folder-by-id",(function(t,n){i.canToggle()&&n===i.content.id&&(i.scope.$$phase||i.scope.$root&&i.scope.$root.$$phase?i.toggleFolder():e.$apply((function(){i.toggleFolder()})))})),e.$on("close-folder-immediately-by-id",(function(e,t){i.isOpen&&i.canToggle()&&t===i.content.id&&i._closeFolderImmediately()})),e.$on("bb-drag-start",(function(){i.isOpen&&i.canToggle()&&(null==i.content.children||0===i.content.children.length)&&i._closeFolderImmediately()})),e.$on("close-all-add-menus",(function(e,t){if(i.isOpen&&(null==i.content.children||0===i.content.children.length)&&i.content.id!==t){if(i.content.isLearningModule())return;i.toggleFolder()}})),e.$on("showContentImportProgress",(function(t,n,o){i.content.id!==o||0!==i.content.children.length||i.showOutlineOverride||(i.showOutlineOverride=!0,i.timeout((function(){i.scope.$broadcast("showContentImportProgress",n,o)}),e))})),e.$on("keyboard-drag-move",(function(e,t){i.content.id+"blank"===t?i.showEmptyMenu=!1:i.showEmptyMenu=!0})),e.$on("keyboard-drag-lost-focus",(function(){i.showEmptyMenu=!0})),e.$on("keyboard-drag-end",(function(){i.showEmptyMenu=!0}))}return e.prototype._closeFolderImmediately=function(){var e=this;this.scope.$$phase||this.scope.$root&&this.scope.$root.$$phase?(this.element.children(".folder").children(this.FOLDER_CONTENTS_SELECTOR).hide(),this.isOpen=!1,this.content.ui.isOpen=!1):this.scope.$apply((function(){e.element.children(".folder").children(e.FOLDER_CONTENTS_SELECTOR).hide(),e.isOpen=!1,e.content.ui.isOpen=!1}))},e.prototype.toggleFolder=function(){var e=this;this.isOpen||null!=this.content.children&&0!==this.content.children.length||this.loadMoreChildren(this.content).$then((function(){e.content.children&&0===e.content.children.length&&!e.contextCourseMembership.isActAsInstructorMembership()&&e.scope.content.state!==a.r.StateType.Completed&&e.scope.content.updateState(a.r.StateType.Completed,!0)})),this.isOpen=this.content.ui.isOpen=!this.content.ui.isOpen,this.content.children?this.content.children.$then((function(){e.initialChildrenLength=e.content.children.length,0===e.content.children.length?(e._calculateDurationAndToggle(),e.showMenuOverride=!0,(e.isOpen||e.isOpen&&e.content.isLearningModule())&&e.scope.$root.$broadcast("close-all-add-menus",e.content.id)):e.timeout((function(){e._calculateDurationAndToggle(),e.showMenuOverride=!1}),e.scope),e.scope.$watch((function(){return e.content.children&&e.content.children.length}),(function(t,n){e.showMenuOverride=0===t,0===t&&t!==n&&e.isOpen&&e.scope.$root.$broadcast("close-all-add-menus",e.content.id)}))})):(this._calculateDurationAndToggle(),this.showMenuOverride=!0),this.toggleLabelKey=this.isOpen?"components.directives.folder.aria-label.close":"components.directives.folder.aria-label.open"},e.prototype._calculateDurationAndToggle=function(){var e=this.isOpen?1e3:2e3,t=this.element.children(".folder").children(this.FOLDER_CONTENTS_SELECTOR).outerHeight(),n=Math.round(1.17*t),o=Math.min(e,n);this.element.children(".folder").children(this.FOLDER_CONTENTS_SELECTOR).slideToggle(o)},e.prototype.canToggle=function(){return this.content.canEdit()||!this.content.isRestricted()},Object.defineProperty(e.prototype,"content",{get:function(){return this.scope.content},enumerable:!0,configurable:!0}),e.$inject=["scope","element",c.b,w.d],e}(),P=function(){function e(e){var t=this;this.$injector=e,this.restrict="E",this.scope={content:"=",contextArea:"=",canCreate:"=",contents:"=",canMove:"=",loadMoreChildren:"=",nextContentId:"=?",onFileDropHandler:"=?",onMoveHandler:"=",onMoveIntoFolderHandler:"=",previousContentId:"=?",canCopyImport:"=?",rootContent:"&?"},this.compile=function(e){return{pre:function(e,n){e.folder=t.$injector.instantiate(A,{scope:e,element:n})}}},this.template=l}return e.$inject=["$injector"],e}();i.module(M,[s.a,r.a,o.a,c.a,E]).directive("bbFolder",["$injector",function(e){return e.instantiate(P)}])},"LC/l":function(e,t,n){var o=n("ziER"),i=n("5JeM"),s=new o({id:"icon-small-beast-analytics",use:"icon-small-beast-analytics-usage",viewBox:"0 0 16 16",content:'<symbol fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" id="icon-small-beast-analytics"><rect x="1" y="1" width="14" height="14" rx="7" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" /><path d="M8 8V1M8 8l5-4M8 8l4.5 4.5" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" /></symbol>'});i.add(s);e.exports=s},LdA1:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return m}));var o=n("D57K"),i=(n("KCTV"),n("wHJ2")),s=n("aHpC"),r=n("JfV0"),a=n("0JpG"),c=n("Fvsw"),l=n("hqh6"),d=n("wgY5"),u=n("e6jQ"),p=n("T0fj"),h=n("q0yA"),m="ultra.directives.contentVisibilityRulesOptions",b=function(){function t(e,t,n,o,i,s){this.$ngRedux=e,this.scope=t,this.element=n,this.form=o,this.context=i,this.bbLocalize=s,this.id=u.a(),this.scope.contentVisibilityRulesOptions=this,this.dateFrom=o.dateFrom,this.timeFrom=o.timeFrom,this.dateUntil=o.dateUntil,this.timeUntil=o.timeUntil,this.subscribeToReduxChanges();var r=this.bbLocalize.getAppLocaleISO();this.getLocaleSettings&&this.getLocaleSettings({locale:r}),this.startDateSelect=!!this.scope.startDate,this.untilDateSelect=!!this.scope.endDate,this.setWatchers(),this.setValidators()}return t.prototype.shouldFocus=function(e){return void 0!==this.scope.dateFieldFocus&&"undefined"!==this.scope.dateFieldFocus&&this.scope.dateFieldFocus===e},t.prototype.handleCheckClick=function(t){var n=e(t.target),o=this.element.find(".from-check").prop("checked"),i=this.element.find(".until-check").prop("checked");if(this.scope.$emit("date-selection-changed",o,i),this.scope.isAllowedEmpty?o||i||this.form.dateFrom.$setValidity("startAndOrEndDate",!0):o||i?this.form.dateFrom.$setValidity("startAndOrEndDate",!0):(this.form.dateFrom.$setTouched(),this.form.dateFrom.$setValidity("startAndOrEndDate",!1)),this.form.dateUntil.$validate(),this.form.timeUntil.$validate(),this.form.dateFrom.$validate(),this.form.timeFrom.$validate(),n.hasClass("from-check")&&o)this.scope.startDate=this.context.getServerTime(),this.scope.startTime=this.context.getServerTime();else if(n.hasClass("until-check")&&i){var s=this.scope.startDate>this.context.getServerTime()?this.scope.startDate:this.context.getServerTime();this.scope.endDate=this.addDays(s,1),this.scope.endTime=this.addDays(s,1)}this.updateStartAndEndTime()},t.prototype.addDays=function(e,t){return new Date(e.getTime()+24*t*60*60*1e3)},t.prototype.setErrorString=function(e,t){var n=(t?"start":"end")+(e?"DateValidationError":"TimeValidationError");return this.bbLocalize.translateSync({locale:this.bbLocalize.getLocale(this.scope),key:"components.directives.content-visibility."+n})},t.prototype.isDateRequired=function(e){var t=this.element.find("#from-check-"+this.id).prop("checked"),n=this.element.find("#until-check-"+this.id).prop("checked");return!!(e?t:n)},t.prototype.setWatchers=function(){var e=this;this.scope.$watch("startDate",(function(t){e.isValidDate(t)&&e.scope.startTime!==t&&(e.scope.startTime=t),e.onChange()})),this.scope.$watch("startTime",(function(t){e.isValidDate(t)&&e.scope.startDate!==t&&(e.scope.startDate=t),e.onChange()})),this.scope.$watch("endDate",(function(t){e.isValidDate(t)&&e.scope.endTime!==t&&(e.scope.endTime=t),e.onChange()})),this.scope.$watch("endTime",(function(t){e.isValidDate(t)&&e.scope.endDate!==t&&(e.scope.endDate=t),e.onChange()})),this.scope.$watch("startDateSelect",(function(t){e.scope.isAllowedEmpty&&(e.startDateSelect=t),!1===t&&e.scope.isAllowedEmpty&&(e.scope.startTime=null,e.scope.startDate=null)})),this.scope.$watch("untilDateSelect",(function(t){e.scope.isAllowedEmpty&&(e.untilDateSelect=t),!1===t&&e.scope.isAllowedEmpty&&(e.scope.endTime=null,e.scope.endDate=null)}))},t.prototype.setValidators=function(){var e=this,t=this.scope.$watch("form.dateFrom",(function(n,o){e.form.dateFrom&&(e.scope.isAllowedEmpty?e.form.dateFrom.$validators.required=function(t){return!e.startDateSelect||e.startDateSelect&&null!=t||e.scope.isAllowedEmpty&&null===t}:e.form.dateFrom.$validators.required=function(t){return!e.startDateSelect||e.startDateSelect&&null!=t},e.form.timeFrom.$validators.required=function(t){return!e.startDateSelect||e.startDateSelect&&""!==e.timeFrom.$viewValue},e.scope.isAllowedEmpty?e.form.dateUntil.$validators.required=function(t){return!e.untilDateSelect||e.untilDateSelect&&null!=t||e.scope.isAllowedEmpty&&null===t}:e.form.dateUntil.$validators.required=function(t){return!e.untilDateSelect||e.untilDateSelect&&null!=t},e.form.timeUntil.$validators.required=function(){return!e.untilDateSelect||e.untilDateSelect&&""!==e.timeUntil.$viewValue},e.form.dateFrom.$validators.untilAfterStart=function(t){return e.form.dateUntil.$setTouched(),e.form.dateUntil.$validate(),!0},e.form.dateFrom.$validators.startBeforeDueDate=function(t){return!e.startDateSelect||t&&e.isDueDateAfterStartDate(t)},e.form.dateUntil.$validators.untilAfterStart=function(t){return!e.untilDateSelect||!e.startDateSelect||!e.isStartDateValid()||t&&e.isValidDateOrder(e.scope.startDate,t)},e.form.dateUntil.$validators.untilDueDate=function(t){return!e.untilDateSelect||t&&e.isDueDateBeforeEndDate(t)},e.onChange(),e.element.find(".restricted-form").focusout((function(){e.form.$setDirty(),e.form.dateFrom.$validate(),e.form.timeFrom.$validate(),e.form.dateUntil.$validate(),e.form.timeUntil.$validate()})),t())}))},t.prototype.onChange=function(){this.scope.onchangeFunc&&this.scope.onchangeFunc()},t.prototype.onBlur=function(){this.scope.onblurFunc&&this.scope.onblurFunc()},t.prototype.noDateErrorsExist=function(){return this.isStartDateValid()&&this.isEndDateValid()},t.prototype.isStartDateError=function(){return this.startDateSelect&&!this.scope.startDate},t.prototype.isStartAndOrEndDateError=function(){return!this.startDateSelect&&!this.untilDateSelect&&!this.scope.endDate},t.prototype.isStartDateValid=function(){return!this.isStartDateError()&&!this.isStartAndOrEndDateError()&&this.isDueDateAfterStartDate(this.scope.startDate)},t.prototype.isEndDateError=function(){return this.untilDateSelect&&!this.scope.endDate},t.prototype.isEndDateBeforeError=function(){return this.untilDateSelect&&this.scope.endDate&&this.startDateSelect&&!this.isValidDateOrder(this.scope.startDate,this.scope.endDate)},t.prototype.isEndDateValid=function(){return!this.isEndDateError()&&!this.isEndDateBeforeError()&&!this.isDueDateBeforeEndDate(this.scope.endDate)},t.prototype.isValidDate=function(e){return e&&!Number.isNaN(e.getTime())},t.prototype.updateStartAndEndTime=function(){this.startDateSelect||(this.scope.startDate=null,this.scope.startTime=null),this.untilDateSelect||(this.scope.endDate=null,this.scope.endTime=null),this.noDateErrorsExist()&&(this.onChange(),this.onBlur())},t.prototype.isValidDateOrder=function(e,t){if(null==e||null==t)return!1;var n=new Date(e.getTime()),o=new Date(t.getTime());return n.setSeconds(0,0),o.setSeconds(0,0),d(o).isAfter(n)},t.prototype.isDueDateBeforeEndDate=function(e){return null==this.scope.dueDate||d(this.scope.dueDate).isBefore(e)},t.prototype.isDueDateAfterStartDate=function(e){return null==this.scope.dueDate||d(this.scope.dueDate).isAfter(e)},t.prototype.subscribeToReduxChanges=function(){var e=this,t=this.$ngRedux.connect((function(t){return{localeSettings:r.select.locale.getLocaleSettings(t,e.bbLocalize.getAppLocaleISO())}}),(function(e){return{getLocaleSettings:function(t){return e(r.actions.locale.getLocaleSettings(t))}}}))(this);this.scope.$on("$destroy",t)},t=Object(o.__decorate)([Object(o.__param)(0,Object(s.b)("$ngRedux")),Object(o.__param)(1,Object(s.b)("scope")),Object(o.__param)(2,Object(s.b)("element")),Object(o.__param)(3,Object(s.b)("form")),Object(o.__param)(4,Object(s.b)(c.b)),Object(o.__param)(5,Object(s.b)(a.serviceName))],t)}(),g=function(){function e(e){var t=this;this.$injector=e,this.restrict="E",this.require="^form",this.scope={startDate:"=?",startTime:"=?",startDateSelect:"=?",endDate:"=?",endTime:"=?",untilDateSelect:"=?",onblurFunc:"&?",onchangeFunc:"&?",isReadOnlyMode:"&?",dateFieldFocus:"@?",isAllowedEmpty:"=?",dueDate:"<"},this.template=h,this.link=function(e,n,o,i){e.contentVisibilityRulesOptions=t.$injector.instantiate(b,{scope:e,element:n,form:i})}}return e.$inject=["$injector"],e}();i.module(m,[c.a,l.a,p.a]).directive("bbContentVisibilityRulesOptions",["$injector",function(e){return e.instantiate(g)}])}).call(this,n("5iHu"))},LecS:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));n("IAsK");var o=n("wHJ2"),i=n("pjml"),s=n("/hmo"),r="ultra.directives.lti",a=function(){function e(e){this.CourseModel=e,this.replace=!0,this.restrict="E",this.scope={content:"=",targetContent:"=?",prefix:"="},this.template=s,this.link=function(e,t){var n=e.$watch("targetContent.contentHandler",(function(t){null!=t&&(e.$emit("click-to-invoke-child-directive-init"),n())}));!e.targetContent&&e.content&&e.content.contentDetail&&(e.targetContent=e.content.getLinkContentSource(),e.targetContent.$then((function(){e.content.description=e.targetContent.description})))}}return e.$inject=[i.o.serviceName],e}();o.module(r,[]).directive("bbLtiLinkItem",["$injector",function(e){return e.instantiate(a)}])},MKP7:function(e,t,n){"use strict";n.d(t,"a",(function(){return p}));var o=n("D57K"),i=n("7UH7"),s=n("wHJ2"),r=n("/KQw"),a=n("0JpG"),c=n("TnpK"),l=n("+4Px"),d=n("e6jQ"),u=n("tecA"),p="ultra.directives.basicTextEditor",h=function(e){function t(t,n,o,i,s,r){var a=e.call(this,n,o,i,s,r)||this;return a.shouldPreventLineBreaking=!0,n.$on(u.b,(function(){a.updateOriginalValues(),a.isTextTouched=!1})),n.shouldPreventLineBreaking&&(a.shouldPreventLineBreaking=n.shouldPreventLineBreaking()),a}return Object(o.__extends)(t,e),t.prototype.onKeydown=function(e){this.shouldPreventLineBreaking&&e.keyCode===l.f&&(e.stopPropagation(),e.preventDefault())},t.$inject=["$q","scope","element","ctrl",a.serviceName,c.d],t}(u.a),m=function(){function e(e){var t=this;this.$injector=e,this.require=["ngModel"],this.replace=!0,this.restrict="E",this.scope={placeholderKey:"@",placeholderAttrsValues:"@",elementId:"@",readonly:"&",getInputMaxLength:"&?inputMaxLength",onchangeFunc:"&?",onblurFunc:"&?",onFocusFunc:"&",ngModel:"=",fieldRequired:"&?",plainText:"=?",validationMessage:"@?",focusOn:"@?",noValidationMessage:"&?",direction:"&?",shouldPreventLineBreaking:"&?"},this.link=function(e,n,o,i){var s=i[0];e.textEditor=t.$injector.instantiate(h,{scope:e,element:n,ctrl:s}),e.elementId||(e.elementId="text-editor-"+d.a())},this.template=i}return e.$inject=["$injector"],e}();s.module(p,[r.a,a.moduleName,c.b]).directive("bbBasicTextEditor",["$injector",function(e){return e.instantiate(m)}])},MhoR:function(e,t,n){var o=n("ziER"),i=n("5JeM"),s=new o({id:"icon-large-grades-a",use:"icon-large-grades-a-usage",viewBox:"0 0 38 38",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 38 38" id="icon-large-grades-a"><path fill="#FFF" d="M7 37.5c-.827 0-1.5-.673-1.5-1.5V2c0-.827.673-1.5 1.5-1.5h14.609l1.979 7.912 7.912 1.979V36c0 .827-.673 1.5-1.5 1.5H7z" /><path fill="#FF3B30" d="M21.219 1l1.811 7.243.146.582.582.146L31 10.781V36c0 .551-.449 1-1 1H7c-.551 0-1-.449-1-1V2c0-.551.449-1 1-1h14.219M22 0H7C5.9 0 5 .9 5 2v34c0 1.1.9 2 2 2h23c1.1 0 2-.9 2-2V10l-8-2-2-8z" /><path fill="#FBE9E8" d="M22.996 10.5c-.825 0-1.496-.673-1.496-1.5V.5h.5c.132 0 .26.053.354.146l9 9.002A.505.505 0 0 1 31.5 10v.5h-8.504z" /><path fill="#FF3B30" d="M22 1l9 9h-8.004C22.447 10 22 9.551 22 9V1m0-1h-1v9c0 1.1.898 2 1.996 2H32v-1a.995.995 0 0 0-.293-.706l-9-9.003A1.0056 1.0056 0 0 0 22 0z" /><path fill="#FFF" d="M19.24 32.5c-.161 0-.32-.087-.415-.229-.055-.08-.134-.248-.048-.464L20.66 27.1a.511.511 0 0 1 .11-.167l9.754-9.754c.284-.284.661-.44 1.062-.44s.778.156 1.062.44l1.41 1.41c.586.586.586 1.539 0 2.125l-9.752 9.752a.4759.4759 0 0 1-.169.112l-4.707 1.883a.4895.4895 0 0 1-.19.039z" /><path fill="#FF3B30" d="M31.587 17.239c.268 0 .52.104.709.294l1.41 1.41c.391.391.391 1.027 0 1.418l-9.753 9.753-4.711 1.879 1.884-4.708 9.752-9.752a.997.997 0 0 1 .709-.294m0-1c-.513 0-1.025.196-1.416.587l-9.752 9.752a.9988.9988 0 0 0-.222.337l-1.883 4.708c-.277.69.259 1.377.926 1.377.123 0 .25-.023.378-.074l4.708-1.883c.126-.05.241-.126.337-.222l9.752-9.752c.782-.782.782-2.05 0-2.832l-1.41-1.41a2.0025 2.0025 0 0 0-1.418-.588z" /><path fill="#FBE9E8" d="M32.646 21.42l1.059-1.058a.997.997 0 0 0 .294-.709.993.993 0 0 0-.294-.709l-1.41-1.41a.997.997 0 0 0-.709-.294.993.993 0 0 0-.709.294l-1.058 1.058" /><path fill="#FF3B30" d="M29.4654 17.5305l4.2426 4.2426-.7071.7071-4.2426-4.2426zM21.6877 26.723l2.8284 2.8283-.7071.7071-2.8284-2.8284z" /><path fill="none" stroke="#FF3B30" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" d="M10.5 15.5h16M10.5 19.5h9M10.5 23.5h5M10.5 31.5h5M10.5 27.5h5" /></symbol>'});i.add(s);e.exports=s},NDLj:function(e,t,n){"use strict";n.d(t,"a",(function(){return p})),n.d(t,"b",(function(){return h}));var o=n("D57K"),i=n("wHJ2"),s=n("z6Q5"),r=n("0JpG"),a=n("Vsv2"),c=n("pjml"),l=n("emI2"),d=n("OBf2"),u=n("aHpC"),p="ultra.service.kloudless",h="kloudless",m=function(){function e(e,t,n,o,i,s,r){this.$q=e,this.$timeout=t,this.batchService=n,this.bbLocalize=o,this.cloudDrive=i,this.SystemPreferenceModel=s,this.preferences=r,this.initializeRequired=!0}return e.prototype.getInstitutionAccount=function(){var e=this,t=new d.a;return t.type="disabled",this.batchService.performBatch((function(){return e.$q.all([e.SystemPreferenceModel.$find("institution_cloud_storage_provider_type").$allow([404]).$asPromise(),e.SystemPreferenceModel.$find("institution_cloud_storage_domain").$allow([404]).$asPromise()]).then((function(n){return n&&(t.type=e.getPreferenceValueByKey(n,"institution_cloud_storage_provider_type"),t.domain=e.getPreferenceValueByKey(n,"institution_cloud_storage_domain")),t}))}))},e.prototype.getKloudlessAccounts=function(){var e=[];return this.preferences.getPreference(d.c,"[]").then((function(t){return t&&t.value&&(e=JSON.parse(t.value)),e}))},e.prototype.getConnectedInstitutionAccount=function(e,t){var n=null;return t&&t.forEach((function(t){t.service===e.type&&t.name.endsWith(e.domain)&&(n=t)})),n},e.prototype.getCloudStorageIcon=function(e){switch(e){case"gdrive":return"gdrive";case"onedrivebiz":return"onedrivebiz";case"box":return"box";case"dropbox":return"dropbox";case"skydrive":return"skydrive";default:return""}},e.prototype.authenticateCallBack=function(e){var t=this;if(e.error)throw new Error("Unable to authenticate account: "+e.error);var n={id:e.account.id,name:e.account.account,service:e.account.service,bearer_token:{key:e.access_token}};this.preferences.getPreference(d.c).then((function(e){var o=JSON.parse(e.value).filter((function(e){return e.id!==n.id}));o.push(n),t.preferences.setPreference(d.c,JSON.stringify(o)),t.accountsInitialized.resolve()})).catch((function(){var e=[];e.push(n),t.preferences.setPreference(d.c,JSON.stringify(e)),t.accountsInitialized.resolve()}))},e.prototype.launchAuthenticator=function(e,t){var n=this;this.cloudDrive.isCloudServiceAvailable(a.a.KLOUDLESS).then((function(){var o=n.cloudDrive.cloudDriveStorage[a.a.KLOUDLESS.toString()],i=n.getKloudlessInfo(),s=n.authenticateCallBack.bind(n);if(o.authenticator){var r="";r=e?t:"gdrive onedrivebiz box dropbox skydrive",o.authenticator(null,{client_id:i.client_id,base_url:i.base_url,scope:r},s).launch()}else console.error("Authenticator is not available")}))},e.prototype.initAuthenticationDeferred=function(){return!this.initializeRequired&&this.accountsInitialized||(this.accountsInitialized=this.$q.defer(),this.initializeRequired=!1),this.accountsInitialized},e.prototype.launchInstitutionAccount=function(e,t){var n=this;return this.initializeRequired=!0,this.initAuthenticationDeferred(),this.getKloudlessAccounts().then((function(o){var i=n.getConnectedInstitutionAccount(e,o);null===i?n.launchAuthenticator(!0,e.type):n.launchToService(i,t)})),this.accountsInitialized.promise},e.prototype.connectPersonalAccount=function(){return this.initializeRequired=!0,this.initAuthenticationDeferred(),this.launchAuthenticator(!1,void 0),this.accountsInitialized.promise},e.prototype.getPreferenceValueByKey=function(e,t){var n=e.find((function(e){return e.key===t}));return n?n.value:null},e.prototype.deleteKloudlessAccount=function(e){var t=this;return this.getKloudlessAccounts().then((function(n){var o=n.filter((function(t){return t.id!==e}));return t.preferences.setPreference(d.c,JSON.stringify(o)),o}))},e.prototype.getOneDriveLink=function(e){var t=this.$q.defer(),n=this.getKloudlessInfo().base_url+"/v1/accounts/"+e.id+"?retrieve_tokens=true";return fetch(n,{method:"GET",headers:{Authorization:"Bearer "+e.bearer_token.key}}).then((function(e){e.json().then((function(e){try{var n=JSON.parse(e.token).oauth.split("."),o=JSON.parse(window.atob(n[1]));t.resolve(o.aud)}catch(e){t.reject(e.message)}}))})).catch((function(e){t.reject(e.message)})),t.promise},e.prototype.launchToService=function(e,t){switch(this.initAuthenticationDeferred(),e.service){case"gdrive":this.getInstitutionAccount().then((function(t){if("gdrive"===t.type&&e.name.endsWith(t.domain)){var n=e.name.substring(e.name.indexOf("@")+1);window.open("https://drive.google.com/a/"+n,"_blank")}else window.open("https://drive.google.com/drive/u/0/","_blank")}));break;case"onedrivebiz":t?window.open(t,"_blank"):this.getOneDriveLink(e).then((function(e){window.open(e,"_blank")})).catch((function(e){console.error(e)}));break;case"skydrive":window.open("https://onedrive.live.com","_blank");break;case"dropbox":window.open("https://www.dropbox.com/h","_blank");break;case"box":window.open("https://www.box.com","_blank")}},e.prototype.getKloudlessInfo=function(){return this.cloudDrive.cloudDriveStorage[a.a.KLOUDLESS.toString()].getKloudlessInfo()},e=Object(o.__decorate)([Object(o.__param)(0,Object(u.b)("$q")),Object(o.__param)(1,Object(u.b)("$timeout")),Object(o.__param)(2,Object(u.b)(s.b)),Object(o.__param)(3,Object(u.b)(r.serviceName)),Object(o.__param)(4,Object(u.b)(a.c)),Object(o.__param)(5,Object(u.b)(c.wb.serviceName)),Object(o.__param)(6,Object(u.b)(l.c))],e)}();!function(e){function t(){return null!==e&&e.apply(this,arguments)||this}Object(o.__extends)(t,e)}(m);i.module(p,[c.R,l.b,s.a]).service(h,m)},Nyb7:function(e,t){e.exports='<div class="complex-statistic-contents"></div>'},O3Pz:function(e,t){e.exports='<div class="grade-callout-wrapper">\n  <div class="grade-callout readonly {{displayGrade.getCourseColorClass()}}"\n       ng-class="{ \'pending\': displayGrade.attempt.isNeedsGrading() }"\n       bb-load-bundle="components/directives/grade/display-grade"\n       bb-click-to-invoke-child="a.bb-click-grade-target">\n    <span class="value" bb-translate>{{displayGrade.attemptStatus}}</span>\n  </div>\n</div>\n'},Ocaa:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return g}));var o=n("D57K"),i=(n("0lMW"),n("gORw"),n("wHJ2")),s=n("nbDY"),r=n.n(s),a=n("0JpG"),c=n("2a+M"),l=n("+4Px"),d=n("pjml"),u=n("lEL+"),p=n("GbAM"),h=n("Qbdf"),m=n("nYZ0"),b=n("W6wm"),g="ultra.components.directives.bbDragHandle",v=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(o.__extends)(t,e),t.Vertical=new t("vertical"),t.Horizontal=new t("horizontal"),t.Omnidirectional=new t("omnidirectional"),t}(r.a),f=function(){function t(t,n,o,i,s,r){var a=this;this.$rootScope=t,this.bbLocalizeService=n,this.dragDropService=o,this.timeout=i,this.currentCourseService=s,this.contentService=r,this.bbDragMoveTimeoutId=null,this.scope={dragItemId:"@",dragItemName:"@",dragItemType:"@",dragDirection:"@?",dragItemContext:"@?"},this.restrict="A",this.link=function(t,n,o){a.dragDirection=v.parse(t.dragDirection)||v.Vertical,a.dragDropService.currentDragContext=t.dragItemContext,e(n).parent().attr("role","application"),n.on("mousedown",(function(o){function i(e){e.stopImmediatePropagation()}o.preventDefault(),document.addEventListener("click",i,!0),a.dragStart(o,n,t),e(document).on("mousemove.reorder",(function(e){a.dragMove(e,t)})),e(document).on("mouseup.reorder",(function(o){a.dragEnd(o,n),e(document).off("mousemove.reorder"),e(document).off("mouseup.reorder"),n.on("$destroy",(function(){document.removeEventListener("click",i,!0)})),a.timeout((function(){document.removeEventListener("click",i,!0)}),t,0,!1)}))})),n.on("keydown",(function(n){if(n.stopPropagation(),n.keyCode===l.f||n.keyCode===l.t)if(n.preventDefault(),a.dragDropService.isKeyboardDragging){var o=a.bbLocalizeService.translateSync({locale:a.bbLocalizeService.getLocale(t),key:"components.services.drag-drop.aria.reorder-stopped",noWrap:!0});a.$rootScope.$broadcast(p.a,o),e(document.body).removeClass("bb-is-dragging"),a.$rootScope.$broadcast("keyboard-drag-end")}else{a.dragDropService.isKeyboardDragging=!0,a.dragDropService.currentDragId=t.dragItemId,a.dragDropService.currentDragType=t.dragItemType,a.contentHasFolderChild(t),a.dragDropService.currentDropTargetId=t.dragItemId,a.dragDropService.positionBefore=t.dragItemId,e(document.body).addClass("bb-is-dragging"),a.$rootScope.$broadcast("keyboard-drag-start");var i=a.bbLocalizeService.translateSync({locale:a.bbLocalizeService.getLocale(t),key:"components.services.drag-drop.aria.reorder-started",params:{itemName:t.dragItemName},noWrap:!0});a.$rootScope.$broadcast(p.a,i)}else if(n.keyCode===l.v)n.preventDefault(),a.$rootScope.$broadcast("keyboard-drag-up");else if(n.keyCode===l.d)n.preventDefault(),a.$rootScope.$broadcast("keyboard-drag-down");else if(n.keyCode===l.s)n.preventDefault(),a.$rootScope.$broadcast("keyboard-drag-right");else if(n.keyCode===l.j)n.preventDefault(),a.$rootScope.$broadcast("keyboard-drag-left");else if(n.keyCode===l.g&&(n.preventDefault(),a.dragDropService.isKeyboardDragging)){var s=a.bbLocalizeService.translateSync({locale:a.bbLocalizeService.getLocale(t),key:"components.services.drag-drop.aria.reorder-canceled"});a.$rootScope.$broadcast(p.a,s),e(document.body).removeClass("bb-is-dragging"),a.$rootScope.$broadcast("keyboard-drag-cancel")}})),n.on("blur",(function(){a.dragDropService.isKeyboardDragging&&(e(document.body).removeClass("bb-is-dragging"),a.$rootScope.$broadcast("keyboard-drag-cancel"))}));var i=function(e){a.dragStart(e,n,t)},s=function(e){a.dragMove(e,t)},r=function(e){a.dragEnd(e,n)},c=function(){a.dragCancel()};n[0].addEventListener("touchstart",i,!1),n[0].addEventListener("touchmove",s,!1),n[0].addEventListener("touchend",r,!1),n[0].addEventListener("touchcancel",c,!1),t.$on("$destroy",(function(){n[0].removeEventListener("touchstart",i,!1),n[0].removeEventListener("touchmove",s,!1),n[0].removeEventListener("touchend",r,!1),n[0].removeEventListener("touchcancel",c,!1)}))}}return t.prototype.contentHasFolderChild=function(e){var t=this;if(d.r.ContentHandler.Folder.isEqualTo(e.dragItemType)&&b.a.Discussions!==t.dragDropService.currentDragContext){var n=d.r.ContentRootNode.ROOT,o=this.currentCourseService.course,i=this.contentService.findRootNode(o,n);this.contentService.getContentInContentTree(i,o.courseId,this.dragDropService.currentDragId).then((function(e){e.content&&(t.dragDropService.currentDragHasFolderChild=e.content.getChildren().$asPromise().then((function(e){return e.some((function(e){return e.isUiFolder()}))})))}))}},t.prototype.dragStart=function(t,n,o){this.$rootScope.$broadcast("bb-drag-start"),e(document.body).addClass("bb-is-dragging"),this.dragDropService.originalElement=n.closest(this.dragDropService.dragElementSelector),this.dragDropService.currentDragElement=this.dragDropService.originalElement.clone(),this.dragDropService.idOfPreviousItem=this.dragDropService.originalElement.prev(".drag-element").find("[drag-item-id]").attr("drag-item-id"),this.dragDropService.idOfNextItem=this.dragDropService.originalElement.next(".drag-element").find("[drag-item-id]").attr("drag-item-id");var i=e(".f-open-dropdown");(i.length>0&&window.Foundation.libs.dropdown.close(i),this.$rootScope.$broadcast("foundation-offcanvas-close-panel"),d.r.ContentHandler.Folder.isEqualTo(o.dragItemType))&&(this.$rootScope.$broadcast("close-folder-immediately-by-id",o.dragItemId),this.dragDropService.currentDragElement.find(".img-icon-folder-open").removeClass("img-icon-folder-open").addClass("img-icon-folder"));this.dragDropService.originalElement.addClass(this.dragDropService.originalElementClass),this.dragDropService.currentDragElement.addClass(this.dragDropService.movableElementClass).addClass("mouse-touch-drag"),this.dragDropService.originalElement.after(this.dragDropService.currentDragElement),this.dragDropService.currentDragId=o.dragItemId,this.dragDropService.currentDragType=o.dragItemType,this.contentHasFolderChild(o),this.dragDropService.currentDropTargetId=o.dragItemId,this.dragDropService.positionBefore=o.dragItemId,this.dragDropService.createDropPlaceholderElement(this.dragDropService.currentDragElement),this.dragMove(t,o)},t.prototype.dragEnd=function(t,n){e(document.body).removeClass("bb-is-dragging"),t.preventDefault(),this.dragDropService.originalElement.removeClass(this.dragDropService.originalElementClass),this.dragDropService.currentDragElement.removeClass(this.dragDropService.movableElementClass),this.dragDropService.currentDragElement.removeAttr("style"),this.$rootScope.$broadcast("bb-drag-end")},t.prototype.dragCancel=function(){this.$rootScope.$broadcast("bb-drag-cancel"),e(document.body).removeClass("bb-is-dragging")},t.prototype.dragMove=function(e,t){var n=this;e.preventDefault();var o,i,s,r,a=this.dragDropService.currentDragElement.find("[bb-drag-handle]"),l=this.dragDropService.originalElement.find("[bb-drag-handle]").offset(),d=a.offset(),u=this.dragDropService.currentDragElement.offset(),p=d.left-u.left,h=d.top-u.top,m=p+a.width()/2,b=h+a.height()/2,g=v.Horizontal.isEqualTo(this.dragDirection)||v.Omnidirectional.isEqualTo(this.dragDirection),f=v.Vertical.isEqualTo(this.dragDirection)||v.Omnidirectional.isEqualTo(this.dragDirection);e.touches?(o=g?e.touches[0].pageX-m:u.left,i=f?e.touches[0].pageY-b:u.top,s=g?e.touches[0].pageX:l.left,r=f?e.touches[0].pageY:l.top):(o=g?e.pageX-m:u.left,i=f?e.pageY-b:u.top,s=g?e.pageX:l.left,r=f?e.pageY:l.top),this.dragDropService.currentDragElement.offset({left:o,top:i}),this.dragDropService.pointerPosition={left:s,top:r},this.dragDropService.scrollDragDropItemsContainer(this.dragDropService.pointerPosition.top,c.a.SCROLLING_CONSTANTS.mouseInteractionDistanceToScroll),this.timeout.cancel(this.bbDragMoveTimeoutId),this.bbDragMoveTimeoutId=this.timeout((function(){n.$rootScope.$broadcast("bb-drag-move")}),t,150,!1)},t.$inject=["$rootScope",a.serviceName,c.d,u.b,h.e,m.e],t}();i.module(g,[a.moduleName,c.c,u.a,h.b,m.d]).directive("bbDragHandle",["$injector",function(e){return e.instantiate(f)}])}).call(this,n("5iHu"))},Op6L:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));n("YHbk");var o=n("wHJ2"),i=n("oVrE"),s=n("tqR7"),r=n("7+Tq"),a=n("+4Px"),c=n("pjml"),l=n("FB0g"),d=n("ZzYr"),u="ultra.components.directives.multiUserUsercard",p=function(){function e(e,t,n){var o=this;this.scope=e,this.element=t,this.dropdownInit=n,this.isCardOpen=!1,this.showAllUsers=!1,this.fakeMultiUser=i.a(),this.userType="default",this.userType=this.scope.userType&&this.scope.userType()?this.scope.userType():this.userType;var s=this.scope.$root.$on("bb-multi-user-usercard-opened",(function(){o.isCardOpen=!1}));this.element.on("opened.fndtn.dropdown",".multi-user-usercard-list",(function(){o.dropdownInit(o.element,o.scope);var e=o.element.find(".multi-user-usercard");o.element.find(".multi-user-usercard-list").css({left:e[0].offsetLeft,top:e.outerHeight()+e[0].offsetTop})})),this.scope.$on("$destroy",(function(){s()}))}return Object.defineProperty(e.prototype,"visibleUsersCount",{get:function(){return void 0!==this._visibleUsersCount?this._visibleUsersCount:this.scope.users.length>4?4:this.scope.users.length},enumerable:!0,configurable:!0}),e.prototype.showMoreButton=function(){return!this.showAllUsers&&this.hiddenUsersCount()>0},e.prototype.showAll=function(){this.showAllUsers=!0,this._visibleUsersCount=this.scope.users.length,this.element.find(".multi-user-usercard-list").focus()},e.prototype.hiddenUsersCount=function(){return this.scope.users.length-this.visibleUsersCount},e.prototype.toggleCard=function(){this.isCardOpen?this.closeCard():this.openCard()},e.prototype.openCard=function(){this.scope.$root.$broadcast("bb-multi-user-usercard-opened"),this.isCardOpen=!0},e.prototype.closeCard=function(){this.isCardOpen=!1,this.element.find(".usercard-trigger button").focus()},e.prototype.handleKeydown=function(e){e.keyCode===a.g&&(e.stopPropagation(),this.closeCard())},e.prototype.handleClickOutside=function(){this.closeCard()},e.prototype.isUserCourseAvailable=function(e){var t=this.scope.getUserCourseAvailabilities&&this.scope.getUserCourseAvailabilities();return!(t&&!t[e])},e.$inject=["scope","element",r.b],e}(),h=function(){function e(e){var t=this;this.$injector=e,this.restrict="AE",this.template=l,this.scope={listId:"@?",users:"=",userType:"&?",noAvatar:"&",view:"&",groupUsersTitle:"&?",listHeader:"&?",getUserCourseAvailabilities:"&?userCourseAvailabilities",selectedUser:"=?",selectedText:"@?",courseName:"@?"},this.link=function(e,n,o){e.multiUserUsercard=t.$injector.instantiate(p,{scope:e,element:n,attrs:o})}}return e.$inject=["$injector"],e}();o.module(u,[c.R,s.a,r.a,d.a]).directive("bbMultiUserUsercard",["$injector",function(e){return e.instantiate(h)}])},P2DR:function(e,t,n){var o=n("ziER"),i=n("5JeM"),s=new o({id:"icon-small-one-drive",use:"icon-small-one-drive-usage",viewBox:"0 0 16 16",content:'<symbol fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" id="icon-small-one-drive"><path d="M4 12s-3 0-3-2.5S3 7 3 7s-.4041-2.5 1.5-3.5C6.4041 2.5 8 4 8 4s2-1.5 4 0 1 4 1 4" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" /><path d="M13 14H6s-2 0-2-2 2-2 2-2 0-2 1.5-2.5S10 8 10 8s1.5-1.5 3 0 .5 3 .5 3 1.5 0 1.5 1.5-2 1.5-2 1.5z" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" /></symbol>'});i.add(s);e.exports=s},Poqp:function(e,t){e.exports='<bb-modal class="notification"\n          modal-title-key="components.directives.kloudless.modal.authorizationRequiredTitle"\n          analytics-id-tag-prefix="components.directives.kloudless.authorizationRequired">\n  <div name="modal-contents">\n    <p>\n      <bb-translate>components.directives.kloudless.modal.authorizationRequiredMessage</bb-translate>\n    </p>\n  </div>\n  <button name="modal-footer-button-primary" class="button dismiss-button js-primary-button" ng-click="$parent.$dismiss()" analytics-id="global.close">\n    <bb-translate>global.close</bb-translate>\n  </button>\n</bb-modal>\n'},Q3wm:function(e,t,n){var o=n("ziER"),i=n("5JeM"),s=new o({id:"icon-medium-attendance",use:"icon-medium-attendance-usage",viewBox:"0 0 24 24",content:'<symbol fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" id="icon-medium-attendance"><path d="M14 3h7v20H3V3h7" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" /><circle cx="12" cy="3" r="2" stroke-width="2" /><path d="M7 16l3 3M7 19l3-3M7 12l1 1 2-2M10 3C6 3 6 8 6 8h12s0-5-4-5M13 12h5M13 17h5" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" /></symbol>'});i.add(s);e.exports=s},QIw5:function(e,t,n){"use strict";n.d(t,"b",(function(){return d})),n.d(t,"c",(function(){return u})),n.d(t,"a",(function(){return p}));var o=n("D57K"),i=n("wHJ2"),s=n("nbDY"),r=n.n(s),a=n("pjml"),c=n("TnpK"),l=n("Fvsw"),d="ultra.components.services.routing",u="routing",p=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(o.__extends)(t,e),t.Already=new t("Already"),t.Failure=new t("Failure"),t.Unavailable=new t("Unavailable"),t}(r.a),h=function(){function e(e,t,n){this.CourseModel=e,this.ultraState=t,this.contextService=n}return e.prototype.goToPostRegistrationPage=function(e){var t=this;"succeeded"!==e.enrollStatusCode&&"alreadyEnrolledInCourse"!==e.enrollStatusCode||!e.courseId?e.courseId&&"invalidInput"===e.enrollStatusCode?this.ultraState.go("base.courses",{enrollmentMessage:p.Failure}):this.contextService.getLandingPage().then((function(e){return t.ultraState.go(e)})):this.CourseModel.$find(e.courseId,{fields:"isAvailable"}).$then((function(n){n.isAvailable?"succeeded"===e.enrollStatusCode?t.ultraState.goPeekState("course.outline",{courseId:e.courseId}):"alreadyEnrolledInCourse"===e.enrollStatusCode&&t.ultraState.goPeekState("course.outline",{courseId:e.courseId,enrollmentMessage:p.Already}):t.ultraState.go("base.courses",{enrollmentMessage:p.Unavailable})}))},e.$inject=[a.o.serviceName,c.d,l.b],e}();!function(e){function t(){return null!==e&&e.apply(this,arguments)||this}Object(o.__extends)(t,e)}(h);i.module(d,[c.b]).service(u,h)},Qc1G:function(e,t,n){},Qile:function(e,t,n){"use strict";n.r(t);n("cCP0"),n("vNjs"),n("lGua"),n("AYCo"),n("CM4G"),n("KXuk"),n("0Y4C"),n("A4FN"),n("3mIl"),n("Ybms"),n("Ao2D"),n("6BRP"),n("xwlO"),n("SHbF"),n("Q3wm"),n("uHYt"),n("JbSi"),n("wdQf"),n("DUMb"),n("FFRk"),n("Ycix"),n("haDg"),n("3YxC"),n("CQx7"),n("Vrhx"),n("gkTp"),n("67oV"),n("pNbS"),n("b8rY"),n("pPNb"),n("4ICS"),n("IfWz"),n("6s5h");var o=n("wHJ2"),i=n("kxl5"),s=n("D57K"),r=n("/C4M"),a=n.n(r),c=n("5iHu"),l=n("0JpG"),d=n("TnpK"),u=n("Qbdf"),p=n("X455"),h=n("OaxL"),m=n("go4a"),b=n("yC9S"),g=n("g66W"),v="ultra.course.announcement-slide",f=angular.module(v,[d.b]),y=(function(){function e(e,n,o,i,s,r,a){var c=this;this.$element=e,this.$ngRedux=n,this.$scope=o,this._bbLocalize=i,this.contextCourse=s,this.contextCourseMembership=r,this.streamEntryLoader=a,this.fetchAnnouncementSlides=function(){var e=c.contextCourse.courseId;return c.streamEntryLoader.getAllEntries().then((function(n){var o=[];return n.forEach((function(n){e===n.courseId&&"announcement"===n.icon&&n.title&&n.title.trim().length>0&&o.push({id:n.body.content.sourceId,title:n.title,body:{rawText:t.extractBodyText(n.body.content.fullText)},isDraft:!1,startDateRestriction:n.notificationCreationDate.toISOString(),courseId:e,sourceEntry:n})})),o}))},this.dismissAnnouncementItem=function(e){return e.remove().then((function(){c.streamEntryLoader.deleteEntries([e.id]),c.streamEntryLoader.refreshEntries(!0)}))}}var t;t=e,e.prototype.$postLink=function(){a.a.renderAnnouncementSlide(this.$element[0],this.$ngRedux,this._bbLocalize.getLocale(this.$scope),this._bbLocalize.intl,this._bbLocalize.frmt,m.a(this.contextCourseMembership.courseMembership),this.fetchAnnouncementSlides,this.dismissAnnouncementItem)},e.prototype.$onDestroy=function(){a.a.destroyAnnouncementSlide(this.$element[0])},e.$inject=["$element","$ngRedux","$scope",l.serviceName,u.e,p.d,h.d],e.extractBodyText=function(e){if(e){var t=c("<div></div>").html(e).find(".vtbegenerated"),n=t&&t[0]?t[0].innerHTML:e;return g.c(n)}return e},e=t=Object(s.__decorate)([Object(b.a)({module:f,componentName:"announcementSlide",template:'<div class="announcement-slide"></div>'})],e)}(),n("TB6y")),C=n("Sgjf"),w=n("Vsv2"),S=n("Dt14"),k=n("IiJs"),I=n("e7Kn"),D=n("Fvsw"),x=n("ZzN+"),T=n("m+3A"),E=n("AI52"),$=n("kkIh"),O=n("tcaZ"),M=n("0+Qs"),A=n("NDLj"),P=n("pjml"),L=n("07uq"),B=n("Op6L"),F=(n("3Yz5"),n("JbZT"),n("Umpa"),n("uUZG"),n("LLew"),n("hCwZ"),n("k4Z5"),n("JjSU"),n("kbqV"),n("MhoR"),n("xrCU"),n("NXpb"),n("2uh6"),n("lmHs"),n("cKE6"),n("pppo"),n("L53Q"),n("PGN9"),n("cpe8"),n("jbRV"),n("UiGP"),n("5XFJ"),n("12mu")),j=n("wgY5"),R=n("nYZ0"),N=n("nbDY"),_=n.n(N),z=n("KtUo"),G=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(s.__extends)(t,e),t.assignmentDue=new t("AS:DUE"),t.assignmentOverdue=new t("AS:OVERDUE"),t.ultraAssignmentDue=new t("UA:DUE"),t.ultraAssignmentOverdue=new t("UA:OVERDUE"),t}(_.a);var V=function(e,t,n){return e.filter((function(e){if(t)return G.assignmentOverdue.isEqualTo(e.type)||G.ultraAssignmentOverdue.isEqualTo(e.type);var o=e.contextualDate||e.notificationCreationDate;return o&&0===z.a(o,n)&&(G.assignmentDue.isEqualTo(e.type)||G.ultraAssignmentDue.isEqualTo(e.type))}))},H=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(s.__extends)(t,e),t.testDue=new t("TE:DUE"),t.testOverdue=new t("TE:OVERDUE"),t}(_.a);var U=function(e,t,n){return e.filter((function(e){if(t)return H.testOverdue.isEqualTo(e.type);var o=e.contextualDate||e.notificationCreationDate;return o&&0===z.a(o,n)&&H.testDue.isEqualTo(e.type)}))},q=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(s.__extends)(t,e),t.calendar=new t("bb_calendar"),t}(_.a);var K=function(e,t){return e.filter((function(e){return q.calendar.isEqualTo(e.type)&&e.body&&e.body.content&&e.body.content.eventStartDate>=t}))},J=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(s.__extends)(t,e),t.couseAnnouncement=new t("AN:AN_AVAIL"),t}(_.a);var W=function(e){return e.filter((function(e){return e.isNew&&J.couseAnnouncement.isEqualTo(e.type)}))},Y=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(s.__extends)(t,e),t.message=new t("bb_message"),t}(_.a);var Q=function(e,t,n){var o=j(t).subtract(14,"day").toDate();return e.filter((function(e){var t=z.c(e);return t>o&&t>n&&Y.message.isEqualTo(e.type)&&e.isImportant}))},Z=function(){function e(e,t,n){this.context=e,this.streamEntryLoader=t,this.content=n,this.noticeEntries=[]}return e.prototype.clearNoticeEntries=function(){this.noticeEntries=[]},e.prototype.loadNoticeEntries=function(e,t){var n=this;return this.clearNoticeEntries(),this.streamEntryLoader.getAllEntries().then((function(o){return n.noticeEntriesHandler(o,e,t)}))},e.prototype._filterEntries=function(e,t,n,o){switch(t){case 0:return W(e);case 1:return V(e,!0);case 2:return U(e,!0);case 3:return V(e,!1,n);case 4:return U(e,!1,n);case 5:return K(e,n);case 6:return Q(e,n,o);default:return[]}},e.prototype.noticeEntriesHandler=function(t,n,o){var i=this,s=t.filter((function(e){return n===e.courseId}));if(s.length>0){for(var r=this.context.getServerTime(),a=new Array(e.MAX_TYPES+1),c=e.NOTICE_SHOW_MAX_LENGTH,l=0;l<=e.MAX_TYPES&&c>0;l++)a[l]=this._filterEntries(s,l,r,o),a[l].length>0&&(c-=1,a[l].length>1&&a[l].sort((function(e,t){return(e.contextualDate||e.notificationCreationDate)-(t.contextualDate||t.notificationCreationDate)})));a[0].length>1&&(a[0]=a[0].reverse());for(var d=0;d<l;d++)a[d].length>0&&this.noticeEntries.push(a[d][0]);c=e.NOTICE_SHOW_MAX_LENGTH-this.noticeEntries.length;for(d=0;d<l&&c>0;d++)for(var u=1;u<a[d].length&&c>0;u++)this.noticeEntries.push(a[d][u]),c-=1;return this.noticeEntries.forEach((function(e){return e.title=i.content.truncateDescription(e.title)})),this.noticeEntries}},e.NOTICE_SHOW_MAX_LENGTH=3,e.MAX_TYPES=6,e.$inject=[D.b,h.d,R.e],e}();!function(e){function t(){return null!==e&&e.apply(this,arguments)||this}Object(s.__extends)(t,e)}(Z);o.module("ultra.service.notice.loader",[D.a,h.c,R.d]).service("noticeEntryLoader",Z);var X=n("lHMO"),ee=n("hBzJ"),te="components.directives.notice.",ne="lastShow.date",oe=function(){function e(e,t,n,o){var i=this;this.scope=e,this.$modal=t,this.noticeService=n,this.bbContext=o,this.modalDismiss=function(){i.modalInstance.dismiss()},this.today=j(o.getServerTime()),this.bbContext.getPreference(te+ne+e.courseId.replace(/\_/g,"."),null).then((function(t){t.value&&!j(t.value).isBefore(i.today,"days")||i.noticeService.loadNoticeEntries(e.courseId,t.value&&j(t.value).toDate()).then((function(t){t&&t.length>0&&i.bbContext.setPreference(te+ne+e.courseId.replace(/\_/g,"."),o.getServerTime().toISOString()).then((function(){i.modalInstance=i.$modal.open({template:ee,scope:i.scope,resolve:{translations:[l.serviceName,function(e){return e.loadBundle("components/directives/notice")}]}})}))}))}))}return e.prototype.getNotices=function(){return this.noticeService.noticeEntries},e.$inject=["scope","$modal","noticeEntryLoader",D.b],e}(),ie=function(){function e(e,t,n,o){var i=this;this.$injector=e,this.$q=t,this.$modal=n,this.bbLocalize=o,this.restrict="E",this.scope={courseId:"@",bbNoticeClass:"@?"},this.link=function(e){i.bbLocalize.loadBundle("features/base/stream/base-stream"),e.notice=i.$injector.instantiate(oe,{$q:i.$q,scope:e,$modal:i.$modal})}}return e.$inject=["$injector","$q",F.b,l.serviceName],e}();o.module("ultra.directives.notice",[l.moduleName,F.a,X.a,"ultra.service.notice.loader"]).directive("bbNotice",["$injector",function(e){return e.instantiate(ie)}]);var se=n("JNtI"),re=n("3FFP"),ae=n("zByx"),ce=n("+e2k"),le=n("lEL+"),de=n("hkqm"),ue=n("1zDl"),pe=n("+brj"),he=n("ZzYr"),me=n("cs5G"),be=n("rKkA");n.d(t,"moduleName",(function(){return ge})),n.d(t,"controllerName",(function(){return ve})),n.d(t,"template",(function(){return be}));var ge="ultra.course.contents",ve=$.b;o.module(ge,[i.a,v,C.a,w.b,S.a,k.a,D.a,x.a,E.a,T.moduleName,I.a,O.a,M.a,A.a,P.R,L.a,B.a,"ultra.directives.notice",se.b,re.b,ae.a,ce.a,le.a,de.a,d.b,y.a,ue.a,pe.b,he.a,me.a]).controller($.b,$.a)},RPq7:function(e,t,n){"use strict";n.d(t,"b",(function(){return c})),n.d(t,"a",(function(){return l}));var o=n("D57K"),i=n("wHJ2"),s=n("nbDY"),r=n.n(s),a=n("lEL+"),c="ultra.directives.contentItemMouseover",l=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(o.__extends)(t,e),t.Top=new t("TOP"),t.Bottom=new t("BOTTOM"),t.Default=new t("DEFAULT"),t}(r.a),d=function(){function e(e,t,n){var o=this;this.scope=e,this.element=t,this.timeout=n,this.lastPosition=l.Default,this.lastTime=0,t.mouseover((function(){o.recalculatePosition()})),t.mousemove((function(e){Date.now()-o.lastTime>1e3?(o.timeout.cancel(o.lastMousemoveTimeout),o.handleMousemove(e)):(o.timeout.cancel(o.lastMousemoveTimeout),o.lastMousemoveTimeout=o.timeout((function(){o.handleMousemove(e)}),o.scope,100,!1))})),t.mouseleave((function(){o.timeout.cancel(o.lastMousemoveTimeout),o.lastPosition=l.Default})),e.$on("content-outline-hover-end",(function(){o.timeout.cancel(o.lastMousemoveTimeout),o.lastPosition=l.Default}))}return e.prototype.handleMousemove=function(e){null!=this.elementOffset&&null!=this.elementHeight||this.recalculatePosition(),this.lastTime=Date.now(),e.pageY-this.elementOffset>this.elementHeight/2?(this.lastPosition.isEqualTo(l.Bottom)||this.broadcastPosition(l.Bottom),this.lastPosition=l.Bottom):(this.lastPosition.isEqualTo(l.Top)||this.broadcastPosition(l.Top),this.lastPosition=l.Top)},e.prototype.broadcastPosition=function(e){this.scope.$emit("content-item-mouseover",{element:this.element,relativeMousePosition:e})},e.prototype.recalculatePosition=function(){this.elementHeight=this.element.outerHeight(),this.elementOffset=this.element.offset().top},e.$inject=["scope","element",a.b],e}(),u=function(){function e(e){var t=this;this.$injector=e,this.restrict="A",this.scope={canCreate:"&"},this.link=function(e,n){e.canCreate&&e.canCreate()&&(e.contentItemMouseover=t.$injector.instantiate(d,{scope:e,element:n}))}}return e.$inject=["$injector"],e}();i.module(c,[a.a]).directive("bbContentItemMouseover",["$injector",function(e){return e.instantiate(u)}])},S1rJ:function(e,t){e.exports='<bb-modal class="js-course-status-modal-{{currentCourseStatus.toString()}} notification" modal-title-key="{{currentCourseStatus.getModalTitle()}}"\n          modal-dismiss-key="{{currentCourseStatus.getModalDismissText()}}"\n          analytics-id-tag-prefix="{{currentAnalyticsId}}">\n  <div name="modal-contents">\n    <p bb-translate="{{currentCourseStatus.getModalText()}}"></p>\n  </div>\n  <span name="modal-footer-button-primary">\n    <button ng-if="currentCourseStatus.getPrimaryButtonText()" \n            ng-click="$parent.$close(currentCourseStatus.getPrimaryButtonStatus())" \n            class="button js-primary-button js-course-status-{{currentCourseStatus.getPrimaryButtonStatus()}}"\n            analytics-id="{{currentAnalyticsId}}.primaryButton.button">\n      <span bb-translate="{{currentCourseStatus.getPrimaryButtonText()}}"></span>\n    </button>\n  </span>\n  <span name="modal-footer-button-secondary">\n    <button ng-click="$parent.$close(currentCourseStatus.getSecondaryButtonStatus())" \n            class="button button--secondary js-secondary-button js-course-status-{{currentCourseStatus.getSecondaryButtonStatus()}}"\n            analytics-id="{{currentAnalyticsId}}.close.button">\n      <span bb-translate="{{currentCourseStatus.getSecondaryButtonText()}}"></span>\n    </button>\n  </span>\n</bb-modal>'},S6sW:function(e,t){e.exports='<ng-switch on="displayGrade.shouldShowPointsPossible()">\n  <span ng-switch-when="true" ng-bind-html="displayGrade.fullDisplayGrade"></span>\n  <span ng-switch-default><strong>{{displayGrade.fullDisplayGrade}}</strong></span>\n</ng-switch>'},SE1T:function(e,t){e.exports='<button class="button-add-content js-show-add-options"\n        data-show-add-options\n        ng-click="addContentButton.addGroup()"\n        ng-class="{hide: !(addContentButton.isButtonVisible || addContentButton.alwaysShow || addContentButton.isMenuVisible)}"\n        aria-label="{{addContentButton.addButtonAriaLabel}}"\n        ng-focus="addContentButton.showButton()"\n        ng-blur="addContentButton.hideButton()"\n        analytics-id="components.directives.add-content-button.course-group.button">\n</button>\n'},SHbF:function(e,t,n){var o=n("ziER"),i=n("5JeM"),s=new o({id:"icon-medium-attention",use:"icon-medium-attention-usage",viewBox:"0 0 24 24",content:'<symbol fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" id="icon-medium-attention"><circle cx="12" cy="12" r="11" stroke-width="2" /><path d="M12.75 18.5a.75.75 0 1 1-1.5 0 .75.75 0 0 1 1.5 0z" stroke-width="1.5" stroke-miterlimit="10" stroke-linecap="round" /><path d="M12 15l-.5-10h1L12 15z" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" /></symbol>'});i.add(s);e.exports=s},SY8P:function(e,t,n){var o=n("wHJ2");o.module("dibari.angular-ellipsis",[]).directive("ellipsis",["$timeout","$window","$sce",function(e,t,n){var i=function(t){var n=null,o=[];this.remove=function(t){-1!==o.indexOf(t)&&(o.splice(o.indexOf(t),1),0===o.length&&(e.cancel(n),n=null))},this.add=function(i){-1===o.indexOf(i)&&o.push(i),n||(n=e((function(){var e=o.slice();n=null,o.length=0,e.forEach((function(e){e()}))}),t))}},s=new i(0),r=new i(75);return{restrict:"A",scope:{ngShow:"=",ngBind:"=",ngBindHtml:"=",ellipsisAppend:"@",ellipsisAppendClick:"&",ellipsisSymbol:"@",ellipsisSeparator:"@",useParent:"@",ellipsisSeparatorReg:"=",ellipsisFallbackFontSize:"@"},compile:function(e,i,a){return function(e,i,a){function c(){var t=e.ngBind||e.ngBindHtml,s=!1;if(n.isEnabled()&&o.isObject(t)&&n.getTrustedHtml(t)&&(s=!0,t=n.getTrustedHtml(t)),t){var r=!e.ngBind&&!!e.ngBindHtml,c=0,d=void 0!==a.ellipsisSymbol?a.ellipsisSymbol:"&hellip;",u=void 0!==e.ellipsisSeparator?a.ellipsisSeparator:" ",p=void 0!==e.ellipsisSeparatorReg&&e.ellipsisSeparatorReg,h=void 0!==e.ellipsisAppend&&""!==e.ellipsisAppend?d+"<span class='angular-ellipsis-append'>"+e.ellipsisAppend+"</span>":d,m=p?t.match(p):t.split(u);if(a.isTruncated=!1,r?i.html(t):i.text(t),void 0!==a.ellipsisFallbackFontSize&&l(i)&&i.css("font-size",a.ellipsisFallbackFontSize),l(i,e.useParent)){var b=m.length,g=e.useParent?function(e){var t=0;return o.forEach(e.parent().children(),(function(n){n!=e[0]&&(t+=n.clientHeight)})),e.parent()[0].clientHeight-t}(i):i[0].clientHeight;for(r?i.html(t+h):i.text(t).html(i.html()+h),i.attr("data-overflowed","true");c<b;c++){var v=m.pop();if(0===m.length&&(m[0]=v.substring(0,Math.min(v.length,5))),r?i.html(m.join(u)+h):i.text(m.join(u)).html(i.html()+h),(e.useParent?i.parent()[0]:i[0]).scrollHeight<g||!1===l(i,e.useParent)){a.isTruncated=!0;break}}d!=h&&void 0!==e.ellipsisAppendClick&&""!==e.ellipsisAppendClick&&i.find("span.angular-ellipsis-append").bind("click",(function(t){e.$apply((function(){e.ellipsisAppendClick.call(e,{event:t})}))})),!s&&n.isEnabled()&&n.trustAsHtml(t)}else i.attr("data-overflowed","false")}}function l(e,t){return(e=t?e.parent():e)[0].scrollHeight>e[0].clientHeight}function d(){a.lastWindowResizeWidth==window.innerWidth&&a.lastWindowResizeHeight==window.innerHeight||c(),a.lastWindowResizeWidth=window.innerWidth,a.lastWindowResizeHeight=window.innerHeight}a.lastWindowResizeTime=0,a.lastWindowResizeWidth=0,a.lastWindowResizeHeight=0,a.lastWindowTimeoutEvent=null,a.isTruncated=!1,e.$watch("ngShow",(function(){s.add(c)})),e.$watch("ngBind",(function(){s.add(c)})),e.$watch("ngBindHtml",(function(){s.add(c)})),e.$watch("ellipsisAppend",(function(){c()})),e.$watch((function(){return 0!=i[0].offsetWidth&&0!=i[0].offsetHeight}),(function(){r.add(c)}));var u=e.$on("dibari:refresh-ellipsis",(function(){s.add(c)}));function p(){r.add(d)}var h=o.element(t);h.bind("resize",p),e.$on("$destroy",(function(){h.unbind("resize",p),s.remove(c),r.remove(d),u&&(u(),u=null)}))}}}}])},Sf7l:function(e,t){e.exports='<bb-modal class="notification"\n          role="alertdialog"\n          bb-translate-attrs="{\'aria-label\': \'course.outline.previewCourse.alert.modalTitle\'}"\n          modal-title-key="course.outline.previewCourse.alert.modalTitle"\n          analytics-id-tag-prefix="course.outline.previewCourse.alert">\n  <div name="modal-contents">\n    <p bb-translate="course.outline.previewCourse.alert.modalText"></p>\n  </div>\n  <button name="modal-footer-button-primary" \n          ng-click="$parent.$close()" \n          class="js-dismiss-modal button button--secondary js-secondary-button"\n          analytics-id="course.outline.previewCourse.alert.modalConfirm.button">\n    <span bb-translate="course.outline.previewCourse.alert.modalConfirm"></span>\n  </button>\n</bb-modal>'},Sgjf:function(e,t,n){"use strict";n.d(t,"a",(function(){return g}));var o=n("D57K"),i=(n("Zeij"),n("ptBS"),n("SSV0"),n("5iHu")),s=n("wHJ2"),r=n("jciN"),a=n("0JpG"),c=n("fYJU"),l=n("pjml"),d=n("+4Px"),u=n("OvxF"),p=n("lUN/"),h=n("TnpK"),m=n("qeC2"),b=n("aHpC"),g="ultra.components.directives.usercard",v=function(){function e(e,t,n,o,i,s,r,a,c,l){this.$modal=e,this.$q=t,this.scope=n,this.element=o,this.attrs=i,this.bbLocalize=s,this.CourseModel=r,this.contextUser=a,this.$userModelService=c,this.ultraState=l,this.current=this.contextUser.userModel,null==this.scope.autoUpdate&&(this.scope.autoUpdate=!0),this.scope.showcard=!1,p.a(),this.$userModelService.$mixHook("after-save",(function(){this.id===n.user.id&&(n.userNames={givenName:this.givenName,familyName:this.familyName})}),n)}return e.prototype.canSendMessage=function(){var e=this.scope.canSendMessage;return!e||e()},e.prototype.hasDueDateException=function(){var e=this.scope.hasDueDateException;return!!e&&e()},e.prototype.canEditDueDateException=function(){var e=this.scope.canEditDueDateException;return!!e&&e()},e.prototype.sendMessage=function(){this.ultraState.goPeekState(this.getMessagePeekState(),{courseId:this.scope.courseId,recipientIds:this.scope.user.id})},e.prototype.getMessagePeekState=function(){return this.scope.messagePeekState||"message"},e.prototype.getUserNameLabel=function(){return this.userName=this.scope.userNames,this.bbLocalize.translateSync({locale:this.bbLocalize.getLocale(this.scope),key:"components.directives.usercard.ariaButtonLabel",params:{user:this.userName},noWrap:!0,noEscape:!0})},e.prototype.keyDown=function(e){if(e.keyCode===d.t&&e.preventDefault(),this.scope.showcard){var t=!1;if(e.keyCode===d.g)t=!0;else if(e.keyCode===d.u){var n=i(".usercard").find(":tabbable");t=n.length<1||(!(!e.shiftKey||!i(".usercard-clickable").is(":focus"))||(e.shiftKey?document.activeElement===n[0]:document.activeElement===n[n.length-1]))}t&&(e.stopImmediatePropagation(),this.hide())}},e.prototype.hide=function(){this.scope.showcard=!1,this.toggleFloatingContainer(),this.element.find(".usercard-trigger").focus()},e.prototype.show=function(){this.scope.showcard=!!this.canShow(),this.toggleFloatingContainer()},e.prototype.toggleFloatingContainer=function(){i(".floating-column-container").css("overflow",this.scope.showcard?"visible":"hidden")},e.prototype.canShow=function(){return!!this.scope.user&&!!this.scope.user.id&&!this.isSameUser()},e.prototype.isSameUser=function(){return!(!this.current||!this.scope.user)&&this.scope.user.id===this.current.id},e.prototype.getCourseRoleLocalizeId=function(){return this.scope.inactive&&this.scope.inactive()?this.bbLocalize.translateSync({locale:this.bbLocalize.getLocale(this.scope),key:"components.directives.usercard.unavailable"}):this.scope.courseRole()},e.prototype.sendMessageViaSpaceBar=function(e){this.scope.showcard&&e.keyCode===d.t&&(e.stopPropagation(),this.sendMessage())},e.$inject=["$modal","$q","scope","element","attrs",a.serviceName,l.o.serviceName,c.b,l.Qb.serviceName,h.d],Object(o.__decorate)([Object(b.d)("locale","userNames")],e.prototype,"getUserNameLabel",null),e}(),f=function(){function e(e,t,n){var o=this;this.$injector=e,this.bbLocalize=t,this.ultraState=n,this.restrict="E",this.template=m,this.scope={user:"=",panel:"@?",courseId:"@",messagePeekState:"@?",courseRole:"&",usercardShow:"@",recipientIds:"=",canSendMessage:"&?",hasDueDateException:"&?",canEditDueDateException:"&?",membershipId:"=?",inactive:"&?",autoUpdate:"=?"},this.link=function(e,t,n){e.attr=n,e.bbUsercard=o.$injector.instantiate(v,{scope:e,element:t,attrs:n}),e.user&&(e.userName=o.bbLocalize.formatUsernameSync(e.user,a.ILocaleUsernameFormat.Short,e,{noWrap:!0}),e.userNames=e.user)}}return e.$inject=["$injector",a.serviceName],e}();s.module(g,[r.a,a.moduleName,l.R,c.a,u.a,h.b]).directive("bbUsercard",["$injector",function(e){return e.instantiate(f)}])},Siqh:function(e,t,n){},Sq3Z:function(e,t,n){var o=n("ziER"),i=n("5JeM"),s=new o({id:"icon-small-activity-indicator",use:"icon-small-activity-indicator-usage",viewBox:"0 0 16 16",content:'<symbol fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" id="icon-small-activity-indicator"><path d="M15 8c0 3.866-3.134 7-7 7a6.983 6.983 0 0 1-2.528-.4704L1 15l.5-4.3969C1.1775 9.7984 1 8.9199 1 8c0-3.866 3.134-7 7-7s7 3.134 7 7z" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" /><circle cx="8" cy="8" r="2" stroke-width="4" /></symbol>'});i.add(s);e.exports=s},T0fj:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));n("uDsz"),n("7BzJ"),n("Vrsv");var o=n("5iHu"),i=n("wHJ2"),s=n("0JpG"),r=n("xqn/"),a=n("lEL+"),c=n("e6jQ"),l=n("yC9S"),d=n("oQrK"),u="ultra.components.directives.timepicker";o.fn.timepicker.Constructor.prototype.elementKeydown=o.fn.timepicker.Constructor.prototype.blurElement=o.fn.timepicker.Constructor.prototype.highlightUnit=function(){return!0};var p=function(){function e(e,t,n,i,r,a,u,p){var h=this;(this.scope=e,this.$element=t,this.attrs=n,this.model=i,this.bbLocalize=r,this.bbValidateTime=a,this.timeout=u,this.$compile=p,null==n.bbValidateTime)&&(n.bbValidateTime="short",this.bbValidateTime[0].compile(t,n,void 0)(e,t,n,i));if(!d.a.detect().desktop()&&window.Modernizr.inputtypes.time){if(n.$set("type","time"),t.removeAttr("placeholder"),n.bbTranslateAttrs){var m=e.$eval(n.bbTranslateAttrs);m.placeholder&&(delete m.placeholder,n.bbTranslateAttrs=JSON.stringify(m))}}else{var b;this.bbLocalize.loadBundle("components/directives/timepicker").then((function(){null==n.placeholder&&(null==n.placeholderDate?n.$set("placeholder",h.bbLocalize.translateSync({locale:h.bbLocalize.getLocale(h.scope),key:"components.directives.timepicker.timeFormatPlaceholder"})):(n.placeholderDate&&h.formatAndSetPlaceholder(new Date(n.placeholderDate.replace(/("|\')/g,""))),n.$observe("placeholderDate",(function(e){e&&(h.placeholderDate=new Date(e.replace(/("|\')/g,"")),h.formatAndSetPlaceholder(h.placeholderDate))}))));var e=h.bbLocalize.translateSync({locale:h.bbLocalize.getLocale(h.scope),key:"components.directives.timepicker.timeFormatHint"}),i="timepicker_"+c.a();b=o('<div class="hide" id="'+i+'">'+e+"</div>"),t.parent().append(b),t.attr("aria-labelledby",i)}));var g=this.$compile('<i aria-hidden="true"><bb-svg-icon size="small" icon="away"></bb-svg-icon></i>')(this.scope);t.before(g),t.keypress((function(e){13===e.which&&(e.preventDefault(),g.click())})),t.parent().addClass("input-group").find("i").addClass("input-group-addon");var v=r.getTimePatternSync(s.ILocaleTimeFormat.Short,e),f=t.timepicker({defaultTime:!1,disableMousewheel:!0,lockTabs:!0,minuteStep:1,showMeridian:v.indexOf("a")>-1,showWidgetOnAddonClick:!0}).data("timepicker"),y=this.bbLocalize.getLocale(this.scope),C=this.bbLocalize.getDayPeriodsFormatSync(y);f.meridianAm=C.am,f.meridianPm=C.pm;var w=function(){t.prop("disabled")||t.prop("readonly")?g.remove():t.prev()!==g&&(t.before(g),g.click((function(){f.showWidget()})))};n.$observe("disabled",(function(e){w()})),n.$observe("readonly",(function(e){w()})),f.$widget.attr("aria-hidden","true"),e.$watch((function(){return i.$modelValue}),(function(e,t){!e&&t?f.$element.val(""):!t&&e&&f.setDefaultTime(f.defaultTime)})),e.$watch((function(){return i.$viewValue}),(function(t){e.$emit("time-view-value-is-empty",i.$name,i.$dirty&&i.$isEmpty(t))})),f.defaultTime="current",f.$element.on("show.timepicker",(function(){f.$widget.find("a").attr("tabindex","-1"),f.$element.val()?f.setTime(f.$element.val()):f.setDefaultTime(h.placeholderDate||f.defaultTime),0===f.$widget.find(".timepicker-timezone").length&&f.$widget.append(h.$compile('<div class="divider"></div>\n                           <div class="timepicker-timezone" bb-translate translate-values="{datetime: timepicker.model.$modelValue}">global.timezone.short</div>')(h.scope))})),f.$element.on("focusin",(function(e){f.$element.prop("readonly")||f.$element.prop("disabled")||f.showWidget()})),f.$element.on("focusout",(function(t){h.timeout((function(){0===f.$widget.find(":focus").length&&!f.$element.is(":focus")&&o(":focus").length>0&&f.hideWidget()}),e,0,!1)})),f.$widget.on("focusin",(function(e){e.stopImmediatePropagation()})),f.$widget.on("focusout",(function(t){h.timeout((function(){0===f.$widget.find(":focus").length&&!f.$element.is(":focus")&&o(":focus").length>0&&f.hideWidget()}),e,0,!1)})),f.$element.on("hide.timepicker",(function(){f.$widget.find(":focus").length>0&&t.focus()}));var S=function(){f.place()};e.$on("$destroy",(function(){f.remove(),t.parents(".panel-wrap").eq(0).unbind("scroll",S),b&&b.remove()})),l.b.OnWindow("scroll",S,e),t.parents(".panel-wrap").eq(0).bind("scroll",S)}}return e.prototype.formatAndSetPlaceholder=function(e){var t=this.bbLocalize.formatTimeSync(e,s.ILocaleTimeFormat.Short,this.scope);this.attrs.$set("placeholder",t)},e.$inject=["scope","element","attrs","model",s.serviceName,r.a+"Directive",a.b,"$compile"],e}(),h=function(){function e(e){var t=this;this.$injector=e,this.priority=1,this.restrict="A",this.require="ngModel",this.scope={},this.link=function(e,n,o,i){e.timepicker=t.$injector.instantiate(p,{scope:e,element:n,attrs:o,model:i})}}return e.$inject=["$injector"],e}();i.module(u,[s.moduleName,r.b,a.a]).directive("bbTimePicker",["$injector",function(e){return e.instantiate(h)}])},TOu5:function(e,t,n){var o=n("ziER"),i=n("5JeM"),s=new o({id:"icon-small-question-analysis",use:"icon-small-question-analysis-usage",viewBox:"0 0 16 16",content:'<symbol fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" id="icon-small-question-analysis"><path d="M11 1H5l1 2v4l-5 8h14l-5-8V3l1-2zM4.125 10h7.75" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" /></symbol>'});i.add(s);e.exports=s},Tn43:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return C}));n("367g"),n("Aw+3"),n("8+lX"),n("aAQ7"),n("UyCM"),n("1fiZ");var o=n("wHJ2"),i=n("nsO7"),s=n("en1n"),r=n("0JpG"),a=n("suMx"),c=n("jciN"),l=n("JNtI"),d=n("+e2k"),u=n("+g6d"),p=n("TnpK"),h=n("g7Mf"),m=n("r6lH"),b=n("ELoy"),g=n("pjml"),v=n("f4B+"),f=n("yC9S"),y=n("Wqh6"),C="ultra.components.directives.discussion",w=function(){function t(e,t,n,o,s,r,a,c,l,d){var u=this;this.$window=e,this.$sce=t,this.scope=n,this.element=o,this.$stateParams=s,this.bbLocalize=r,this.telemetry=a,this.discussion=c,this.ultraState=l,this.courseModel=d,n.isLoaded=!1,n.courseId=n.content().courseId,n.contentId=n.content().id,n.isGroupDiscussion=n.content().isGroupContent,this.createDfiReport(n.courseId,n.contentId),f.b.OnWindow("resize",i.debounce((function(){(u.scope.displayNonParticipants||u.scope.displayNonParticipantGroup)&&(u.updateNonParticipantView(),u.scope.$apply())}),150),n)}return t.prototype.createDfiReport=function(e,t,n){var o=this;(n?this.telemetry.loadDiscussionActivityData(e,t,n):this.telemetry.loadDiscussionActivityData(e,t)).then((function(e){o.scope.discussionData=e,o.scope.header=o.bbLocalize.translateSync({locale:o.bbLocalize.getLocale(o.scope),key:"components.directives.discussion.insights.header",params:{title:o.scope.content().title},noEscape:!0,noWrap:!0}),o.scope.course=o.courseModel.$find(o.scope.courseId),o.scope.isSingleGroup=!!n,o.scope.groups=o.scope.discussionData.groups,o.scope.isGradable=!!o.scope.discussionData.gradeColumnId,o.scope.gradingColumn=o.scope.discussionData.gradeColumnId,o.scope.viewedOnlyCount=o.scope.discussionData.viewedOnlyCount,o.scope.avgCommentsPerStudent=o.scope.discussionData.avgCommentsPerStudent?o.scope.discussionData.avgCommentsPerStudent:0,o.scope.avgWordCountPerComment=o.scope.discussionData.avgWordCountPerComment?o.scope.discussionData.avgWordCountPerComment:0,o.scope.avgGradeOfDiscussion=o.scope.discussionData.avgGrade?o.scope.discussionData.avgGrade/100:0,o.scope.numberOfCommentsToDisplay=1,o.scope.topComments=[],o.scope.displayTopComments=!1,o.scope.topParticipants=[],o.scope.displayTopParticipants=!1,o.scope.nonParticipants=[],o.scope.showNonparticipant=[],o.scope.showLargeNonparticipantPanel=!0,o.scope.minHeightForTopBoxes="auto",o.scope.nonParticipants=o.getNonParticipants(),o.scope.displayNonParticipants=!!o.scope.nonParticipants.length&&!o.scope.isGroupDiscussion,o.scope.displayNonParticipantGroups=!!o.scope.nonParticipants.length&&o.scope.isGroupDiscussion&&!o.scope.isSingleGroup,o.scope.displayNonParticipantGroup=!!o.scope.nonParticipants.length&&o.scope.isGroupDiscussion&&o.scope.isSingleGroup,o.scope.nonParticipantGroups=o.scope.displayNonParticipantGroups?o.getNonParticipantGroups():[],o.scope.totalNonParticipants=o.scope.nonParticipants.length,o.scope.totalParticipants=o.scope.discussionData.totalParticipants+o.scope.totalNonParticipants,o.scope.displayedNonParticipants=24,o.scope.additionalNonParticipants=o.scope.totalNonParticipants,o.scope.currentPanelWidth=0,o.scope.lastPanelWidth=-1,o.scope.isLoaded=!0;for(var t=0;t<o.scope.displayedNonParticipants;t++)o.scope.showNonparticipant[t]=!0;o.getTopComments(),o.getTopParticipants(),o.getParticipantBarChart(),o.updateNonParticipantView(),o.scope.overflowItems=o.getOverflowMenu(),o.scope.statisticsConfig=o.getSummaryInsightNumbers(),o.scope.topCommentsColumns=o.scope.displayTopComments&&o.scope.displayTopParticipants?"small-12 medium-8 large-9":"small-12",o.scope.topParticipantColumns=o.scope.displayTopComments&&o.scope.displayTopParticipants?"small-12 medium-4 large-3":"small-12"}))},t.prototype.getSummaryInsightNumbers=function(){var e=this.bbLocalize.getLocale(this.scope),t=this.bbLocalize.translateSync({locale:e,key:"components.directives.discussion.insights.numParticipants"}),n=this.bbLocalize.translateSync({locale:this.bbLocalize.getLocale(this.scope),key:"components.directives.discussion.insights.formattedParticipation",params:{count:this.scope.totalParticipants-this.scope.totalNonParticipants,total:this.scope.totalParticipants},noWrap:!0}),o=this.bbLocalize.translateSync({locale:e,key:"components.directives.discussion.insights.avgComments"}),i=this.bbLocalize.translateSync({locale:e,key:"components.directives.discussion.insights.avgCount"}),s=this.bbLocalize.translateSync({locale:e,key:"components.directives.discussion.insights.avgGrade"}),r=this.scope.isGradable&&this.scope.avgGradeOfDiscussion>0?this.bbLocalize.formatPercentageSync(this.scope.avgGradeOfDiscussion,this.scope):this.bbLocalize.translateSync({locale:e,key:"components.directives.discussion.insights.na"}),a=[];return a.push({title:t,data:n}),a.push({title:o,data:this.bbLocalize.formatNumberSync(this.scope.avgCommentsPerStudent,this.scope).toString()}),this.scope.avgWordCountPerComment&&this.scope.avgWordCountPerComment>0&&a.push({title:i,data:this.bbLocalize.formatNumberSync(this.scope.avgWordCountPerComment,this.scope).toString()}),this.scope.isGradable&&a.push({title:s,data:r}),a},t.prototype.getParticipantBarChart=function(){var t=0,n=0,o=100,i=this.scope.totalParticipants-this.scope.totalNonParticipants;this.scope.totalParticipants>0?o=100-((t=Math.floor((this.scope.totalParticipants-this.scope.totalNonParticipants)/this.scope.totalParticipants*100))+(n=Math.floor(this.scope.viewedOnlyCount/this.scope.totalParticipants*100))):(t=0,n=0,o=100),e(".bar-chart .participated").attr("style","width: "+t+"%"),e(".bar-chart .opened").attr("style","width: "+n+"%"),e(".bar-chart .unopened").attr("style","width: "+o+"%");var s=this.scope.totalNonParticipants-this.scope.viewedOnlyCount;this.scope.barchartNonParticipants=this.bbLocalize.translateSync({locale:this.bbLocalize.getLocale(this.scope),key:"components.directives.discussion.insights.barchartNonParticipants",params:{count:s},noWrap:!0}),this.scope.barchartOpenedNonParticipants=this.bbLocalize.translateSync({locale:this.bbLocalize.getLocale(this.scope),key:"components.directives.discussion.insights.barchartOpenedNonParticipants",params:{count:this.scope.viewedOnlyCount},noWrap:!0}),this.scope.barchartParticipants=this.bbLocalize.translateSync({locale:this.bbLocalize.getLocale(this.scope),key:"components.directives.discussion.insights.barchartParticipants",params:{count:i},noWrap:!0}),this.scope.percentParticipatedCaption=this.bbLocalize.translateSync({locale:this.bbLocalize.getLocale(this.scope),key:"components.directives.discussion.insights.percentParticipated",params:{percent:this.bbLocalize.formatPercentageSync(t/100,this.scope)},noWrap:!0}),this.scope.percentOpenedCaption=this.bbLocalize.translateSync({locale:this.bbLocalize.getLocale(this.scope),key:"components.directives.discussion.insights.percentOpened",params:{percent:this.bbLocalize.formatPercentageSync((n+t)/100,this.scope)},noWrap:!0})},t.prototype.getNonParticipantGroups=function(){var e=this,t=[];return this.scope.nonParticipants.length>0&&o.forEach(this.scope.groups,(function(n){var i={id:n.id,name:n.name,nonParticipants:[],total:0,hidden:0};o.forEach(e.scope.nonParticipants,(function(t){t.group.id===n.id&&(t.localizedName=e.bbLocalize.formatUsernameSync(t,r.ILocaleUsernameFormat.Short,null,{noWrap:!0,noEscape:!0}),i.nonParticipants.push(t),i.total++)})),i.hidden=i.total>4?i.total-4:0,i.total>0&&t.push(i)})),t},t.prototype.getTopComments=function(){var e=this;this.scope.numberOfCommentsToDisplay=s.h()?3:5,this.scope.discussionData.topComments.forEach((function(t){var n={user:t.user,message:v.a.text(t.message),messageId:t.messageId,numReplies:t.numReplies};n.user.localizedName=e.bbLocalize.formatUsernameSync(t.user,r.ILocaleUsernameFormat.Short,null,{noWrap:!0,noEscape:!0}),n.user.avatarData=t.user,e.scope.topComments.push(n),e.scope.displayTopComments=!0}))},t.prototype.getTopParticipants=function(){var e=this;this.scope.discussionData.topParticipants.forEach((function(t){var n={user:t.user,numComments:t.numComments,numReplies:t.numReplies};n.user.localizedName=e.bbLocalize.formatUsernameSync(t.user,r.ILocaleUsernameFormat.Short,null,{noWrap:!0,noEscape:!0}),n.user.avatarData=t.user,e.scope.topParticipants.push(n),e.scope.displayTopParticipants=!0}))},t.prototype.getNonParticipants=function(){var e=this,t=[];return this.scope.discussionData.nonParticipants.forEach((function(n){n.avatarData=n,n.localizedName=e.bbLocalize.formatUsernameSync(n,r.ILocaleUsernameFormat.Short,null,{noWrap:!1,noEscape:!0}),t.push(n)})),t},t.prototype.toggleIndividualNonParticipantDisplay=function(){var e=this;i.defer((function(){var t=o.element("#discussion-insights").find(".non-participant-box").innerWidth()-30;t=t<1118?t:1118;var n=2*Math.ceil((t+20)/126);e.scope.displayedNonParticipants=0;for(var i=0;i<18;i++)i<n&&i<e.scope.totalNonParticipants?(e.scope.showNonparticipant[i]=!0,e.scope.displayedNonParticipants++):e.scope.showNonparticipant[i]=!1;e.scope.additionalNonParticipants=e.scope.totalNonParticipants>e.scope.displayedNonParticipants?e.scope.totalNonParticipants-e.scope.displayedNonParticipants:0,e.scope.nonParticipationSummary=e.bbLocalize.translateSync({locale:e.bbLocalize.getLocale(e.scope),key:"components.directives.discussion.insights.nonParticipationSummary",params:{count:e.scope.displayedNonParticipants,total:e.scope.totalNonParticipants},noWrap:!0}),e.setNonParticipantMargin(t)}))},t.prototype.setNonParticipantMargin=function(t){var n=e("li.non-participant"),o=Math.floor(t/126),i=126*o+106,s=o-1>0?20+(t-i-2)/o:20+t-i;e(n).css("margin-right",s),e(n[o]).css("margin-right","2px"),2*o+1<=n.length&&e(n[2*o+1]).css("margin-right","2px")},t.prototype.updateNonParticipantView=function(){var e=this.bbLocalize.getLocale(this.scope);this.scope.nonParticipantsOptions=this.bbLocalize.translateSync({locale:e,key:"components.directives.discussion.insights.nonparticipantsOptions"}),this.scope.numberOfCommentsToDisplay=s.h()?3:5,this.scope.currentPanelWidth=o.element("#discussion-insights").find(".non-participant-box").innerWidth(),this.scope.currentPanelWidth!==this.scope.lastPanelWidth&&(s.h()?this.scope.showLargeNonparticipantPanel=!1:(this.scope.showLargeNonparticipantPanel=!0,this.toggleIndividualNonParticipantDisplay())),this.scope.lastPanelWidth=this.scope.currentPanelWidth},t.prototype.getSafeHtml=function(e){return this.$sce.trustAsHtml(e)},t.prototype.hasNavScrollbar=function(){var e=o.element(".group-selector")[0];return!!(e&&e.scrollWidth>e.clientWidth)},t.prototype.goToDiscussion=function(e){e?(this.discussion.groupId=e,this.ultraState.goPeekState("discussion.view.with-grading",{contentId:this.scope.contentId,disGroupId:e,courseId:this.scope.courseId})):this.ultraState.goPeekState("discussion.view.with-grading",{contentId:this.scope.contentId,courseId:this.scope.courseId})},t.prototype.goToGrade=function(e){this.scope.isGradable&&!this.scope.isGroupDiscussion&&this.ultraState.goPeekState("submission-list",{columnId:this.scope.gradingColumn,participantId:e,contentId:this.scope.contentId})},t.prototype.goToMessage=function(e){this.ultraState.goPeekState("message",{courseId:this.scope.courseId,recipientIds:e})},t.prototype.isFocusedNonparticipant=function(t){return e(document.activeElement).is(o.element(e("a#non-participant-link-"+t)))},t.prototype.sortNamesAlphabetically=function(e){var t="";return e.sort((function(e,t){return e.givenName+e.familyName<t.givenName+t.familyName?-1:1})).forEach((function(e){t+=e.id+","})),t.slice(0,-1)},t.prototype.goToMessageAll=function(){var e=this.sortNamesAlphabetically(this.scope.nonParticipants);this.ultraState.goPeekState("message",{courseId:this.scope.courseId,recipientIds:e,conversationPerRecipient:!0})},t.prototype.updateDfiPanel=function(t,n,o){e(".group-selector .selected").removeClass("selected"),e(t.target).addClass("selected"),n?(this.discussion.groupId=n,this.scope.currentGroupId=n,this.scope.currentGroupName=o,this.createDfiReport(this.scope.courseId,this.scope.contentId,n),this.updateNonParticipantView()):(this.discussion.groupId=void 0,this.scope.currentGroupId=void 0,this.scope.currentGroupName=void 0,this.createDfiReport(this.scope.courseId,this.scope.contentId))},t.prototype.updateMessagesCount=function(){o.element("bb-overflow-menu.ddm-nonparticipant-options:visible").find("#ddm-nonparticipant-options_messages span").text(this.scope.overflowItems[0].labelKey).attr("analytics-id",this.scope.overflowItems[0].labelKey)},t.prototype.getOverflowMenu=function(){var e=this;return[{icon:"messages",labelKey:this.bbLocalize.translateSync({locale:this.bbLocalize.getLocale(this.scope),key:"components.directives.discussion.insights.messageNonParticipants",params:{count:this.scope.totalNonParticipants},noWrap:!0}),onClick:function(){e.goToMessageAll()}}]},t.$inject=["$window","$sce","scope","element","$stateParams",r.serviceName,m.b,h.c,p.d,g.o.serviceName],t}(),S=function(){function e(e){var t=this;this.$injector=e,this.restrict="EA",this.template=y,this.scope={content:"&"},this.link=function(e,n,o){e.discussionInsights=t.$injector.instantiate(w,{scope:e,element:n,attrs:o})}}return e.$inject=["$injector"],e}();o.module(C,[a.a,c.a,l.b,d.a,u.a,m.a,b.a,p.b]).directive("bbDiscussionInsights",["$injector",function(e){return e.instantiate(S)}])}).call(this,n("5iHu"))},TuNX:function(e,t){e.exports='<bb-modal class="notification proctoring-modal" analytics-id-tag-prefix="components.services.proctoring">\n  <div name="modal-contents">\n    <p bb-translate>{{::requirementsText}}</p>\n    <p ng-bind-html="::downloadText"></p>\n    <p bb-translate>{{::browserText}}</p>\n  </div>\n  \x3c!-- htmlhint:analytics-id:disable --\x3e\n  <button name="modal-footer-button-primary"\n          role="button"\n          class="button js-primary-button proctoring-modal-button"\n          ng-click="$parent.$dismiss()"\n          bb-translate-attrs="{\'aria-label\':\'components.services.proctoring.modal.continue\'}"\n          analytics-id="components.services.proctoring.modal.continue.button"\n  >\n  \x3c!-- htmlhint:analytics-id:enable --\x3e\n    <bb-translate>components.services.proctoring.modal.continue</bb-translate>\n  </button>\n</bb-modal>\n'},Tyga:function(e,t){e.exports='<bb-modal class="notification"\n          modal-title-key="components.directives.oneDrive.modal.errorTitle"\n          analytics-id-tag-prefix="components.directives.oneDrive">\n  <div name="modal-contents">\n    <p>\n      <bb-translate>components.directives.oneDrive.modal.errorFull</bb-translate>\n    </p>\n  </div>\n  <button name="modal-footer-button-primary" role="button" class="button js-primary-button" ng-click="$parent.$dismiss()" analytics-id="components.directives.oneDrive.modal.cancelUploadText">\n    <bb-translate>components.directives.oneDrive.modal.cancelUploadText</bb-translate>\n  </button>\n</bb-modal>\n'},U2yl:function(e,t){e.exports='<bb-modal class="notification"\n          modal-title-key="components.directives.kloudless.modal.errorTitle"\n          analytics-id-tag-prefix="components.directives.kloudless">\n  <div name="modal-contents">\n    <p>\n      <bb-translate>components.directives.kloudless.modal.errorFull</bb-translate>\n    </p>\n  </div>\n  <button name="modal-footer-button-primary" class="button dismiss-button js-primary-button" ng-click="$parent.$dismiss()" analytics-id="components.directives.kloudless.modal.cancelUploadText">\n    <bb-translate>components.directives.kloudless.modal.cancelUploadText</bb-translate>\n  </button>\n</bb-modal>\n'},UGfE:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var o=n("wHJ2"),i=n("pjml"),s=n("/BCe"),r="ultra.directives.courseLinkItem",a=function(){function e(e){this.CourseModel=e,this.replace=!0,this.restrict="E",this.scope={content:"=",targetContent:"=?",prefix:"="},this.template=s,this.link=function(e,t){var n=e.$watch("targetContent.contentHandler",(function(t){null!=t&&(e.$emit("click-to-invoke-child-directive-init"),n())}));!e.targetContent&&e.content&&e.content.contentDetail&&(e.targetContent=e.content.getLinkContentSource(),e.targetContent.$then((function(){e.content.description=e.targetContent.description}))),e.ariaDescribedBy="content-item-icon-"+e.content.id,e.content.ui.hasIndicator&&(e.ariaDescribedBy+=" activity-indicator-"+e.content.id)}}return e.$inject=[i.o.serviceName],e}();o.module(r,[]).directive("bbCourseLinkItem",["$injector",function(e){return e.instantiate(a)}])},UODz:function(e,t){e.exports='<div class="submission-card" ng-class="{\'is-late\': isLate, \'inline\': inline}" bb-load-bundle="components/directives/submission-card">\n  <div class="panel" ng-class="{\'clickable-panel\': clickable}">\n    <i ng-if="!inline" class="{{iconClass}}"></i>\n    <div class="info" ng-class="{\'completed\': submissionCard.attempt.isCompleted(), \'rubric-icon-spacing\': submissionCard.shouldExpandForRubricIcon()}">\n      <span class="name ellipsis" bb-translate ng-if="!inline">{{title}}</span>\n      <span class="detail">\n        <span class="test-status ellipsis" ng-show="!!status">\n          <span class="inline-status" ng-if="inline && !hasAttempt && isLate" bb-translate>\n            components.directives.submission-card.outlineStatus.late\n          </span>\n          <span class="inline-status" ng-if="inline && !hasAttempt && !isLate" bb-translate>\n            components.directives.submission-card.outlineStatus.new\n          </span>\n          <span ng-if="inline && !hasAttempt"> - </span>\n          <span bb-translate class="status">{{status}}</span>\n          <ng-switch on="submissionCard.attempt.status" ng-if="submissionCard.attempt">\n            <bb-datetime class="date" format="Short" ng-switch-when="COMPLETED" value="::submissionCard.attempt.attemptLastGradedDate"></bb-datetime>\n            <bb-datetime class="date" format="Short" ng-switch-default value="::submissionCard.attempt.modifiedDate"></bb-datetime>\n          </ng-switch>\n          <bb-datetime class="date" format="Short" ng-if="!submissionCard.attempt && gradingColumn.dueDate" value="::gradingColumn.dueDate"></bb-datetime>\n        </span>\n      </span>\n    </div>\n    <div class="grade-container">\n      <ng-switch on="gradeDetail.isPosted()">\n        <bb-display-grade ng-switch-when="true"\n                          grade-detail="gradeDetail"\n                          column="gradingColumn"\n                          display-type="GradeColor"\n                          show-rubric-button="showRubricButton()"\n                          show-rubric-div="showRubricDiv()"></bb-display-grade>\n        <bb-display-grade ng-switch-default\n                          attempt="submissionCard.attempt"\n                          display-type="AttemptStatus"></bb-display-grade>\n      </ng-switch>\n    </div>\n  </div>\n</div>'},UeHE:function(e,t){e.exports='<div ng-if="::addContentButton.isCloudServiceAvailable">\n  <bb-file-upload\n    allow-multiple="true"\n    monitor-leave="true"\n    target-div="{{\'#\' + fileListViewId}}"\n    hide-transclude-during-upload="false"\n    click-enabled="false"\n    primary-key="primaryKey && primaryKey() ? primaryKey() : fileListViewLocalId"\n    skip-zip-file-check="true"\n    disable-drag="true"\n    is-third-party-upload="true"\n    third-party-download-handler="addContentButton.downloadFile"\n    ignored-states="::ignoredStates()">\n    <button ng-click="addContentButton.assignPosition()"\n            class="doc-add-media clear ng-scope"\n            bb-kloudless\n            primary-key="primaryKey && primaryKey() ? primaryKey() : fileListViewLocalId"\n            attach-handler="addContentButton.cloudUploadAttachHandler"\n            web-location="{{webLocation}}"\n            file-location="{{fileLocation}}"\n            allow-multiple="true"\n            on-files-selected="addContentButton.onFilesSelectedHandler"\n            analytics-id="components.directives.add-content-button.cloud-upload.button">\n      <div class="import-action-header">\n        <i class="icon-cloud add-content-cloud-upload-icon"></i>\n        <span bb-translate>components.directives.add-content-button.importContentFromCloudStorage.title</span>\n        <div class="action-details" bb-translate="components.directives.add-content-button.importContentFromCloudStorage.description"></div>\n      </div>\n    </button>\n  </bb-file-upload>\n</div>'},UyCM:function(e,t,n){var o=n("ziER"),i=n("5JeM"),s=new o({id:"icon-small-messages",use:"icon-small-messages-usage",viewBox:"0 0 16 16",content:'<symbol fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" id="icon-small-messages"><path d="M1 3h14v10H1V3z" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" /><path d="M1 3l7 7 7-7M1 13l5-5M15 13l-5-5" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" /></symbol>'});i.add(s);e.exports=s},VCKY:function(e,t,n){var o=n("ziER"),i=n("5JeM"),s=new o({id:"icon-small-add",use:"icon-small-add-usage",viewBox:"0 0 16 16",content:'<symbol fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" id="icon-small-add"><path d="M1 8c0-3.866 3.134-7 7-7v0c3.866 0 7 3.134 7 7v0c0 3.866-3.134 7-7 7v0c-3.866 0-7-3.134-7-7v0zM11 8H5M8 5v6" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" /></symbol>'});i.add(s);e.exports=s},"VSO+":function(e,t){e.exports='<bb-modal class="notification"\n          modal-title-key="components.directives.oneDrive.modal.singleFile.title"\n          analytics-id-tag-prefix="components.directives.oneDrive">\n  <div name="modal-contents">\n    <p>\n      <bb-translate>components.directives.oneDrive.modal.singleFile.body</bb-translate>\n    </p>\n  </div>\n  <button name="modal-footer-button-primary" class="button js-primary-button" ng-click="$parent.$close()" analytics-id="components.directives.oneDrive.modal.singleFile.ok">\n    <bb-translate>components.directives.oneDrive.modal.singleFile.ok</bb-translate>\n  </button>\n</bb-modal>\n'},Vrhx:function(e,t,n){var o=n("ziER"),i=n("5JeM"),s=new o({id:"icon-large-lock",use:"icon-large-lock-usage",viewBox:"0 0 24 24",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" id="icon-large-lock"><path fill="none" stroke-miterlimit="10" d="M12 20.5h0c-.831 0-1.511-.68-1.511-1.511V15.01c0-.831.68-1.511 1.511-1.511h0c.831 0 1.511.68 1.511 1.511v3.979c0 .831-.68 1.511-1.511 1.511z" /><path fill="none" stroke-width=".919" stroke-miterlimit="10" d="M19.387 23.5H4.613c-1.167 0-2.113-.946-2.113-2.113v-8.775c0-1.167.946-2.113 2.113-2.113h14.775c1.167 0 2.113.946 2.113 2.113v8.775c-.001 1.167-.947 2.113-2.114 2.113z" /><path fill="none" stroke-miterlimit="10" d="M17.5 10.5V5.945C17.5 2.938 15.062.5 12.055.5h-.11C8.938.5 6.5 2.938 6.5 5.945V10.5" /></symbol>'});i.add(s);e.exports=s},Vrsv:function(e,t,n){var o=n("ziER"),i=n("5JeM"),s=new o({id:"icon-small-away",use:"icon-small-away-usage",viewBox:"0 0 16 16",content:'<symbol fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" id="icon-small-away"><rect x="1" y="1" width="14" height="14" rx="7" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" /><path d="M10 10L8 8V4" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" /></symbol>'});i.add(s);e.exports=s},WSu0:function(e,t,n){"use strict";var o=n("aY38");function i(e){this.message=e}i.prototype=new Error,i.prototype.name="InvalidTokenError",e.exports=function(e,t){if("string"!=typeof e)throw new i("Invalid token specified");var n=!0===(t=t||{}).header?0:1;try{return JSON.parse(o(e.split(".")[n]))}catch(e){throw new i("Invalid token specified: "+e.message)}},e.exports.InvalidTokenError=i},WXD6:function(e,t,n){},Wqh6:function(e,t){e.exports='<div class="panel-wrap telemetry-panel">\n  <bb-telemetry-panel-header title="{{header}}"\n                           course="course"\n                           panel-data-loaded="true">\n  </bb-telemetry-panel-header>\n\n  <nav class="group-selector" ng-class="{\'horizontal-scroll\': discussionInsights.hasNavScrollbar()}" ng-if="isGroupDiscussion">\n    <ul class="group-list">\n      <li class="group-item child-is-invokable"\n          bb-click-to-invoke-child="a.overall-link"\n          tabindex="0">\n        <a href="javascript:void(0);"\n           class="overall-link selected"\n           ng-click="discussionInsights.updateDfiPanel($event)"\n           bb-translate="components.directives.discussion.insights.overall"\n           analytics-id="components.directives.discussion.insights.overall">\n        </a>\n      </li>\n      <li class="group-item child-is-invokable"\n          bb-click-to-invoke-child="a.group-menu-link"\n          tabindex="0"\n          ng-repeat="group in ::groups">\n        <a href="javascript:void(0);"\n           class="group-menu-link"\n           ng-click="discussionInsights.updateDfiPanel($event, group.id, group.name)"\n           analytics-id="components.directives.discussion.insights.group.link">\n          {{group.name}}\n        </a>\n      </li>\n    </ul>\n  </nav>\n\n  <section id="discussion-insights" class="panel-content discussion-insights" bb-foundation-defer>\n    <div class="insights">\n      <div class="insight-summary row collapse summary-box">\n        <div class="column small-12">\n          <bb-statistics\n            config="statisticsConfig"\n            ng-if="isLoaded"\n            small-per-row="1"\n            large-per-row="4"></bb-statistics>\n        </div>\n      </div>\n\n      <div class="participation-chart-container">\n        <div class="bar-chart">\n          <span class="participated"\n                aria-label="{{barchartParticipants}}"\n                title="{{barchartParticipants}}"></span>\n          <span class="opened"\n                aria-label="{{barchartOpenedNonParticipants}}"\n                title="{{barchartOpenedNonParticipants}}"></span>\n          <span class="unopened"\n                aria-label="{{barchartNonParticipants}}"\n                title="{{barchartNonParticipants}}"></span>\n        </div>\n        <div class="legend">\n          <div class="participatedCaption" data-ng-bind-html="discussionInsights.getSafeHtml(percentParticipatedCaption)"></div>\n          <div class="openedCaption" data-ng-bind-html="discussionInsights.getSafeHtml(percentOpenedCaption)"></div>\n        </div>\n      </div>\n\n      <div class="non-participant-groups row" ng-if="displayNonParticipantGroups">\n        <div class="column small-12 non-participant-box clearfix" bb-foundation-defer>\n          <h3 class="stat-title subheader"\n              bb-translate="components.directives.discussion.insights.groupNonParticipants"\n              translate-values="{count: totalNonParticipants}"></h3>\n          <div class="float-right">\n            <bb-overflow-menu class="ddm-nonparticipant-options"\n                              element-id="ddm-nonparticipant-options"\n                              element-name={{nonParticipantsOptions}}\n                              on-menu-toggle="discussionInsights.updateMessagesCount()"\n                              menu-items="discussionInsights.getOverflowMenu()"\n                              analytics-id-tag-prefix="components.directives.discussion.insights.nonParticipantsGroups.overflowMenu">\n            </bb-overflow-menu>\n          </div>\n\n          <div class="group-nonparticipants" ng-repeat="nonParticipantGroup in nonParticipantGroups track by nonParticipantGroup.id">\n            <div class="group-heading child-is-invokable" bb-click-to-invoke-child="a.group-link">\n              <a class="group-link"\n                 href="javascript:void(0);"\n                 ng-click="discussionInsights.goToDiscussion(nonParticipantGroup.id)"\n                 analytics-id="components.directives.discussion.insights.nonParticipantGroup.link">\n                {{nonParticipantGroup.name}}\n              </a>\n            </div>\n            <div class="nonparticipant-in-group-container"\n                 ng-class="nonParticipantGroup.total > 3 ? \'space-evenly\' : \'set-margin\' ">\n              <div class="nonparticipant-in-group child-is-invokable"\n                   bb-click-to-invoke-child="a.group-non-participant-link"\n                   ng-repeat="nonParticipant in nonParticipantGroup.nonParticipants | limitTo: 4 track by nonParticipant.id">\n                <bb-avatar user="nonParticipant"></bb-avatar>\n                <a class="group-non-participant-link"\n                   href="javascript:void(0);"\n                   aria-label="{{nonParticipant.localizedName}}"\n                   ng-click="discussionInsights.goToMessage(nonParticipant.id)"\n                   analytics-id="components.directives.discussion.insights.nonParticipant.link">\n                  {{nonParticipant.localizedName}}\n                </a>\n              </div>\n            </div>\n            <div class="count-link">\n              <a ng-click="discussionInsights.goToDiscussion(nonParticipantGroup.id)"\n                 ng-show="nonParticipantGroup.hidden > 0"\n                 href="javascript:void(0);"\n                 bb-translate="components.directives.discussion.insights.moreLink"\n                 translate-values="{count: nonParticipantGroup.hidden}"\n                 analytics-id="components.directives.discussion.insights.moreLink">\n              </a>\n            </div>\n          </div>\n        </div>\n      </div>\n\n      <div class="non-participants row" ng-show="(displayNonParticipants || displayNonParticipantGroup)">\n        <div class="column small-12 non-participant-box clearfix" ng-if="showLargeNonparticipantPanel" bb-foundation-defer>\n          <h3 class="stat-title subheader" bb-translate="components.directives.discussion.insights.nonParticipants"></h3>\n          <div class="float-right">\n            <bb-overflow-menu class="ddm-nonparticipant-options"\n                              element-id="ddm-nonparticipant-options"\n                              element-name={{nonParticipantsOptions}}\n                              on-menu-toggle="discussionInsights.updateMessagesCount()"\n                              menu-items="discussionInsights.getOverflowMenu()"\n                              analytics-id-tag-prefix="components.directives.discussion.insights.nonParticipants.overflowMenu">\n            </bb-overflow-menu>\n          </div>\n          <ul class="non-participant-list clearfix">\n            <li class="non-participant child-is-invokable"\n                bb-click-to-invoke-child="a.non-participant-link"\n                tabindex="-1"\n                ng-show="showNonparticipant[$index]"\n                ng-repeat="nonParticipant in nonParticipants | limitTo: 18 track by nonParticipant.id">\n              <div class="non-participant-cell"\n                   ng-class="{\'show-focus-outline\': discussionInsights.isFocusedNonparticipant(nonParticipant.id)}">\n                <a class="non-participant-link hide-focus-outline"\n                   id="non-participant-link-{{nonParticipant.id}}"\n                   tabindex="0"\n                   href="javascript:void(0);"\n                   ng-focus="true"\n                   ng-blur="true"\n                   ng-click="discussionInsights.goToMessage(nonParticipant.id)"\n                   analytics-id="components.directives.discussion.insights.nonParticipantLink.link">\n                  <bb-avatar class="non-participant-avatar" user="nonParticipant.avatarData"></bb-avatar>\n                </a>\n                <span class="byline stacked" ng-bind-html="discussionInsights.getSafeHtml(nonParticipant.localizedName)"></span>\n              </div>\n            </li>\n          </ul>\n          <label class="summary-line">{{nonParticipationSummary}}</label>\n        </div>\n        <div class="column small-12 non-participant-box clearfix" ng-if="!showLargeNonparticipantPanel">\n          <h3 class="stat-title subheader">{{barchartNonParticipants}}</h3>\n          <button class="messageAllButton button"\n                  bb-translate="components.directives.discussion.insights.messageAll"\n                  bb-translate-attrs="{\'aria-label\': \'components.directives.discussion.insights.messageAll\'}"\n                  ng-click="discussionInsights.goToMessageAll()"\n                  analytics-id="components.directives.discussion.insights.messageAll">\n            </button>\n        </div>\n      </div>\n\n      <div class="row equal-height" ng-if="displayTopComments || displayTopParticipants">\n        <div class="top-comments column {{topCommentsColumns}} student-list-box" ng-if="displayTopComments">\n          <h3 class="stat-title subheader"\n              id="most-replies-heading"\n              bb-translate="components.directives.discussion.insights.mostReplies"></h3>\n          <div class="tabular-list-container">\n            <div class="tabular-row top-comment-row child-is-invokable"\n                 bb-click-to-invoke-child="a.discussion-link"\n                 ng-class="{\'last\':$last}"\n                 ng-repeat="comment in topComments | limitTo: numberOfCommentsToDisplay | orderBy: \'-numReplies\'">\n              <a href="javascript:void(0);"\n                 class="discussion-link"\n                 ng-click="discussionInsights.goToDiscussion(comment.user.group.id)"\n                 aria-labelledby="comment-user-{{comment.user.id}} most-replies-heading"\n                 aria-describedby="comment-message-{{comment.user.id}}\n                 comment-replies-{{comment.user.id}}"\n                 analytics-id="components.directives.discussion.insights.goToDiscussion.link">\n                <bb-avatar class="top-participant-avatar" user="comment.user.avatarData"></bb-avatar>\n                <div class="comment-info">\n                  <div class="comment-message ellipsis" id="comment-message-{{comment.user.id}}">{{comment.message}}</div>\n                  <div class="byline ellipsis">\n                    <span id="comment-user-{{comment.user.id}}">\n                      <bb-translate>components.directives.discussion.insights.by</bb-translate> {{comment.user.localizedName}}\n                      <span ng-show="isGroupDiscussion"><bb-translate>components.directives.discussion.insights.inGroup</bb-translate> {{comment.user.group.name}}</span>\n                    </span> |\n                    <span id="comment-replies-{{comment.user.id}}"> {{comment.numReplies}} <bb-translate>components.directives.discussion.insights.replies</bb-translate></span>\n                  </div>\n                </div>\n              </a>\n            </div>\n          </div>\n        </div>\n        <div class="top-participants column {{topParticipantColumns}} student-list-box" ng-if="displayTopParticipants">\n          <h3 id="top-heading" class="stat-title subheader" bb-translate="components.directives.discussion.insights.topParticipants"></h3>\n          <div class="tabular-list-container">\n            <div class="tabular-row top-participants-row child-is-invokable"\n                 bb-click-to-invoke-child="a.grading-panel-link"\n                 ng-class="{\'last\':$last, \'not-graded\': (!isGradable || isGroupDiscussion), \'group-row\':isGroupDiscussion}"\n                 ng-repeat="participant in topParticipants | limitTo: numberOfCommentsToDisplay | orderBy: \'-numComments\'">\n              <a href="javascript:void(0);"\n                 class="grading-panel-link"\n                 aria-labelledby="user-{{participant.user.id}} top-heading"\n                 aria-describedby="span-replies-{{participant.user.id}} span-feedback-{{participant.user.id}}"\n                 ng-class="{\'not-graded\': (!isGradable || isGroupDiscussion)}"\n                 ng-click="discussionInsights.goToGrade(participant.user.id)"\n                 analytics-id="components.directives.discussion.insights.goToGrade.link">\n                <bb-avatar class="comment-avatar" user="participant.user.avatarData"></bb-avatar>\n                <div class="top-participant-info ellipsis" ng-class="{\'not-graded\': !isGradable}">\n                  <span class="discussion-insights-heading" id="user-{{participant.user.id}}">{{participant.user.localizedName}}</span><br>\n                  <span class="ellipsis" ng-show="isGroupDiscussion">{{participant.user.group.name}}</span><br ng-show="isGroupDiscussion">\n                  <span class="byline" id="span-feedback-{{participant.user.id}}">\n                    <bb-svg-icon class="top-participant-icon" size="small" icon="feedback" bb-translate-attrs="{\'aria-label\': \'components.directives.discussion.insights.feedback\'}"></bb-svg-icon>\n                    {{participant.numComments}}\n                  </span>\n                  <span class="byline" id="span-replies-{{participant.user.id}}">\n                  <bb-svg-icon class="top-participant-icon" size="small" icon="replies" bb-translate-attrs="{\'aria-label\': \'components.directives.discussion.insights.replies\'}"></bb-svg-icon>\n                    {{participant.numReplies}}\n                  </span>\n                </div>\n              </a>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n    <div ui-view="telemetry-discussion-forum-insights-base@"></div>\n  </section>\n</div>'},"X+qL":function(e,t,n){},Xc1Q:function(e,t,n){var o=n("ziER"),i=n("5JeM"),s=new o({id:"icon-small-arrow-down",use:"icon-small-arrow-down-usage",viewBox:"0 0 16 16",content:'<symbol fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" id="icon-small-arrow-down"><path d="M1 4l7 7 7-7" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" /></symbol>'});i.add(s);e.exports=s},YHbk:function(e,t,n){},YHe3:function(e,t,n){"use strict";n.d(t,"a",(function(){return m})),n.d(t,"b",(function(){return b}));var o=n("D57K"),i=n("wHJ2"),s=n("pjml"),r=n("TnpK"),a=n("Q/M7"),c=n("12mu"),l=n("0JpG"),d=n("nYZ0"),u=n("Qbdf"),p=n("OMme"),h=n("TuNX"),m="ultra.components.services.proctoring",b="proctoring",g={Respondus:"respondus"},v=function(){function e(e,t,n,o,i,s,r,a,c,l,d,u){this.$q=e,this.$rootScope=t,this.$sce=n,this.$window=o,this.CourseModel=i,this.CourseContentModel=s,this.ProctoringServicesModel=r,this.modal=a,this.contentService=c,this.contextCourse=l,this.localize=d,this.ultraState=u}return e.prototype.getBooksAndToolsDescription=function(e){return"components.services.proctoring.booksAndTools."+g[e.vendor]+".description"},e.prototype.getProctoringServices=function(){var e=this.$q.defer();return this.ProctoringServicesModel.$search({"availability.available":"Yes"}).$allow(["400-599"]).$asPromise().then((function(t){t.$response&&t.$response.status>=400?e.resolve([]):e.resolve(t)}),(function(){return e.resolve([])})),e.promise},e.prototype.getProctoringOutlineSummaryText=function(e,t){var n="components.services.proctoring.outline.";if(e.getProctoringServiceHandle()){if(e.isSecureBrowserRequiredToTake()){var o=t?".instructor":".student";return e.isWebcamRequired()?n+g[e.getProctoringServiceVendor()]+o+".secureBrowserAndWebcamRequired":n+g[e.getProctoringServiceVendor()]+o+".secureBrowserRequired"}return null}return null},e.prototype.getProctoringAssessmentSettingsText=function(e){return"components.services.proctoring.settings."+g[e]+".toolLink"},e.prototype.getProctoringAssessmentSettingsRequirementsText=function(e){var t="components.services.proctoring.settings.";return e.getProctoringServiceHandle()&&e.isSecureBrowserRequiredToTake()?e.isWebcamRequired()?t+g[e.getProctoringServiceVendor()]+".secureBrowserAndWebcamRequired":t+g[e.getProctoringServiceVendor()]+".secureBrowserRequired":null},e.prototype.getProctoringOverviewBrowserText=function(e){return e.isSecureBrowserRequiredToTake()?"components.services.proctoring.overview."+g[e.getProctoringServiceVendor()]+".browser":null},e.prototype.getProctoringOverviewRequirementsText=function(e){var t="components.services.proctoring.overview.";return e.isSecureBrowserRequiredToTake()?e.isWebcamRequired()?t+g[e.getProctoringServiceVendor()]+".secureBrowserAndWebcamRequired":t+g[e.getProctoringServiceVendor()]+".secureBrowserRequired":null},e.prototype.getProctoringOverviewDownloadText=function(e){return e.getProctoringDownloadUrl()?"components.services.proctoring.overview."+g[e.getProctoringServiceVendor()]+".downloadBrowser":null},e.prototype.openProctoringLTITool=function(e,t){var n="/webapps/assessment/controller/proctoring/launchProctoringSettings?proctoring_svc_id="+e.id+"&course_id="+this.contextCourse.courseId;t&&(n+="&content_id="+t.id);var o={toolHref:a.c(n)};t&&t.title&&t.title.length>0&&(o.toolSubtitle=t.title),this.ultraState.goPeekState("proctoring-lti-tool",o)},e.prototype.getProctoringReviewButtonText=function(e){return"components.services.proctoring.delivery.review."+g[e]+".reviewResults"},e.prototype.getProctoringReviewDownloadText=function(e){return"components.services.proctoring.delivery.review."+g[e]+".download"},e.prototype.getProctoringModalRequirementsText=function(e){return"components.services.proctoring.modal."+g[e]+".requirements"},e.prototype.getProctoringModalDownloadText=function(e){return"components.services.proctoring.modal."+g[e]+".download"},e.prototype.getProctoringModalBrowserText=function(e){return"components.services.proctoring.modal."+g[e]+".browser"},e.prototype.openProctoringModal=function(e,t){var n=this,o=this.ultraState.getCurrentUrlParams();setTimeout((function(){var i=n.$rootScope.$new(!0);n.proctoringModal=n.modal.open({scope:i,template:h,backdrop:"static"});var s=n.ultraState.prev.name.lastIndexOf("peek.");n.peekState=s?n.ultraState.prev.name.substr(s+5):n.ultraState.prev.name,n.proctoringModal.dismiss=n.openOverviewPeekPanel.bind(n),n.courseId=o.courseId,n.contentId=o.contentId,i.requirementsText=n.getProctoringModalRequirementsText(e.getProctoringServiceVendor()),i.downloadText=n.$sce.trustAsHtml(n.localize.translateSync({key:n.getProctoringModalDownloadText(e.getProctoringServiceVendor()),params:{downloadUrl:e.getProctoringDownloadUrl()},locale:t,noWrap:!0,noEscape:!0})),i.browserText=n.getProctoringModalBrowserText(e.getProctoringServiceVendor())}),3e3)},e.prototype.openOverviewPeekPanel=function(){this.ultraState.goPeekState(this.peekState,this.ultraState.prevParams),this.proctoringModal.close()},e.prototype.getSecureBbEditorOptions=function(e){return this.ultraState.current.name===p.a&&(e.attachment=!1,e.image=!1,e.youtubeVideo=!1,e.video=!1),e},e.prototype.handleProctoredAssessmentClose=function(e){"Respondus"===e.getProctoringServiceVendor()?a.p(a.c("/ultra/proctoring/close?rldbsm=1&rldbxb=1")):this.$window.close()},e.$inject=["$q","$rootScope","$sce","$window",s.o.serviceName,s.r.serviceName,s.ob.serviceName,c.b,d.e,u.e,l.serviceName,r.d],e}();!function(e){function t(){return null!==e&&e.apply(this,arguments)||this}Object(o.__extends)(t,e)}(v);i.module(m,["ngSanitize",d.d,l.moduleName,c.a,r.b,u.b]).service(b,v)},Ybms:function(e,t,n){var o=n("ziER"),i=n("5JeM"),s=new o({id:"icon-small-duplicate",use:"icon-small-duplicate-usage",viewBox:"0 0 16 16",content:'<symbol fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" id="icon-small-duplicate"><path stroke-width="2" stroke-linecap="round" stroke-linejoin="round" d="M1 4h11v11H1z" /><path d="M12 12h3V1H4v3" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" /></symbol>'});i.add(s);e.exports=s},Youf:function(e,t){e.exports='<a class="content-title" \n   aria-describedby="{{contentItemBase.getAriaDescribedBy()}}" \n   ng-click="contentItemLtiLaunch.ltiLaunch()" \n   href="javascript:void(0);"\n   analytics-id="content.item.ltilaunch.link"><span>{{ content.title }}</span></a>\n<span class="broken-lti-link" ng-if="contentItemBase.isUnlaunchableLtiLink() && !contentItemBase.ltiLinkNeedsApproval() && contentItemBase.scope.content.canViewAsInstructor()"\n      bb-translate>components.directives.content-item-base.broken-link</span>\n<span class="broken-lti-link" ng-if="contentItemBase.isUnlaunchableLtiLink() && contentItemBase.ltiLinkNeedsApproval() && contentItemBase.scope.content.canViewAsInstructor()"\n      bb-translate>components.directives.content-item-base.approval-required</span>'},Zahr:function(e,t,n){},Zeij:function(e,t,n){},a8oS:function(e,t){e.exports='<div class="content-outline" bb-load-bundle="components/directives/content/content-outline">\n  <bb-add-content-button ng-if="contentOutline.contextArea === \'discussions\' && canCreate && contents.length > 0"\n                         can-create-all-contents="canCreateAllContents"\n                         show-menu-override="contentOutline.showMenuOverride" parent-id="contentOutline.parentFolder.id"\n                         position-before="\'start\'" item-name="contents[0].title"\n                         depth="contentOutline.parentFolder.depth + 1" always-show="isFirst" context-area="contentOutline.contextArea"\n                         can-copy-import="canCopyImport" show-both-buttons="true"></bb-add-content-button>\n  <bb-add-content-button ng-if="contentOutline.contextArea !== \'discussions\' && !hideAddMenuOverride && canCreate"\n                         can-create-all-contents="canCreateAllContents"  is-render-by-default="contentOutline.parentFolder.depth === 0"\n                         show-menu-override="contentOutline.shouldShowMenuOverride()" parent-id="contentOutline.parentFolder.id"\n                         root-content="contentOutline.parentFolder" position-before="\'start\'" item-name="contents[0].title"\n                         depth="(contentOutline.parentFolder.depth + 1)" always-show="contentOutline.shouldShowAddButton()" context-area="contentOutline.contextArea"\n                         can-copy-import="canCopyImport" show-both-buttons="true"></bb-add-content-button>\n  <div class="content-outline-scroll-container" ng-if="contents"\n       bb-infinite-scroll="contentOutline.loadMoreChildren(contentOutline.parentFolder)"\n       infinite-scroll-immediate-check="true"\n       infinite-scroll-disabled="contentOutline.isAllContentsLoaded()"\n       infinite-scroll-container="contentOutline.getScrollContainerSelector()"\n       infinite-scroll-listen-for-event="content-outline-infinite-scroll-check"\n       infinite-scroll-current-count="contents.length"\n       infinite-scroll-total-count="contents.paging.count"\n       infinite-scroll-load-limit="contents.paging.limit"\n       infinite-scroll-tray-id="content-outline-{{::contentOutline.parentFolder.id}}"\n       infinite-scroll-focusable-children-selector=".content-title"\n       infinite-scroll-localization-keys-prefix="components.directives.content.content-outline.infiniteScroll.{{::contentOutline.contextArea === \'discussions\' ? \'discussions\' : \'content\'}}"\n       sortable-parent>\n    <div class="content-outline-scroll-list" data-parent-id="{{::contentOutline.parentFolder.id}}">\n      <div class="js-content-div drag-element"\n           ng-class="{\'is-restricted\': content.canViewAsInstructor() && content.isHiddenFromStudents(), \'last\': $last, \'has-conversation-indicator\': content.ui.hasIndicator}"\n           ng-repeat="content in contents track by contentOutline.getContentTrackingId(content)" data-content-id="{{content.id}}">\n\n        <ng-switch on="(content.isFolder() && !content.isBbPage()) || content.isLearningModule()">\n          <div ng-switch-when="true">\n            <bb-folder root-content="contentOutline.parentFolder" on-file-drop-handler="contentOutline.onFileDropHandler"\n                       on-move-handler="contentOutline.onMoveHandler"\n                       on-move-into-folder-handler="contentOutline.onMoveIntoFolderHandler" contents="contents" content="content"\n                       next-content-id="contents[$index + 1].id" previous-content-id="contents[$index - 1].id"\n                       load-more-children="contentOutline.loadMoreChildren" can-create="canCreate" can-move="contentOutline.canMove"\n                       context-area="contentOutline.contextArea" can-copy-import="canCopyImport"></bb-folder>\n          </div>\n          <div ng-switch-when="false" bb-drag drag-item="::content.id" can-move="contentOutline.canMove">\n            <div ng-if="!content.isGroupContent || content.assignedGroups.length >= 0 || contentOutline.canMove">\n              <div bb-drop-handler on-file-drop-handler="contentOutline.onFileDropHandler"\n                  on-move-handler="contentOutline.onMoveHandler" on-move-into-folder-handler="contentOutline.onMoveIntoFolderHandler"\n                  content="content" root-content="contentOutline.parentFolder"\n                  next-content-id="contents[$index + 1].id" previous-content-id="contents[$index - 1].id">\n                <div class="row collapse element-list-row js-course-skip-link-target" can-create="canCreate" can-move="contentOutline.canMove"\n                    bb-content-item-mouseover>\n                  <bb-content-item-base contents="contents" content="content" context-area="contentOutline.contextArea"\n                                        can-move="contentOutline.canMove"></bb-content-item-base>\n                </div>\n              </div>\n            </div>\n          </div>\n        </ng-switch>\n\n        <div class="add-element-container">\n          \x3c!--\n            LRN-123904: For file upload content items positionAfter is set to `content.id` in course-outline.html. But when file upload is\n            in progress, `content.id` stays undefined. As a result `positionAfter` receives `undefined`. To avoid that we use current content\n            `positionAfter` value when `content.id` is not available. When upload-in-progress file is very first item - positionAfter value is not\n            available, thefore we using `positionBefore` instead.\n          --\x3e\n          <bb-add-content-button ng-if="::canCreate && !content.ui.importPlaceholder" can-create-all-contents="canCreateAllContents" content="content"\n                                 root-content="contentOutline.parentFolder" parent-id="contentOutline.parentFolder.id"\n                                 position-after="content.id || content.positionAfter"\n                                 position-before="(content.id || content.positionAfter) ? null : content.positionBefore"\n                                 item-name="content.title"\n                                 depth="content.depth" context-area="contentOutline.contextArea"\n                                 can-copy-import="canCopyImport" show-both-buttons="true"></bb-add-content-button>\n        </div>\n      </div>\n      <div class="drag-element">\n        <div drag-item-id="{{contentOutline.placeholderContent.id}}"></div>\n        <div class="drop-placeholder" bb-drop-handler\n             content="contentOutline.placeholderContent"\n             on-move-handler="contentOutline.onMoveHandler"\n             on-move-into-folder-handler="contentOutline.onMoveIntoFolderHandler">\n        </div>\n      </div>\n    </div>\n  </div>\n</div>\n'},aTRN:function(e,t,n){"use strict";var o=n("D57K"),i=n("pjml"),s=n("aHpC"),r=n("nbDY"),a=n.n(r),c=n("4GL6"),l=n("0JpG"),d=n("oi1r"),u=n("TnpK"),p=n("Qbdf"),h=n("X455"),m=n("nsO7"),b=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(o.__extends)(t,e),t.Multiple=new t("multiple-conditions"),t.Performance=new t("performance"),t.ForcedSequence=new t("forced-sequence"),t.Date=new t("date"),t.None=new t("none"),t}(a.a),g=function(){function e(e,t,n,o,i,s,r){var a=this;this.localizeService=e,this.schemaService=t,this.courseModel=n,this.contextCourse=o,this.contextCourseMembership=i,this.scope=r,this.isPerformanceConditionInvalid=!1,this.role=m.memoize((function(){return a.contextCourseMembership.courseMembership&&a.contextCourseMembership.courseMembership.isActAsInstructorMembership()?"instructor":"student"})),this.courseId=o.courseId?o.courseId:s.params.courseId}return e.prototype.getConditions=function(e,t,n){this.content=e;var o=e.adaptiveReleaseRules&&e.adaptiveReleaseRules.rules;if(o&&o.length||e.isForcedSequenceModule())if(this.getConditionType(o),this.getPerformanceCriteria()?this.getPerformanceCondition(t,n):this.performanceToolTips=null,this.getDateCriteria()?this.getDateCondition():this.dateToolTips=null,e.isForcedSequenceModule()&&this.contextCourseMembership.courseMembership.isActAsInstructorMembership()||e.isForcedSequenceItem()){var i=e.isForcedSequenceModule()?"module":"item";e.isForcedSequenceItem()&&0===e.position&&(i="first-"+i),this.forcedSequenceTips=this.localizeService.translateSync({locale:this.localizeService.getLocale(this.scope),key:"components.directives.content-item-base.conditionalRelease."+this.role()+"-forced-sequence-"+i+"-tooltip",noWrap:!0,noEscape:!0}),this.updatetooltipScope()}else this.forcedSequenceTips=null},e.prototype.getConditionType=function(e){e&&e[0]&&e[0].criteria&&(this.allCriteria=e[0].criteria);var t=this.getPerformanceCriteria(),n=this.getDateCriteria(),o=this.content&&(this.content.isForcedSequenceModule()||this.content.isForcedSequenceItem()),i=[t,n,o].filter((function(e){return!!e})).length;this.conditionType=i>=2?b.Multiple.toString():t?b.Performance.toString():n?b.Date.toString():o?b.ForcedSequence.toString():b.None.toString()},e.prototype.getPerformanceCriteria=function(){return this.getCriteriaByType("Grade_Range")||this.getCriteriaByType("Grade_Range_Percentage")},e.prototype.getDateCriteria=function(){return this.getCriteriaByType("Date_Range")},e.prototype.getCriteriaByType=function(e){return this.allCriteria&&this.allCriteria.find((function(t){return t.type===e}))},e.prototype.getPerformanceCondition=function(e,t){var n=this;this.gradeCriteria=this.getPerformanceCriteria();var o=this.gradeCriteria&&this.gradeCriteria.minScore,s=this.gradeCriteria&&this.gradeCriteria.maxScore,r=this.gradeCriteria&&this.gradeCriteria.gradeColumnId,a="",c="";if(!r||t){var l="components.directives.content-item-base.conditionalRelease."+this.role()+"-missing-column-error";return this.performanceToolTips=this.localizeService.translateSync({locale:this.localizeService.getLocale(this.scope),key:l,noWrap:!0,noEscape:!0}),this.isPerformanceConditionInvalid=!0,void this.updatetooltipScope()}this.courseModel.$new(this.courseId||this.content.courseId).gradebook.columns.$find(r).$allow([403]).$then((function(t){if(t.$response&&403===t.$response.status)return n.performanceToolTips=n.localizeService.translateSync({locale:n.localizeService.getLocale(n.scope),key:"components.directives.content-item-base.conditionalRelease.student-missing-column-error",noWrap:!0,noEscape:!0}),n.isPerformanceConditionInvalid=!0,void n.updatetooltipScope();var r="components.directives.content-item-base.conditionalRelease."+n.role()+"-lock-tooltip";r+=void 0===s?"-common":o===s?"-equal":"-custom";var l=e||t&&t.columnName;n.schemaService.loadSchemas(n.courseId).then((function(e){var d=e&&e.find((function(e){return e.id===t.gradingSchemaId}))||{};n.gradeCriteria&&"Grade_Range"===n.gradeCriteria.type&&(void 0!==s||i.J.ScaleType.Score.isEqualTo(d.scaleType)||i.J.ScaleType.Complete.isEqualTo(d.scaleType))&&(a=n.localizeService.translateSync({locale:n.localizeService.getLocale(n.scope),params:{score:o||0},key:"components.directives.content-item-base.conditionalRelease.point.plural",noWrap:!0,noEscape:!0}),c=n.localizeService.translateSync({locale:n.localizeService.getLocale(n.scope),params:{score:s||t.possible},key:"components.directives.content-item-base.conditionalRelease.point.plural",noWrap:!0,noEscape:!0})),n.gradeCriteria&&"Grade_Range_Percentage"===n.gradeCriteria.type&&(void 0!==s||i.J.ScaleType.Percent.isEqualTo(d.scaleType)?(a=n.localizeService.translateSync({locale:n.localizeService.getLocale(n.scope),params:{score:o||0},key:"components.directives.content-item-base.conditionalRelease.percentage",noWrap:!0,noEscape:!0}),c=n.localizeService.translateSync({locale:n.localizeService.getLocale(n.scope),params:{score:s||t.possible},key:"components.directives.content-item-base.conditionalRelease.percentage",noWrap:!0,noEscape:!0})):i.J.ScaleType.Tabular.isEqualTo(d.scaleType)&&(d.symbols.sort((function(e,t){return e.absoluteTranslation-t.absoluteTranslation})),d.symbols.forEach((function(e){e.absoluteTranslation>=o&&(o=e.symbol,a=o)})))),n.getPerformanceToolTips(r,a,c,l)}))}))},e.prototype.getDateCondition=function(){if(this.dateCriteria=this.getDateCriteria(),this.dateCriteria){var e=null;this.dateCriteria.start&&this.dateCriteria.end?e="both":this.dateCriteria.start?e="showon":this.dateCriteria.end&&(e="hideafter");var t="components.directives.content-item-base.conditionalRelease."+this.role()+"-"+e+"-date-tooltip";this.dateToolTips=e&&this.localizeService.translateSync({locale:this.localizeService.getLocale(this.scope),key:t,params:{showon:new Date(this.dateCriteria.start),hideafter:new Date(this.dateCriteria.end)},noWrap:!0,noEscape:!0}),this.updatetooltipScope()}},e.prototype.getPerformanceToolTips=function(e,t,n,o,i){void 0===i&&(i=""),this.performanceToolTips=this.localizeService.translateSync({locale:this.localizeService.getLocale(this.scope),key:e,params:{minScore:t,maxScore:n,title:o},noWrap:!0,noEscape:!0}),this.isPerformanceConditionInvalid=!1,this.updatetooltipScope()},e.prototype.updatetooltipScope=function(){angular.isUndefined(this.tooltipScope)&&(this.tooltipScope=this.scope.$new(!0)),this.tooltipScope.items=[],this.performanceToolTips&&(this.tooltipScope.items.push(this.performanceToolTips),this.isPerformanceConditionInvalid)?this.tooltips=this.performanceToolTips:(this.dateToolTips&&this.tooltipScope.items.push(this.dateToolTips),this.forcedSequenceTips&&this.tooltipScope.items.push(this.forcedSequenceTips),this.tooltips=this.tooltipScope.items.join(" "))},e.prototype.getConditionalReleaseComplexTooltipTemplate=function(){return c.a("conditional-release-tooltip")},e=Object(o.__decorate)([Object(o.__param)(0,Object(s.b)(l.serviceName)),Object(o.__param)(1,Object(s.b)(d.b)),Object(o.__param)(2,Object(s.b)(i.o.serviceName)),Object(o.__param)(3,Object(s.b)(p.e)),Object(o.__param)(4,Object(s.b)(h.d)),Object(o.__param)(5,Object(s.b)(u.d)),Object(o.__param)(6,Object(s.b)("scope"))],e)}();t.a=g},aY38:function(e,t,n){var o=n("Jygx");e.exports=function(e){var t=e.replace(/-/g,"+").replace(/_/g,"/");switch(t.length%4){case 0:break;case 2:t+="==";break;case 3:t+="=";break;default:throw"Illegal base64url string!"}try{return function(e){return decodeURIComponent(o(e).replace(/(.)/g,(function(e,t){var n=t.charCodeAt(0).toString(16).toUpperCase();return n.length<2&&(n="0"+n),"%"+n})))}(t)}catch(e){return o(t)}}},ahTn:function(e,t){e.exports='<bb-modal id="notification-modal"\n          class="notification"\n          modal-title-key="{{courseOutline.exportModalTitleKey}}"\n          analytics-id-tag-prefix="course.export.modal.startArchive">\n  <div name="modal-contents">\n    <p bb-translate="course.export.modal.modalText" course-org-token-resolver></p>\n  </div>\n  <button name="modal-footer-button-primary" \n          class="close-modal-export js-export-without-student-data button js-primary-button" \n          ng-click="courseOutline.triggerCourseExport(false)"\n          analytics-id="course.export.modal.startExport.button">\n    <span bb-translate="course.export.modal.startExport"></span>\n  </button>\n  <button name="modal-footer-button-secondary" \n          class="close-modal-export js-export-with-student-data button button--secondary js-secondary-button" \n          ng-click="courseOutline.triggerCourseExport(true)"\n          analytics-id="course.export.modal.startArchive.button">\n    <span bb-translate="course.export.modal.startArchive"></span>\n  </button>\n</bb-modal>'},asT1:function(e,t){e.exports='<div id="panel-export" bb-load-bundle="features/course/exports/course-export" bb-cache-compilation="course-exports">\n  <div class="panel-wrap">\n    <header class="panel-header simple-header">\n      <div class="panel-titles-container">\n        \x3c!-- sub-title should be according to course --\x3e\n        <div class="panel-sub-title">({{::course.model.courseId + \' \\u2022 \' + course.model.name}})</div>\n        <div class="black-header-contents">\n          <button class="left-off-canvas-toggle menu-toggle standard-button dark-background"\n                  analytics-id="course.export.exportPanel.base.menu.button">\n            <bb-svg-icon size="small" icon="main-menu"></bb-svg-icon>\n            <span class="sr-only" bb-translate>base.menu</span>\n          </button>\n          <h1 class="panel-title" bb-translate="course.export.exportPanel.head"></h1>\n        </div>\n      </div>\n    </header>\n    <div class="panel-content">\n      <div class="com-export-package">\n        <header>\n          <span class="title" bb-translate="course.export.exportPanel.title"></span>\n          <button id="add-export-package"\n                  class="anchor btn-export"\n                  ng-if="courseExport.scheduledTasks.length === 0"\n                  ng-click="courseExport.openExportModal()"\n                  bb-translate-attrs="{\'aria-label\':\'course.export.aria-label.add-export-package\'}"\n                  analytics-id="course.export.exportPanel.openExportModal.button">\n            <bb-svg-icon size="medium" icon="export"></bb-svg-icon>\n          </button>\n        </header>\n\n        <ul class="list-export-tasks">\n          <li class="in-progress" task-id="{{exportTask.taskId}}" ng-repeat="exportTask in courseExport.scheduledTasks">\n            <div class="export-progress">\n              <span class="description">\n                <span bb-translate="course.export.exportPanel.inProgress"></span>\n                <span class="progress-status" ng-if="exportTask.startDate != null">\n                  <span bb-translate="course.export.exportPanel.started"></span>\n                  <bb-date format="Short">exportTask.startDate</bb-date>\n                </span>\n                <span class="progress-status" ng-if="exportTask.startDate == null">\n                  <span bb-translate="course.export.exportPanel.justStarted"></span>\n                </span>\n              </span>\n              <button class="anchor cancel-export"\n                      ng-if="exportTask.permissions.delete && false"\n                      ng-click="courseExport.deleteExportTask(exportTask)"\n                      bb-translate-attrs="{\'aria-label\':\'course.export.aria-label.delete-in-progress\'}"\n                      analytics-id="course.export.exportPanel.cancelExport.button">\n                <bb-svg-icon size="small" icon="add"></bb-svg-icon>\n              </button>\n            </div>\n          </li>\n        </ul>\n\n        <ul class="list-archive-export">\n          <li class="completed" ng-repeat="completeTask in courseExport.courseExports">\n            <a class="file-link"\n               ng-href="{{courseExport.getAbsoluteUrl(completeTask.openUrl)}}"\n               analytics-id="course.export.exportPanel.completedTask.url.link">\n              <bb-svg-icon size="large" icon="zip" color="true"></bb-svg-icon>\n              <span class="description">\n                <span class="file-name">{{::completeTask.cxFileId}}.zip</span>\n                <span class="date-created">\n                  <span bb-translate="course.export.exportPanel.created"></span> - <bb-date format="Short">completeTask.createDate</bb-date>\n                </span>\n              </span>\n            </a>\n            <a href="javascript:void(0);"\n               class="file-delete js-delete-archive"\n               bb-confirmation-needed="resource/x-bb-course-archive"\n               show-type="always"\n               ng-click="courseExport.deleteCourseExport(completeTask)"\n               role="button"\n               confirmation-course-org-token-resolver\n               bb-translate-attrs="{\'aria-label\':\'course.export.aria-label.delete-completed\'}"\n               translate-attrs-values="{\'fileName\': completeTask.cxFileId + \'.zip\'}"\n               analytics-id="course.export.exportPanel.deleteCourseExport.link">\n              <bb-svg-icon size="small" icon="trash"></bb-svg-icon>\n            </a>\n          </li>\n        </ul>\n      </div>\n    </div>\n    \x3c!-- End: com-export-package --\x3e\n  </div>\n</div>\n'},b8rY:function(e,t,n){var o=n("ziER"),i=n("5JeM"),s=new o({id:"icon-medium-default-conversion-exceptions",use:"icon-medium-default-conversion-exceptions-usage",viewBox:"0 0 24 24",content:'<symbol fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" id="icon-medium-default-conversion-exceptions"><path d="M12.75 18.5a.75.75 0 1 1-1.5 0 .75.75 0 0 1 1.5 0z" stroke-width="1.5" stroke-miterlimit="10" stroke-linecap="round" stroke-linejoin="round" /><path d="M12 15l-.5-10h1L12 15zM12 23C5.9249 23 1 18.0751 1 12c0-2.923 1.1402-5.5799 3-7.5499M12 1c6.0751 0 11 4.9249 11 11 0 2.8985-1.121 5.5351-2.9532 7.5" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" /><path d="M1 5l3-1v3M23 19l-3 1v-3" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" /></symbol>'});i.add(s);e.exports=s},bhWV:function(e,t,n){"use strict";n("Sq3Z"),n("1NX5"),n("uAJz");var o=n("wHJ2"),i=n("wy9x"),s=n("ga7A"),r=n("Is+C"),a=n("yV5t"),c="ultra.components.directives.content.contentItem.contentItemType.contentItemScormlaunch",l=function(){function e(e,t){this.scope=e,this.scormService=t}return e.prototype.scormLaunch=function(){if(!this.scope.content.isScorm())throw new Error("Attempted to launch a non-SCORM content item. "+this.scope.content.contentHandler.toString());this.scormService.scormLaunch({courseId:this.scope.content.courseId,contentId:this.scope.content.id,content:this.scope.content,showPreLaunchPanel:!0})},e.$inject=["scope",r.c],e}(),d=function(){function e(e){var t=this;this.$injector=e,this.restrict="E",this.template=a,this.scope=!1,this.link=function(e,n,o){e.contentItemScormLaunch=t.$injector.instantiate(l,{scope:e,element:n,attrs:o})}}return e.$inject=["$injector"],e}();o.module(c,[r.b]).directive("bbContentItemScormlaunch",["$injector",function(e){return e.instantiate(d)}]);var u=n("z+6U"),p=n("jhBu"),h=n("YHe3"),m=n("TnpK"),b=n("pjml"),g=n("/R3n"),v=n("Sa5G");n.d(t,"a",(function(){return f}));var f="ultra.components.directives.content.contentItem.contentItemCourseOutline",y=function(){function e(e,t,n,o){var i=this;this.scope=e,this.entitlementService=t,this.proctoringService=n,this.ultraState=o,this.customCategory="",this.entitlementService.hasCourseEntitlement(v.f.ModifyContent,this.scope.content.courseId).then((function(e){i.entitledToModifyContent=e}))}return Object.defineProperty(e.prototype,"canOpenConditionalRelease",{get:function(){return!!(this.scope.content&&this.scope.content.permissions&&this.scope.content.permissions.adaptiveRelease&&this.scope.content.permissions.adaptiveRelease.view)},enumerable:!0,configurable:!0}),e.prototype.shouldAlignMiddle=function(){var e=this.scope.content;return!e.canViewAsInstructor()&&(!e.description&&(!e.isVisible()||!e.adaptiveReleaseRules))},e.prototype.openConditionalRelease=function(){if(!this.isCourseCompletedAndInInstructorView()){var e=this.scope.content.id;this.scope.content&&this.scope.content.contentHandler&&this.scope.content.contentDetail&&b.r.ContentHandler.CourseLink.isEqualTo(this.scope.content.contentHandler)&&this.scope.content.getLinkContentSource().$then((function(t){e=t.id})),this.ultraState.goPeekState("conditional-release",{id:e})}},e.prototype.isCourseCompletedAndInInstructorView=function(){return!this.scope.content.canEdit()&&this.scope.content.canViewAsInstructor()},e.prototype.getExtraRequirementsSummary=function(){return this.proctoringService.getProctoringOutlineSummaryText(this.scope.content,this.entitledToModifyContent)},e.$inject=["scope",p.b,h.b,m.d],e}(),C=function(){function e(e){var t=this;this.$injector=e,this.restrict="E",this.template=g,this.scope=!1,this.link=function(e){if(e.contentItemCourseOutline=t.$injector.instantiate(y,{scope:e}),e.content.getAssociatedGradingColumn()){var n=e.content.getAssociatedGradingColumn().gradebookCategory;n&&!n.isUserDefined?(e.contentItemCourseOutline.groupAssessmentFtueKey="components.directives.content-item-base.group-assessment-description."+n.title,e.contentItemCourseOutline.groupAssessmentFtueTitleKey="components.directives.content-item-base.group-assessment-title."+n.title):(e.contentItemCourseOutline.customCategory=n&&n.title,e.contentItemCourseOutline.groupAssessmentFtueKey="components.directives.content-item-base.group-assessment-description.custom",e.contentItemCourseOutline.groupAssessmentFtueTitleKey="components.directives.content-item-base.group-assessment-title.custom")}else e.contentItemBase.courseLinkContentHandler.isEqualTo(e.content.contentHandler)&&(e.contentItemCourseOutline.groupAssessmentFtueKey="components.directives.content-item-base.group-assessment-description."+b.E.GradeCategoryTitleEnum.Discussion,e.contentItemCourseOutline.groupAssessmentFtueTitleKey="components.directives.content-item-base.group-assessment-title."+b.E.GradeCategoryTitleEnum.Discussion)}}return e.$inject=["$injector"],e}();o.module(f,[i.a,s.a,u.a,c,h.a,m.b]).directive("bbContentItemCourseOutline",["$injector",function(e){return e.instantiate(C)}])},c2Z8:function(e,t){e.exports='<div class="bb-statistics">\n  <ul class="statistics-list total-items-{{::statistics.total}} small-per-row-{{::statistics.smallPerRow}} large-per-row-{{::statistics.largePerRow}}">\n    <li ng-repeat="item in statistics.config">\n      <div class="statistics-item-container" ng-class="{\'no-default-padding\': item.noDefaultPadding, \'full-height\': !item.complexScope}">\n        <div class="stat-title" ng-attr-title="{{ item.hover ? item.hover : undefined }}" bb-translate>{{::item.title}}</div>\n        <div ng-if="::!item.complexScope" bb-simple-statistic item="::item"></div>\n        <div ng-if="::item.complexScope" bb-complex-statistic item="::item"></div>\n      </div>\n    </li>\n  </ul>\n</div>'},cCP0:function(e,t,n){},"cH+F":function(e,t){e.exports='<div class="grade-callout-wrapper">\n  <div class="grade-callout readonly {{displayGrade.colorClass || \'na\'}} overall-grade"\n       bb-load-bundle="components/directives/grade/display-grade"\n       bb-click-to-invoke-child="a.bb-click-grade-target"\n       ng-class="{\'defaultCursor\': displayGrade.cursorDefault}">\n    <span ng-if="!displayGrade.noGradeToDisplay()" class="sr-only" bb-translate>{{displayGrade.gradeDisplayItem.perfCodeDesc || translateKey}}</span>\n    <span ng-if="!overallGradePeekSref" class="value">{{displayGrade.fullDisplayGrade}}</span>\n    <a class="overall-grade value" \n       ng-if="overallGradePeekSref" \n       bb-peek-sref="{{overallGradePeekSref}}"\n       analytics-id="components.directives.grade.display-grade.overallGrade.link">\n      {{displayGrade.fullDisplayGrade}}\n    </a>  \n  </div>\n</div>\n'},cs5G:function(e,t,n){"use strict";n.d(t,"a",(function(){return g})),n.d(t,"b",(function(){return v}));var o=n("D57K"),i=n("nsO7"),s=n("t3aq"),r=n("Qbdf"),a=n("X455"),c=n("HAJP"),l=n("0JpG"),d=n("5MwF"),u=n("WSu0"),p=n("Q/M7"),h=n("pjml"),m=n("aHpC"),b=n("6fZB"),g="ultra.service.ally",v="ally",f=function(){function e(e,t,n,o,i,s,r,a){var c=this;this.$q=e,this.$timeout=t,this.$interval=n,this.allyModel=o,this.contextCourse=i,this.contextCourseMembership=s,this.bbLocalize=r,this.bbScriptLoader=a,this.cachedTokensMap=new Map,this._mockCourses={},this._xythosIdToContentIdMap={},this._xythosIdToInstructorFeedbackUpdateCallbackMap=new Map,this.getToken=function(e){var t=e?c._xythosIdToContentIdMap[e]:void 0;return c.cachedTokensMap.has(e)&&Date.now()<c.cachedTokensMap.get(e).exp?c.$q.resolve(c.cachedTokensMap.get(e).token):c.allyModel.getAllyToken(c.contextCourse.courseId,t).then((function(t){var n=c.getExpireMillisFromToken(t),o={bearer:t.authToken};return c.cachedTokensMap.set(e,{token:o,exp:n}),o}))}}return e.prototype.getAllySettings=function(){var e=this;return this._allyConfig?this.$q.resolve(this._allyConfig):this.allyModel.getAllyConfig().then((function(t){return e._allyConfig=t}))},e.prototype.getExpireMillisFromToken=function(e){return 1e3*u(e.authToken).exp},e.prototype.isAvailable=function(){return this.getAllySettings().then((function(e){return e.serviceAvailable}))},e.prototype.getXythosIdFromContentFileUrl=function(e){var t=/(?:xid|_xy)-([^&]*)/.exec(e),n=t&&t[1];return n&&"_"!==n.substr(0,1)&&(n="_"+n),n},e.prototype.getXythosIdFromContentItem=function(e){var t=i.get(e,"contentDetail['resource/x-bb-file'].file.permanentUrl");if(t)return this.getXythosIdFromContentFileUrl(t)},e.prototype.isAllySupportedContentItem=function(e){return e.isFile()&&!e.isConditionalReleaseLocked()},e.prototype.disable=function(){this._allyConfig?this._allyConfig.serviceAvailable=!1:this._allyConfig={serviceAvailable:!1}},e.prototype.ensureAlly=function(){var e=this,t=this,n=this.$q.defer();return this.ally?n.resolve():this.getAllySettings().then((function(o){if(o.serviceAvailable){var i,s=!1,r=function(t,o){s||(t?n.resolve():(e.disable(),o&&console.error(o),n.reject()),s=!0,e.$timeout.cancel(i))};i=e.$timeout((function(){r(!1,"Ally initialization timed out.  Disabling Ally Service.")}),d.a.allyInitializationTimeout||1e4),e.bbScriptLoader.getScript(o.javascriptUrl,{attributes:{"data-ally-loader":""},exports:"ally"}).then((function(e){t.ally=e;try{t.ally.ready((function(){r(!0)}))}catch(e){console.error(e),r(!1,"Ally initialization error.  Disabling Ally Service.")}})).catch((function(){r(!1,"Failed to load ally.js.  Disabling Ally Service.")}))}else n.resolve()})),n.promise},e.prototype.getRole=function(){return this.contextCourseMembership.isActAsInstructorMembership()?"privileged":"unprivileged"},e.prototype.destroyCurrentAllyInstance=function(){this.cachedTokensMap.clear();var e=this.$q.defer();return this._xythosIdToInstructorFeedbackUpdateCallbackMap.clear(),this.allyUI?this.allyUI.destroy().then((function(){e.resolve()})):e.resolve(),e.promise},e.prototype.ensureAllyUI=function(e){var t=this;if(this.allyLoadInProgressPromise)return this.allyLoadInProgressPromise;var n=this.$q.defer();return this.allyLoadInProgressPromise=n.promise,this.ensureAlly().then((function(){t.getAllySettings().then((function(o){if(!o.serviceAvailable||t.currentCourseId===t.contextCourse.courseId&&t.currentLocale===t.bbLocalize.getLocale(e))t.allyLoadInProgressPromise=void 0,n.resolve();else{t.currentCourseId!==t.contextCourse.courseId&&(t._xythosIdToContentIdMap={}),t.currentCourseId=t.contextCourse.courseId,t.currentLocale=t.bbLocalize.getLocale(e);var i={client:{auth:t.getToken.bind(t),baseUrl:p.i(o.ltiUrl),clientId:o.clientId},courseId:t.currentCourseId,locale:t.currentLocale,platformName:"learn",role:t.getRole(),instructorfeedback:{callbacks:{closed:function(){t.allyUI.client.clearAllFromCache(),t.allyUI.update()},deleted:function(e){},replacedFile:function(e,t){},updated:function(e){t.instructorFeedbackUpdateCallback(e)}}}};d.a.features.devtools_allyMock&&(t.allyMock=t.ally.ui.$mock(t._mockCourses,void 0),i.client.jQuery=t.allyMock),t.destroyCurrentAllyInstance().then((function(){t.allyUI=t.ally.ui(i),t.allyUI.autoUpdate({domWatch:d.a.allyAutoUpdateInterval||500}).then((function(){t.allyLoadInProgressPromise=void 0,n.resolve()}))}))}}))})).catch((function(){t.allyLoadInProgressPromise=void 0,n.reject()})),this.allyLoadInProgressPromise},e.prototype.update=function(e,t,n){var o=this;this.isAvailable().then((function(i){i&&o.ensureAllyUI(e).then((function(){t&&n&&(o._xythosIdToContentIdMap[n]=t,o.allyUI.client.clearFileIdFromCache(n)),o.registerMockFileReference(n)}))}))},e.prototype.registerMockFileReference=function(e){var t,n;d.a.features.devtools_allyMock&&e&&(i.merge(this._mockCourses,((t={})[this.currentCourseId]=((n={})[e]={availableAlternativeFormats:["Tts","Epub","Translation","Braille","Html"],creator:null,decorative:null,description:"mock file",id:e,isVersioned:!1,libraryReference:null,name:"mockfile",producer:null,results:{},score:.75,size:12345,suggestions:{},type:"pdf"},n),t)),this.allyMock.set(this._mockCourses))},e.prototype.fileUploadEvent=function(){var e=this;this._clearCacheInterval||"privileged"!==this.getRole()||(this._clearCacheInterval=this.$interval((function(){e.allyUI&&e.allyUI.client&&e.allyUI.client.clearAllFromCache()}),d.a.allyClearCacheInterval||1e4,0,!1))},e.prototype.getIndexMapFromBbML=function(e){var t=new Map,n=e.match(/(<a[^>]+)/gi)||[],o=0;return n.forEach((function(e){if(e.includes('data-bbfile="')){var n=e.match(/href="[^"]+xid-([0-9_]+)/)||[];n.length>=2&&("_"!==n[1].substr(0,1)&&(n[1]="_"+n[1]),t.set(n[1],o)),o++}})),t},e.prototype.instructorFeedbackUpdateCallback=function(e){var t=this._xythosIdToInstructorFeedbackUpdateCallbackMap.get(e.id);t&&t(e)},e.prototype.onUpdate=function(e,t,n){switch(e){case s.UpdateEvent.InstructorFeedback:this._xythosIdToInstructorFeedbackUpdateCallbackMap.set(t,n)}},e.prototype.destroyListeners=function(e){this._xythosIdToInstructorFeedbackUpdateCallbackMap.delete(e)},e.prototype.getReactService=function(e){var t=this;return{getXythosIdFromContentFileUrl:this.getXythosIdFromContentFileUrl.bind(this),update:function(n,o){return t.update(e,n,o)},isAvailable:function(){return Object(b.a)(t.isAvailable())},getIndexMapFromBbML:this.getIndexMapFromBbML.bind(this),onUpdate:this.onUpdate.bind(this),destroyListeners:this.destroyListeners.bind(this)}},e=Object(o.__decorate)([Object(o.__param)(0,Object(m.b)("$q")),Object(o.__param)(1,Object(m.b)("$timeout")),Object(o.__param)(2,Object(m.b)("$interval")),Object(o.__param)(3,Object(m.b)(h.a.serviceName)),Object(o.__param)(4,Object(m.b)(r.e)),Object(o.__param)(5,Object(m.b)(a.d)),Object(o.__param)(6,Object(m.b)(l.serviceName)),Object(o.__param)(7,Object(m.b)(c.b))],e)}();!function(e){function t(){return null!==e&&e.apply(this,arguments)||this}Object(o.__extends)(t,e)}(f);angular.module(g,[r.b,a.a,l.moduleName,c.a]).service(v,f)},dCrD:function(e,t,n){"use strict";n.d(t,"a",(function(){return w}));var o=n("D57K"),i=n("nbDY"),s=n.n(i),r=n("Oyr+"),a=n("0JpG"),c=n("RPq7"),l=n("Qbdf"),d=n("nYZ0"),u=n("Vsv2"),p=n("A+IJ"),h=n("+4Px"),m=n("pjml"),b=n("3Jgm"),g=n("e6jQ"),v=n("lEL+"),f=n("TnpK"),y=n("PoQW"),C=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(o.__extends)(t,e),t.Unzip=new t("Unzip"),t.Website=new t("Website"),t.Default=new t("Default"),t}(s.a),w=function(){function e(e,t,n){var o=this;this.scope=t,this.element=n,this.alwaysShow=!1,this.isMenuVisible=!1,this.isButtonVisible=!1,this.isMobile=!1,this.isUploadMultipleFiles=!1,this.removeDefaultRenderClass=!1,this.uuid=Object(g.b)(),this.downloadFile=function(e){o.scope.$broadcast("downloadFile",e)},this.defaultAttachHandler=function(e,t,n,i){var s=i||o.$q.defer(),r={parentId:void 0,positionBefore:"start",positionAfter:void 0,depth:0};return o.isUploadMultipleFiles=n,o.insertLocation=o.getInsertLocationData(),r=t.ui&&t.ui.parentId?{parentId:t.ui.parentId,positionBefore:t.ui.positionBefore,positionAfter:t.ui.positionAfter,depth:t.ui.depth}:o.insertLocation,"folder"===t.type?(o.closeMenu(),!t.ui||t.ui.depth<=p.l?o._addFolderToCourseOutline(t,r).then((function(e){t.ui={parentId:e.id,positionBefore:"start",depth:1+Number(e.depth)},s.resolve(t)}),(function(e){s.reject(e)})):s.resolve()):o._addContentToCourseOutline(t,e,r).then((function(e){o.scope.$root.$broadcast("uploadComplete",t),e.$save().$then((function(n){t.ui&&t.ui.needUnzip&&(e=n),s.resolve()}))})),s.promise},this.toggleAddContentMenu=function(){o.isEmptyFolder()?o.scope.$emit("toggle-folder-by-id",o.scope.content.id):o.isMenuVisible=!o.isMenuVisible,o.timeout((function(){o.scope.$apply()}),o.scope)},this.hideAddContentMenu=function(e){null===e.target.closest("#"+o.getButtonWrapperId())&&(o.isMenuVisible=!1,o.timeout((function(){o.scope.$apply()}),o.scope))},this.$q=e.get("$q"),this.$rootScope=e.get("$rootScope"),this.bbLocalize=e.get(a.serviceName),this.cloudDriveService=e.get(u.c),this.timeout=e.get(v.b),this.contentSvc=e.get(d.e),this.CourseModel=e.get(m.o.serviceName),this.PartnerService=e.get(b.b),this.ultraState=e.get(f.d),this.contextCourse=e.get(l.e),this.scope.addMenuId=g.a(),this.showMenuOverride=this.scope.showMenuOverride,this.alwaysShow=this.scope.alwaysShow,this.currentCourse=this.contextCourse.course,this.isMobile=!this.cloudDriveService.isShowOneDrive,this.isCloudServiceAvailablePromise=this.cloudDriveService.isCloudServiceAvailable(u.a.KLOUDLESS).then((function(e){return o.isCloudServiceAvailable=e})),this.bbLocalize.loadBundle("components/directives/add-content-button").then((function(){var e="content";o.scope.itemIndex&&null!=o.scope.itemIndex()?e="item-index":"discussions"===o.scope.contextArea?e="discussion":"grades"===o.scope.contextArea?e="grades":"course-group"===o.scope.contextArea?e="group":"bbml-editor-single-file"===o.scope.contextArea&&(o.scope.addContentButton.isMenuVisible=!0),o.addButtonAriaLabel=o.bbLocalize.translateSync({locale:o.bbLocalize.getLocale(o.scope),key:"components.directives.add-content-button.aria-label."+e+".add-button-label"});var t="components.directives.add-content-button.aria-label.content."+(o.isMobile?"yourDevice":"yourComputer");if(o.uploadAriaLabel=o.bbLocalize.translateSync({locale:o.bbLocalize.getLocale(o.scope),key:t}),o.scope.itemName||o.scope.itemType){o.scope.$watchGroup(["itemName()","itemType()","itemIndex()"],(function(t){var n=t[0],i=t[1],s=t[2];if(n||i){var r=i?i+"-":"",a=o.scope.positionAfter?"after":"before";o.addButtonAriaLabel=o.bbLocalize.translateSync({locale:o.bbLocalize.getLocale(o.scope),key:"components.directives.add-content-button.aria-label."+e+".add-button-label-item-name-"+r+a,params:{itemName:n,itemIndex:s},noWrap:!0,noEscape:!0})}}))}})),n.mouseover((function(){o.$rootScope.$broadcast("mouseover-add-content-button"),o.scope.$apply((function(){o.scope.addContentButton.showButton()}))})),this.scope.$on("close-all-add-menus",(function(){o.showMenuOverride?o.isEmptyFolder()&&o.scope.content.ui.isOpen&&(o.scope.addContentButton.isMenuVisible=!0):o.scope.addContentButton.isMenuVisible=!1})),this.scope.showBothButtons&&this.scope.showBothButtons()||this.scope.$on("mouseover-add-content-button",(function(){o.scope.addContentButton.hideButton()})),this.scope.$on("content-item-hover",(function(e,t){o.scope.addContentButton.hideButton();var i=function(){var e;return(e=n.closest(".folder-contents").find("bb-add-content-button").first().is(n)?n.closest(".folder-contents").find(".js-content-div .element-list-row").first():n.closest(".js-content-div").next(".js-content-div").find(".element-list-row").first()).hasClass("element-list-row")||(e=n.next().find(".js-content-div").first().find(".element-list-row")),!!e.is(t.element)&&o.scope.addContentButton.showButton()},s=function(){var e=!1;n.closest(".js-content-div").find(".element-list-row").first().is(t.element)&&(e=!0),n.closest(".folder").is(t.element.parent(".folder"))&&(e=!1),t.element.hasClass("js-parent")&&t.element.hasClass("open")&&(e=!1),o.scope.addContentButton.isButtonVisible!==e&&(o.scope.addContentButton.isButtonVisible=e)};o.scope.showBothButtons&&o.scope.showBothButtons()?i()||s():t.relativeMousePosition.isEqualTo(c.a.Top)?i():s()})),this.scope.$on("content-outline-hover-end",(function(){o.scope.addContentButton.hideButton()})),this.scope.$watch("alwaysShow",(function(e){o.alwaysShow=e})),n.on("drop",(function(e){o.closeMenu(),o.scope.$emit(r.e,o.scope.parentId(),o.scope.positionBefore&&o.scope.positionBefore(),o.scope.positionAfter&&o.scope.positionAfter(),o.scope.depth(),void 0,o.scope.content,r.c.AssignDropTarget)})),this.scope.$on("$stateChangeStart",(function(){o.ultraState.includes("**.content-manage.import.**")?o.isMenuVisible=o.isEmptyFolder():o.isMenuVisible=!1,o.timeout((function(){o.scope.$apply()}),o.scope)})),this.scope.$on(r.b,(function(){o.closeMenu()})),this.isMenuVisible=this.scope.showMenuOverride,null!=this.scope.showMenuOverride&&this.scope.$watch((function(){return o.scope.showMenuOverride}),(function(e){o.scope.addContentButton.isMenuVisible=e,o.showMenuOverride=e})),this.getInsertLocationData()}return e.prototype.onKeydown=function(e){e.keyCode===h.g&&this.isMenuVisible&&(this.closeMenu(),this.element.find("a.js-show-add-options").focus(),e.stopPropagation(),e.preventDefault())},e.prototype.showButton=function(){this.isButtonVisible=!0},e.prototype.hideButton=function(){this.isButtonVisible=!1},e.prototype.turnOffAlwaysShow=function(){this.alwaysShow=!1},e.prototype.toggleMenu=function(){var e=this;if(!this.showMenuOverride){var t=this.isMenuVisible;t||this.$rootScope.$broadcast("close-all-add-menus"),this.isMenuVisible||this.timeout((function(){e.element.scrollintoview({duration:250})}),this.scope,0,!1),this.isMenuVisible=!t}},e.prototype.isForceShowAddButton=function(){return this.scope.forceShowAddButton},e.prototype.closeMenu=function(){this.isMenuVisible&&this.toggleMenu()},e.prototype.getInsertLocationData=function(){return this.insertLocation={parentId:this.scope.parentId(),positionBefore:this.scope.positionBefore&&this.scope.positionBefore(),positionAfter:this.scope.positionAfter&&this.scope.positionAfter(),depth:this.scope.depth(),contentId:"create"}},e.prototype.assignPosition=function(){this.closeMenu(),this.scope.$emit("bb-bbml-editor-assign-position",this.getInsertLocationData())},e.prototype._addFolderToCourseOutline=function(e,t){var n=this;return this.contentSvc.makeContentInContentTree(this.scope.rootContent&&this.scope.rootContent(),this.contextCourse.courseId,t.parentId,t.positionBefore,t.positionAfter,!0).then((function(o){var i=o.content;return i.parentId=t.parentId,i.positionBefore=t.positionBefore,i.positionAfter=t.positionAfter,i.isAvailable=!1,i.depth=t.depth,i.description="",i.title=e.name,i.contentDetail={"resource/x-bb-folder":{isFolder:!0}},i.courseId=n.contextCourse.courseId,i.contentHandler=m.r.ContentHandler.Folder,i.$save().$asPromise()}))},e.prototype._addContentToCourseOutline=function(e,t,n){var o=this;return this.contentSvc.makeContentInContentTree(this.scope.rootContent&&this.scope.rootContent(),this.contextCourse.courseId,n.parentId,n.positionBefore,n.positionAfter,!0).then((function(e){return e.content})).then((function(i){return i.parentId=n.parentId,i.positionBefore=n.positionBefore,i.positionAfter=n.positionAfter,i.isAvailable=!1,i.depth=n.depth,i.description="",i.title=t.fileName,i.contentHandler=m.r.ContentHandler.File,i.contentDetail={"resource/x-bb-file":{file:{fileName:t.fileName,fileLocation:t.fileLocation}}},e.ui&&e.ui.needUnzip&&(i.contentDetail["resource/x-bb-file"].action=C.Unzip.toString()),i.courseId=o.contextCourse.courseId,i.$asPromise()}))},e.prototype.getTargetId=function(){return"addContentButton-"+this.uuid},e.prototype.getButtonWrapperId=function(){return"addContentButtonWrapper-"+this.uuid},e.prototype.getDirectionalHint=function(){return y.DirectionalHint.bottomCenter},e.prototype.isEmptyFolder=function(){var e=this.scope,t=e.content,n=e.folderNestedButton;return!!(t&&t.isFolder()&&t.children&&0===t.children.length&&n&&n())},e}()},dJ97:function(e,t,n){"use strict";n.d(t,"a",(function(){return C}));var o=n("D57K"),i=(n("pGPW"),n("w0/N"),n("wHJ2")),s=n("nbDY"),r=n.n(s),a=n("Fvsw"),c=n("yMoE"),l=n("X/qj"),d=n("oi1r"),u=n("o5Lu"),p=n("0JpG"),h=n("pjml"),m=n("fYJU"),b=n("O3Pz"),g=n("cH+F"),v=n("6TNA"),f=n("S6sW"),y=n("pHHL"),C="ultra.grade.display",w=function(e){function t(t,n){var o=e.call(this,t)||this;return o.template=n,o}return Object(o.__extends)(t,e),t.prototype.getTemplateHtml=function(){return this.template.template},t.AttemptStatus=new t("AttemptStatus",{template:b}),t.FinalBase=new t("FinalBase",{template:g}),t.Column=new t("Column",{template:v}),t.Course=new t("Course",{template:f}),t.GradeColor=new t("GradeColor",{template:y}),t}(r.a),S=function(){function e(t,n,o,s,r,a,l,d,u,p){var h=this;this.scope=t,this.attrs=n,this.$q=o,this.$injector=s,this.gradebookPermissionService=a,this.localize=l,this.context=d,this.schemaService=u,this.contextUser=p,this.fullDisplayGrade=e.NO_GRADE_DISPLAY,this.bundlePromise=l.loadBundle("components/directives/grade/display-grade"),this.courseColorClass=t.courseColorClass,this.cursorPointer=t.cursorPointer&&t.cursorPointer(),this.cursorDefault=t.cursorDefault&&t.cursorDefault(),this.isStudent=p.userModel.isStudent(),this.isStudent||a.canViewGrades(this.scope.course&&this.scope.course().id)?(this.scope.$watch("::column",(function(e){if(e){var t=function(e){var t,n=h.scope.$watch("gradeDetail",(function(o){o&&(h.schemaGrade=r.getGradeToDisplay(o.displayGrade,h.scope,h.schema.scaleType),h.setFullDisplayGrade(),(w.GradeColor.isEqualTo(h.scope.gradeType)||w.FinalBase.isEqualTo(h.scope.gradeType))&&(h.gradeDisplayItem=s.instantiate(c.a,{gradeDetail:o,scope:h.scope}),h.scope.$watch("::column",(function(t){t&&h.gradeDisplayItem.init(t,e).then((function(){h.gradeDisplayItem.displayGrade=h.scope.showNotGraded&&h.scope.showNotGraded()?null:o.displayGrade,h.gradeDisplayItem.displayValue&&(h.colorClass=h.gradeDisplayItem.getGradeColor())}))}))),n(),t())}));t=h.scope.$watch("summary",(function(e){h.colorClass="na",e&&(h.schemaGrade=e.averageGradeForStudentsSchemaValue,h.setFullDisplayGrade(),w.FinalBase.isEqualTo(h.scope.gradeType)&&!i.isUndefined(e.averageGradeForStudents)&&(h.colorClass=r.getPercentileColor(e.averageGradeForStudents)),n())}),!0)};h.scope.schema?(h.schema=h.scope.schema,t(h.scope.schema)):u.loadGradeSchema(e).then((function(e){h.schema=e,t()}))}})),w.AttemptStatus.isEqualTo(this.scope.displayType)&&(this.courseColorClass="na",this.attempt?this.attempt.isNeedsGrading()?this.attemptStatus="components.directives.grade.display-grade.pending-grade":this.attempt.isInProgress()&&(this.attemptStatus="components.directives.grade.display-grade.NA"):this.attemptStatus="components.directives.grade.display-grade.NA")):(this.fullDisplayGrade=this.attemptStatus=e.NO_GRADE_DISPLAY,this.colorClass="na")}return e.prototype.setFullDisplayGrade=function(){var t,n=this;if(this.schema&&this.schema.scaleType&&(h.J.ScaleType.Tabular.isEqualTo(this.schema.scaleType)||h.J.ScaleType.Text.isEqualTo(this.schema.scaleType)||h.J.ScaleType.Complete.isEqualTo(this.schema.scaleType)))this.fullDisplayGrade=this.scope.showNotGraded&&this.scope.showNotGraded()?e.NO_GRADE_DISPLAY:this.schemaGrade||e.NO_GRADE_DISPLAY;else if(t=this.scope.showNotGraded&&this.scope.showNotGraded()?e.NO_GRADE_DISPLAY:this.getSchemaGrade(),this.shouldShowPointsPossible()){var o="components.directives.grade.display-grade.";o+=w.Course.isEqualTo(this.scope.gradeType)?"course-score":"score",this.bundlePromise.then((function(){n.fullDisplayGrade=n.localize.translateSync({locale:n.localize.getLocale(n.scope),key:o,params:{grade:t,possible:n.scope.gradeDetail&&n.scope.gradeDetail.pointsPossible||n.scope.column.possible},noWrap:!0})}))}else this.schema&&h.J.ScaleType.Percent.isEqualTo(this.schema.scaleType)&&t!==e.NO_GRADE_DISPLAY?this.bundlePromise.then((function(){n.fullDisplayGrade=n.localize.translateSync({locale:n.localize.getLocale(n.scope),key:"components.directives.grade.display-grade.percent",params:{grade:t},noWrap:!0})})):this.fullDisplayGrade=t},Object.defineProperty(e.prototype,"attempt",{get:function(){return this.scope.attempt&&this.scope.attempt()||this.scope.gradeDetail&&(this.scope.gradeDetail.ui.groupAttempt||this.scope.gradeDetail.ui.attempt)},enumerable:!0,configurable:!0}),e.prototype.getSchemaGrade=function(){var t;try{var n=this.schemaGrade.replace(/[^0-9.,]/g,"");t=this.localize.parseNumberSync(n)}catch(e){t=null}return null!=t&&this.localize.formatNumberSync(t,this.scope,{maximumFractionDigits:u.d.DEFAULT_GRADEBOOK_SETTINGS_AFTER_DECIMAL})||e.NO_GRADE_DISPLAY},e.prototype.shouldShowPointsPossible=function(){return this.schema&&this.schema.scaleType&&h.J.ScaleType.Score.isEqualTo(this.schema.scaleType)&&(h.F.CalculationType.NonCalculated.isEqualTo(this.scope.column.calculationType)||this.scope.gradeDetail&&this.scope.gradeDetail.pointsPossible>0)},e.prototype.getCourseColorClass=function(){return this.courseColorClass},e.prototype.noGradeToDisplay=function(){return this.fullDisplayGrade===e.NO_GRADE_DISPLAY},e.prototype.getNoGradeDisplay=function(){return e.NO_GRADE_DISPLAY},e.prototype.shouldShowRubricButton=function(){return this.scope.showRubricButton&&this.scope.showRubricButton()&&this.scope.column.hasRubricAssociation&&this.scope.column.hasRubricAssociation()},e.prototype.shouldShowRubricDiv=function(){return this.scope.showRubricDiv&&this.scope.showRubricDiv()&&this.scope.column.hasRubricAssociation&&this.scope.column.hasRubricAssociation()},e.prototype.shouldShowRubricEvaluation=function(){return this.scope.column.hasRubricAssociation&&this.scope.column.hasRubricAssociation()&&null!=this.attempt&&this.attempt.isCompleted()&&!this.scope.gradeDetail.isOverrideGrade()},e.NO_GRADE_DISPLAY="--",e.$inject=["scope","attrs","$q","$injector",u.g,l.b,p.serviceName,a.b,d.b,m.b],e}(),k=function(){function e(e,t){var n=this;this.$injector=e,this.$compile=t,this.restrict="E",this.scope={attempt:"&?",gradeDetail:"=",summary:"=",column:"=",schema:"=?",displayType:"@",finalGrade:"&?",translateKey:"@",courseColorClass:"=",isGroupGradeMultiple:"&?",showNotGraded:"&?",overallGradePeekSref:"@?",showRubricButton:"&?",showRubricDiv:"&?",cursorPointer:"&?",cursorDefault:"&?",course:"&?"},this.link=function(e,t,o){e.displayGrade=n.$injector.instantiate(S,{scope:e,attrs:o}),e.gradeType=w.parse(e.displayType)||w.Column,t.append(n.$compile(e.gradeType.getTemplateHtml())(e))}}return e.$inject=["$injector","$compile"],e}();i.module(C,[u.f,l.a]).directive("bbDisplayGrade",["$injector",function(e){return e.instantiate(k)}])},"dL5/":function(e,t){e.exports='<span class="group-count-directive" bb-load-bundle="components/directives/group/group-count">\n  <bb-translate translate-values="{number: $ctrl.content.assignedGroups.length}"\n                ng-if="!$ctrl.isSelfEnrollment()">components.directives.group-count.groups.plural</bb-translate>\n  <bb-translate translate-values="{number: $ctrl.content.assignedGroups.length}"\n                ng-if="$ctrl.isSelfEnrollment()">components.directives.group-count.groups.selfEnroll.plural</bb-translate>\n</span>\n'},e7Kn:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return y}));n("1/hr");var o=n("wHJ2"),i=n("lx16"),s=n("kC07"),r=n("RPq7"),a=n("nYZ0"),c=n("LdA1"),l=n("sLTT"),d=n("D8d/"),u=n("L+81"),p=n("lr7J"),h=n("pjml"),m=n("rtZE"),b=n("lEL+"),g=n("gkef"),v=n("5MwF"),f=n("a8oS"),y="ultra.directives.contentOutline",C=function(){function t(e,t,n,o,i,s,r){var a=this;this.scope=e,this.element=t,this.attrs=n,this.ContentService=o,this.CourseContentModel=i,this.timeout=s,this.windowService=r,this.showContentImportProgress=!1,this.LARGE_CONTAINER_SELECTOR=".bb-offcanvas-panel-wrap .panel-wrap",this.SMALL_CONTAINER_SELECTOR=".bb-offcanvas-panel-wrap .panel-wrap .panel-content",this.contextArea=e.contextArea,this.loadMoreChildren=e.loadMoreChildren,this.parentFolder=e.parentFolder,this.onFileDropHandler=e.onFileDropHandler,this.onMoveHandler=e.onMoveHandler,this.onMoveIntoFolderHandler=e.onMoveIntoFolderHandler,this.canMove=e.canMove&&(!e.contents.permissions||e.contents.permissions.move),this.showMenuOverride=!1,null!=e.contents&&"function"==typeof e.contents.$asPromise&&e.contents.$asPromise().then((function(){a.showMenuOverride=0===e.contents.length})),this.placeholderContent=this.CourseContentModel.$buildRaw({id:this.parentFolder&&this.parentFolder.id&&this.parentFolder.id+"_placeholder",parentId:this.parentFolder&&this.parentFolder.id,contentHandler:h.r.ContentHandler.Unknown.toString(),depth:this.parentFolder&&this.parentFolder.depth&&this.parentFolder.depth+1}),e.$watch("contents.length",(function(t,n){a.showMenuOverride=0===t,a.placeholderContent.id=a.parentFolder&&a.parentFolder.id&&a.parentFolder.id+"_placeholder",a.placeholderContent.parentId=a.parentFolder&&a.parentFolder.id,t<n&&e.$emit("content-outline-infinite-scroll-check")})),e.$eval(n.showContentImportProgress)&&this.addImportPlaceholder(),e.$on("showContentImportProgress",(function(e,t,n){"-1"!==n&&a.parentFolder.id!==n||a.addImportPlaceholder()}))}return t.prototype.addImportPlaceholder=function(){var t=this;this.ContentService.getOrMakeContentInContentTree(this.parentFolder,this.parentFolder.courseId,void 0,this.parentFolder.id,"start").then((function(n){n.content.ui.importPlaceholder=!0,t.timeout((function(){e(".placeholder-container").closest(".js-content-div").scrollintoview({duration:300})}),t.scope,0,!1)}))},t.prototype.getScrollContainerSelector=function(){return this.windowService.isLargeBreakpoint()?this.LARGE_CONTAINER_SELECTOR:this.SMALL_CONTAINER_SELECTOR},t.prototype.isAllContentsLoaded=function(){return!!(this.scope.contents&&this.scope.contents.paging&&this.scope.contents.paging.count)&&this.scope.contents.length>=this.scope.contents.paging.count},t.prototype.shouldShowMenuOverride=function(){return this.parentFolder&&0===this.parentFolder.depth?!v.a.features.learningModule&&this.showMenuOverride:this.showMenuOverride},t.prototype.shouldShowAddButton=function(){return this.scope.isFirst||this.scope.contents&&0===this.scope.contents.length},t.prototype.getContentTrackingId=function(e){return h.r.ContentHandler.File.isEqualTo(e.contentHandler)&&e.ui&&e.ui.fileUploadId?e.ui.fileUploadId:e.id},t.$inject=["scope","element","attrs",a.e,h.r.serviceName,b.b,g.b],t}(),w=function(){function e(e,t){var n=this;this.link=e,this.recursionHelper=t,this.replace=!0,this.restrict="E",this.scope={canCreate:"=",contents:"=",contextArea:"=",loadMoreChildren:"=",isFirst:"=",parentFolder:"=",onFileDropHandler:"=?",onMoveHandler:"=",onMoveIntoFolderHandler:"=?",canMove:"=",canCreateAllContents:"=?",canCopyImport:"=?",hideAddMenuOverride:"=?"},this.compile=function(e){return n.recursionHelper.compile("content-outline-directive",e,n.link)},this.template=f}return e.$inject=["link",m.b],e}();o.module(y,[i.a,s.a,l.a,c.a,r.b,a.d,d.a,u.a,p.b,m.a,g.a]).directive("bbContentOutline",["$injector",a.e,function(e,t){return e.instantiate(w,{link:function(t,n,o){t.contentOutline=e.instantiate(C,{scope:t,element:n,attrs:o})}})}])}).call(this,n("5iHu"))},eWdw:function(e,t,n){},gORw:function(e,t,n){var o=n("ziER"),i=n("5JeM"),s=new o({id:"icon-small-move-item-up-down",use:"icon-small-move-item-up-down-usage",viewBox:"0 0 16 16",content:'<symbol fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" id="icon-small-move-item-up-down"><path d="M5 11V3M7 4L5 2 3 4M11 5v8M9 12l2 2 2-2" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" /></symbol>'});i.add(s);e.exports=s},"gW+2":function(e,t,n){var o=n("ziER"),i=n("5JeM"),s=new o({id:"icon-small-documents",use:"icon-small-documents-usage",viewBox:"0 0 16 16",content:'<symbol fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" id="icon-small-documents"><path d="M1 4h7.0084L11 7v8H1V4z" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" /><path d="M8.0005 4v3h3.0015M4 8h1M4 11h3.9722" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" /><path d="M3 1h11v12" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" /></symbol>'});i.add(s);e.exports=s},ga7A:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var o=n("wHJ2"),i=n("pjml"),s=n("vhkR"),r=n("X455"),a=n("Youf"),c="ultra.components.directives.content.contentItem.contentItemType.contentItemLtilaunch",l=function(){function e(e,t,n){this.scope=e,this.ltiService=t,this.contextCourseMembership=n}return e.prototype.ltiLaunch=function(){var e=this;if(!this.scope.content.getContentDisplay().isLtiLink())throw new Error("Attempted to LTI launch a non-LTI content item. "+this.scope.content.contentHandler.toString());this.ltiService.ltiLaunch({courseId:this.scope.content.courseId,contentId:this.scope.content.id,content:this.scope.content,showPreLaunchPanel:!0}).then((function(){return e.markStart()}))},e.prototype.ltiLinkNeedsApproval=function(){var e=this.ltiService.getDomainConfigStatusType(this.scope.content);return i.O.LTIStatusType.NeedsApproval.isEqualTo(e)},e.prototype.markStart=function(){this.contextCourseMembership.isActAsInstructorMembership()||this.scope.content.state===i.r.StateType.Started||this.scope.content.updateState(i.r.StateType.Started,!0)},e.$inject=["scope",s.c,r.d],e}(),d=function(){function e(e){var t=this;this.$injector=e,this.restrict="E",this.template=a,this.scope=!1,this.link=function(e,n,o){e.contentItemLtiLaunch=t.$injector.instantiate(l,{scope:e,element:n,attrs:o})}}return e.$inject=["$injector"],e}();o.module(c,[s.b,r.a]).directive("bbContentItemLtilaunch",["$injector",function(e){return e.instantiate(d)}])},gkTp:function(e,t,n){var o=n("ziER"),i=n("5JeM"),s=new o({id:"icon-large-unlock",use:"icon-large-unlock-usage",viewBox:"0 0 38 38",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 38 38" id="icon-large-unlock"><g stroke="#767676" fill="none" fill-rule="evenodd"><path fill="#E0E0E0" stroke-linecap="round" stroke-linejoin="round" d="M34.5 37.5h-20c-1.518 0-3-1.802-3-3.5V20c0-1.698 1.482-3.5 3-3.5h20c1.518 0 3 1.889 3 3.587v13.892c0 1.697-1.482 3.521-3 3.521z" /><path fill="#FFF" d="M24.5 32.5c-1.273 0-2-1.227-2-2.5v-6c0-1.273.727-2.5 2-2.5 1.273 0 2 1.227 2 2.5v6c0 1.273-.727 2.5-2 2.5z" /><path d="M18.5 16V9.054C18.5 4.413 15 .5 9.5.5 4.858.5.5 4.413.5 9.054V16" /></g></symbol>'});i.add(s);e.exports=s},hBzJ:function(e,t){e.exports='<bb-modal class="notice notification {{bbNoticeClass}}"\n          modal-title-key="components.directives.notice.modalTitle"\n          analytics-id-tag-prefix="components.directives.notice">\n  <div name="modal-contents">\n    <ul class="notifications" ng-repeat="item in notice.getNotices()">\n      <li class="element-card">\n        <bb-avatar ng-if="!!(item.entrySpecificData && item.entrySpecificData.streamUser)"\n                   user="item.entrySpecificData.streamUser" auto-update="true"></bb-avatar>\n        <div ng-if="!(item.entrySpecificData && item.entrySpecificData.streamUser)" class="element-image">\n          <bb-svg-icon icon="{{::item.icon}}" size="large" color="true"></bb-svg-icon>\n        </div>\n\n        <div class="element-details" >\n          <div class="context"></div>\n          <div class="name">\n            <ng-switch on="(item.body.stateRef && \'linkToPeekState\') ||\n                     (item.body.externalRef && \'linkToExternalUrl\') || \'doNotLink\'">\n              <a ng-switch-when="linkToPeekState"\n                 ng-click="notice.modalDismiss()"\n                 bb-peek-sref="{{item.body.stateRef}}"\n                 ng-bind-html="item.title"\n                 analytics-id="components.directives.notice.peek.state.link"></a>\n              <a ng-switch-when="linkToExternalUrl" ng-click="notice.modalDismiss()"\n                 target="{{item.body.externalRef.target ? item.body.externalRef.target : _self}}"\n                 ng-bind-html="item.title"\n                 ng-href="{{item.body.externalRef.href}}"\n                 analytics-id="components.directives.notice.external.url.link"></a>\n              <span ng-switch-when="doNotLink" ng-bind-html="item.title"></span>\n            </ng-switch>\n          </div>\n          <div class="content">\n            <bb-stream-entry-body type="item.body.type" content="item.body.content"></bb-stream-entry-body>\n          </div>\n        </div>\n      </li>\n    </ul>\n  </div>\n  <button name="modal-footer-button-primary"\n          class="button dismiss-message js-primary-button"\n          ng-click="notice.modalDismiss()"\n          analytics-id="components.directives.notice.dismiss">\n    <bb-translate>components.directives.notice.dismiss</bb-translate>\n  </button>\n</bb-modal>\n'},haDg:function(e,t,n){var o=n("ziER"),i=n("5JeM"),s=new o({id:"icon-medium-announcements",use:"icon-medium-announcements-usage",viewBox:"0 0 24 24",content:'<symbol fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" id="icon-medium-announcements"><path stroke-width="2" stroke-linecap="round" stroke-linejoin="round" d="M5 5h12v9H5z" /><path stroke-width="2" stroke-linejoin="round" d="M1 5h4v9H1z" /><path d="M8 14l3 8h4l-3-8M17 14l6 4V1l-6 4" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" /></symbol>'});i.add(s);e.exports=s},iYZE:function(e,t,n){(function(n){var o,i,s;!function(n,r){"use strict";"object"==typeof e.exports?e.exports=r():(i=[],void 0===(s="function"==typeof(o=r)?o.apply(t,i):o)||(e.exports=s))}(0,(function(){"use strict";var e="function"==typeof n?function(e){return new n(JSON.stringify(e))}:function(e){return JSON.stringify(e)};function t(e,t){t!==e.head&&(e.end?e.end===t&&(e.end=t.n):e.end=t,o(t.n,t.p),o(t,e.head),e.head=t,e.head.n=null)}function o(e,t){e!==t&&(e&&(e.p=t),t&&(t.n=e))}function i(e){if(!(this instanceof i))return new i(e);this.capacity=e>0?e:Number.MAX_VALUE,this.removeAll()}var s=i.prototype;return s.get=function(e){var n=this.hash[e];if(n)return t(this.linkedList,n),JSON.parse(this.data[e].toString())},s.set=function(n,o){var i=this.hash[n];return void 0===o?this:(i||(this.hash[n]={key:n},this.linkedList.length+=1,i=this.hash[n]),t(this.linkedList,i),this.data[n]=e(o),this.linkedList.length>this.capacity&&this.remove(this.linkedList.end.key),this)},s.update=function(e,t){if(this.has(e)){var n=this.get(e);this.set(e,t(n))}return this},s.remove=function(e){var t=this.hash[e];return t?(t===this.linkedList.head&&(this.linkedList.head=t.p),t===this.linkedList.end&&(this.linkedList.end=t.n),o(t.n,t.p),delete this.hash[e],delete this.data[e],this.linkedList.length-=1,this):this},s.removeAll=function(){return this.data={},this.hash={},this.linkedList={length:0,head:null,end:null},this},s.info=function(){return{capacity:this.capacity,length:this.linkedList.length}},s.keys=function(){for(var e=[],t=this.linkedList.head;t;)e.push(t.key),t=t.p;return e},s.has=function(e){return!!this.hash[e]},i}))}).call(this,n("GmLw").Buffer)},jbsW:function(e,t,n){!function(e,t){"use strict";function n(e,n){if(!t.isValidElement(n))return n}function o(e){return function(){for(var t=[],o=0;o<arguments.length;o++)t[o]=arguments[o];return e+"-"+JSON.stringify(t,n)}}function i(){for(var e=[],o=0;o<arguments.length;o++)e[o]=arguments[o];var i=(e.length>=2?e[1]:{})||{},s=Object.keys(i).filter((function(e){return t.isValidElement(i[e])})),r="translate-"+JSON.stringify(e,n);return 0===s.length?r:t.createElement(t.Fragment,{children:[r].concat(s.map((function(e){return i[e]})))})}e.getLocalizeMock=function(){return{translate:i,formatNumber:o("formatNumber"),formatUsername:o("formatUsername"),formatUsernameList:o("formatUsernameList"),formatDate:o("formatDate"),formatTime:o("formatTime"),formatDatetime:o("formatDuration"),formatDuration:o("formatDuration"),formatTimezone:o("formatTimezone"),formatItems:o("formatItems"),formatPercentage:o("formatPercentage"),formatCurrency:o("formatCurrency"),parseTime:o("parseTime"),parseDate:o("parseDate"),parseNumber:o("parseNumber"),regroupNumber:o("regroupNumber"),countDigits:o("countDigits"),getTimeObject:o("getTimeObject"),getFirstDayOfTheWeek:o("getFirstDayOfTheWeek")}},Object.defineProperty(e,"__esModule",{value:!0})}(t,n("ERkP"))},"k+3c":function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var o=n("ZQey"),i=function(e,t,n,o,i,s,r,a,c){this.modalTitle=e,this.modalText=t,this.secondaryButtonText=n,this.primaryButtonText=o,this.modalDismissText=i,this.secondaryButtonStatus=s,this.primaryButtonStatus=r,this.courseStatusName=a,this.courseDescription=c},s=function(){function e(){}return e.Open=new i(".openCourse.modalTitle",".openCourse.modalText",".openCourse.makePrivate",".openCourse.makeComplete","global.cancelTakeMeBack","PRIVATE","COMPLETE",".openCourse.courseStatus",".openCourse.courseDescription"),e.Complete=new i(".completeCourse.modalTitle",".completeCourse.modalText",".completeCourse.makeOpen",".completeCourse.makePrivate","global.cancelTakeMeBack","OPEN","PRIVATE",".completeCourse.courseStatus",".completeCourse.courseDescription"),e.Private=new i(".privateCourse.modalTitle",".privateCourse.modalText","global.cancel",".privateCourse.makeOpen","","","OPEN",".privateCourse.courseStatus",".privateCourse.courseDescription"),e.OpenTermClassic=new i(".openTermClassicCourse.modalTitle",".openTermClassicCourse.modalText","global.cancel","","","","OPEN",".openTermClassicCourse.courseStatus",".openTermClassicCourse.courseDescription"),e.PrivateTermClassic=new i(".privateTermClassicCourse.modalTitle",".privateTermClassicCourse.modalText","global.cancel","","","","PRIVATE",".privateTermClassicCourse.courseStatus",".privateTermClassicCourse.courseDescription"),e.TermOpen=new i(".openTermCourse.modalTitle",".openTermCourse.modalText","global.cancel",".openTermCourse.makeComplete","","","COMPLETE",".openTermCourse.courseStatus",".openTermCourse.courseDescription"),e.TermComplete=new i(".completeTermCourse.modalTitle",".completeTermCourse.modalText","global.cancel",".completeTermCourse.makeOpen","","","OPEN",".completeTermCourse.courseStatus",".completeTermCourse.courseDescription"),e.TermPrivate=new i(".privateTermCourse.modalTitle",".privateTermCourse.modalText","global.cancel","","","","OPEN",".privateTermCourse.courseStatus",".privateTermCourse.courseDescription"),e.OpenClassic=new i(".openClassicCourse.modalTitle",".openClassicCourse.modalText","global.cancel",".openClassicCourse.makePrivate","","","PRIVATE",".openClassicCourse.courseStatus",".openClassicCourse.courseDescription"),e}(),r=function(){function e(e,t){switch(this.course=e,this.status=t,t){case o.a.Open:this.optionsForCurrentStatus=s.Open;break;case o.a.Complete:this.optionsForCurrentStatus=s.Complete;break;case o.a.Private:this.optionsForCurrentStatus=s.Private;break;case o.a.OpenTermClassic:this.optionsForCurrentStatus=s.OpenTermClassic;break;case o.a.PrivateTermClassic:this.optionsForCurrentStatus=s.PrivateTermClassic;break;case o.a.TermOpen:this.optionsForCurrentStatus=s.TermOpen;break;case o.a.TermComplete:this.optionsForCurrentStatus=s.TermComplete;break;case o.a.TermPrivate:this.optionsForCurrentStatus=s.TermPrivate;break;case o.a.OpenClassic:this.optionsForCurrentStatus=s.OpenClassic;break;default:throw new Error("Unknown CourseStatus")}}return e.prototype.getLocalizationKey=function(e){var t=this.course.isOrganization?"organization.outline":"course.outline";return(e||"").startsWith(".")?t+e:e},e.prototype.getStatus=function(){return this.status},e.prototype.getModalTitle=function(){return this.getLocalizationKey(this.optionsForCurrentStatus.modalTitle)},e.prototype.getModalDismissText=function(){return this.getLocalizationKey(this.optionsForCurrentStatus.modalDismissText)},e.prototype.getModalText=function(){return this.getLocalizationKey(this.optionsForCurrentStatus.modalText)},e.prototype.getSecondaryButtonText=function(){return this.getLocalizationKey(this.optionsForCurrentStatus.secondaryButtonText)},e.prototype.getPrimaryButtonText=function(){return this.getLocalizationKey(this.optionsForCurrentStatus.primaryButtonText)},e.prototype.getSecondaryButtonStatus=function(){return this.getLocalizationKey(this.optionsForCurrentStatus.secondaryButtonStatus)},e.prototype.getPrimaryButtonStatus=function(){return this.getLocalizationKey(this.optionsForCurrentStatus.primaryButtonStatus)},e.prototype.getCourseStatusName=function(){return this.getLocalizationKey(this.optionsForCurrentStatus.courseStatusName)},e.prototype.getCourseDescription=function(){return this.getLocalizationKey(this.optionsForCurrentStatus.courseDescription)},e}()},kC07:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return W}));var o=n("D57K"),i=(n("DXZ4"),n("vgq2"),n("v0wN"),n("LC/l"),n("rElr"),n("lwNT"),n("ZKRZ"),n("yCl+"),n("gW+2"),n("/oLk"),n("8sWK"),n("gORw"),n("TOu5"),n("nsO7")),s=n("wHJ2"),r=n("yC9S"),a=n("+O05"),c=n("FpRh"),l=n("laCM"),d=n("cs5G"),u=n("nYZ0"),p=n("bhWV"),h=n("xAaQ"),m=n("ga7A"),b=n("z+6U"),g=n("Fvsw"),v=n("Et3n"),f=n("5Tom"),y=n("Qbdf"),C=n("X455"),w=n("bF8R"),S=n("UioO"),k=n("jhBu"),I=n("Oyr+"),D=n("ujI6"),x=n("0JpG"),T=n("vhkR"),E=n("w9Zy"),$=n("r6lH"),O=n("lEL+"),M=n("Tn43"),A=n("lmMM"),P=n("4nF1"),L=n("IWgv"),B=n("LecS"),F=n("UGfE"),j=n("VdDF"),R=n("Ocaa"),N=n("Sa5G"),_=n("oi1r"),z=n("pjml"),G=n("JNtI"),V=n("0rzL"),H=n("M+Ig"),U=n("TnpK"),q=n("r/An"),K=n("aTRN"),J=n("+4Px"),W="ultra.directives.contentItemBase",Y=function(){function t(e,t,n,o,s,a,c,l,d,u,p,h,m,b,g,v,f,y,C,w){var S=this;this.$q=e,this.$rootScope=t,this.element=n,this.scope=o,this.CourseModel=s,this.schemaService=a,this.contentService=c,this.contextService=l,this.contextCourse=d,this.contextCourseMembership=u,this.courseContentService=p,this.entitlementService=h,this.localizeService=m,this.ltiService=b,this.offcanvasService=g,this.telemetryService=v,this.timeoutService=f,this.ultraState=y,this.allyService=C,this.courseLinkContentHandler=z.r.ContentHandler.CourseLink,this.disableRestricted=!1,this.displayTelemetryUserActivity=!1,this.displayTelemetryDiscussionActivity=!1,this.entitledToDesignAssessment=!1,this.isModifyPermissionLoaded=!1,this.isGettingConfirmationOptions=!1,this.displayGradeInfo=!1,this.isLate=!1,this.scope.shouldShowContent=!0,this.canViewGroups=this.entitlementService.isEntitled(N.w.ViewGroups),this.hasViewGroupsAsAdmin=this.entitlementService.isEntitled(N.w.ViewGroupsAsAdmin),this.courseId=d.courseId?d.courseId:this.ultraState.params.courseId,this.conditionalRelease=w.instantiate(K.a,{scope:o}),this.scope.content.$then((function(e){S.entitlementService.hasAnyCourseEntitlement([N.j.ModifyAssessment,N.j.ViewAssessment],e.courseId).then((function(t){if(S.entitledToDesignAssessment=t,S.isModifyPermissionLoaded=!0,e.canHaveAttempts()&&!S.entitledToDesignAssessment&&e.contentDetail){var n=e.getAssociatedGradingColumn(),o=s.$new(e.courseId).gradebook.columns.$buildRaw(n);S.scope.gradingColumn=o;(S.displayGradeInfo?S.courseContentService.loadContentAndGrades({course:S.CourseModel.$buildRaw({id:e.courseId}),content:e,column:o}):S.$q.when({courseContent:e,gradingColumn:o})).then((function(e){S.displayGradeInfo&&S.scope.gradingColumn.isLate()&&(!e.gradeDetail||e.gradeDetail.ui.attempt.isInProgress())&&(S.isLate=!0),S.isGradeLoaded=!0,e.gradeDetail&&e.gradeDetail.column.id===o.id&&(S.scope.gradeDetail=e.gradeDetail)}))}else S.isLate=!1,S.isGradeLoaded=!0})),S.entitlementService.hasAnyCourseEntitlement([N.v.ViewGrades],e.courseId).then((function(e){S.canViewQuestionAnalysis=e})),S.contextService.getSystemInfo().$asPromise().then((function(e){e.telemetryEnabled&&(S.telemetryService.determineContentSupportsActivityData(S.scope.content).then((function(e){S.displayTelemetryUserActivity=e})),S.displayTelemetryDiscussionActivity=S.shouldShowDiscussionAnalytics())})),S.allyService.isAvailable().then((function(e){e&&S.allyService.isAllySupportedContentItem(S.scope.content)?(S.canShowAlly=!0,S.updateAlly()):S.canShowAlly=!1})),o.content.title||z.r.ContentHandler.UltraAssignment.isEqualTo(S.scope.content.contentHandler)||z.r.ContentHandler.TestLink.isEqualTo(S.scope.content.contentHandler)||S.localizeService.loadBundle("features/course/content/course-content").then((function(){o.content.title=S.localizeService.translateSync({locale:S.localizeService.getLocale(S.scope),key:"course.content.contentTitlePlaceholder"})}));var t=function(e){e.getLinkContentSource().$then((function(e){S.targetContent=e,S.contentHandler=e.contentHandler&&e.contentHandler.toString()}),(function(t){403===t.$response.status&&i.remove(S.scope.contents,(function(t){return t.$pk===e.$pk}))}))};S.scope.$watch("::content.id",(function(){if(z.r.ContentHandler.CourseLink.isEqualTo(S.scope.content.contentHandler))if(S.scope.content.contentDetail)t(S.scope.content);else var e=S.scope.$watch("content.isConditionalReleaseUnlocked()",(function(n){n&&(t(S.scope.content),e())}))})),r.b.OnRootScope(S.scope,"grade-attempt",(function(e,t,n){S.scope.content.id===t&&(S.scope.gradeDetail=n)})),o.content.contentHandler?o.content.isBbPage()?S.contentHandler=z.r.ContentHandler.Document.toString():S.contentHandler=o.content.contentHandler.toString():S.contentHandler=z.r.ContentHandler.Document.toString(),S.disableRestricted=z.r.ContentHandler.PartnerCloud.isEqualTo(S.contentHandler),S.conditionalRelease.getConditions(S.scope.content)})),this.scope.$on("refresh-conditional-release-rules",(function(e,t){S.scope.content.id===t.id&&S.conditionalRelease.getConditions(t)})),this.scope.$on("content-update",(function(e,t){S.scope.content.id!==t.id||S.scope.content.ui.linkSource||(S.scope.content=t),S.scope.content.ui.linkSource&&S.scope.content.ui.linkSource.id===t.id&&(S.scope.content.ui.linkSource=t);var n=S.scope.content.getDueDate();S.scope.dueDate=n&&new Date(n)})),this.scope.$on("bb-update-CR-tooltip",(function(e,t,n,o){t&&(S.conditionalRelease.gradeCriteria&&S.conditionalRelease.gradeCriteria.gradeColumnId)===t.id&&S.conditionalRelease.getConditions(S.scope.content,n,o)})),this.scope.$on("show-override-message",(function(e,t,n){S.scope.content&&S.scope.content.id===n&&(t?(S.scope.shouldShowContent=!1,S.overrideMessage=t):S.scope.shouldShowContent=!0)}));var k=i.once((function(){S.scope.$watch((function(){return S.scope.content.getDueDate()}),(function(e){S.scope.dueDate=e&&new Date(e)}))}));this.scope.$watch("content.contentHandler",(function(){o.content.ui.importPlaceholder||k()})),this.scope.$on("discussion-group-content-update",(function(e,t){S.scope.content&&z.r.ContentHandler.CourseLink.isEqualTo(S.scope.content.contentHandler)&&S.scope.content.contentDetail&&S.scope.content.getLinkContentSource().$then((function(e){e.id===t.id&&S.scope.content.applyGroupSettings(t)}))}))}return t.prototype.isEngagementOutline=function(){return"discussions"===this.scope.contextArea},t.prototype.getDescription=function(){return this.scope.content.systemGeneratedLocalizableDescription?this.localizeService.translateSync({locale:this.localizeService.getLocale(this.scope),key:this.scope.content.systemGeneratedLocalizableDescription.languageKey}):this.scope.content.description},t.prototype.getAriaDescribedBy=function(){var e="content-item-icon-"+this.scope.content.id;return this.scope.content.ui.hasIndicator&&(e+=" activity-indicator-"+this.scope.content.id),e},Object.defineProperty(t.prototype,"peerReviews",{get:function(){return this.scope.content.contentDetail&&this.scope.content.getDeployedAssessment().peerSettings&&this.scope.content.getDeployedAssessment().peerSettings.peerReviewsPerStudent},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"peerDueDate",{get:function(){return this.scope.content.contentDetail&&this.scope.content.getDeployedAssessment().peerSettings&&j.a.parseStringToDate(this.scope.content.getDeployedAssessment().peerSettings.peerReviewDueDate)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isPeerGrading",{get:function(){return this.scope.content.contentDetail&&this.scope.content.getDeployedAssessment()&&this.scope.content.getDeployedAssessment().gradingColumn.peerGrading},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isPeerGradingConfigured",{get:function(){return this.isPeerGrading&&null!=this.peerDueDate&&null!=this.peerReviews},enumerable:!0,configurable:!0}),t.prototype.getDeleteConfirmationKeyAndShowType=function(){var e=this;return this.contentService.generateDeleteConfirmationKey(this.scope.content,this.scope.contextArea).then((function(t){return{confirmationKey:e.scope.content.ui.deleteConfirmationKey,showType:e.scope.content.ui.modalShowType}}))},t.prototype.deleteContent=function(){var e=this;z.r.ContentHandler.CourseLink.isEqualTo(this.scope.content.contentHandler)?this.scope.content.getLinkContentSource().$then((function(t){e._deleteContent(t)})):(this._deleteContent(this.scope.content),this.$rootScope.$broadcast("bb-update-CR-tooltip",this.scope.content.getAssociatedGradingColumn(),"",!0))},t.prototype._deleteContent=function(t){var n=this;z.r.ContentHandler.Discussion.isEqualTo(t.contentHandler)?t.getSoftLinks().$asPromise().then((function(e){e.length?n.$q.all(e.map((function(e){return n.CourseModel.$new(t.courseId).contents.$new(e.courseContent).$fetch().$asPromise().then((function(e){n.$rootScope.$broadcast("deleteContent",e,!1)}))}))).then((function(){n.$rootScope.$broadcast("deleteContent",t)})):n.$rootScope.$broadcast("deleteContent",t)})):this.$rootScope.$broadcast("deleteContent",t);var o=this.element.closest(".js-content-div"),i=o.next(".js-content-div");if(i.length>0)i.find(".js-content-item-base").first().find(".content-title").focus();else{var s=o.prev(".js-content-div");if(s.length>0)s.find(".js-content-item-base").first().find(".content-title").focus();else{var r=o.closest(".folder");r.length>0?r.find(".js-content-item-base").first().find(".content-title").focus():this.timeoutService((function(){e(".js-create").focus()}),this.scope.$root,0,!1)}}},t.prototype.hasSupportedConversation=function(){return!!this.scope.content.hasConversation()&&P.a.create(this.scope.content).supportsConversations()},t.prototype.shouldShowAlertIcon=function(){return this.isLate||this.scope.content.canViewAsInstructor()&&this.isUnlaunchableLtiLink()},t.prototype.shouldShowDiscussionAnalytics=function(){return this.scope.content.contentHandler&&N.g.Discussion.isEqualTo(P.a.create(this.scope.content).viewHandler())},t.prototype.shouldShowScormAnalysisReport=function(){return this.scope.content&&this.entitlementService.isEntitled("course.gradebook.MODIFY",this.scope.content.courseId||this.courseId)&&this.scope.content.isScorm()&&this.scope.content.hasReport()},t.prototype.isUnlaunchableLtiLink=function(){return this.scope.content.id&&this.scope.content.getContentDisplay().isLtiLink()&&!this.scope.content.getContentDisplay().isXplorLtiLink()&&!this.ltiService.getLaunchLinkFromContent(this.scope.content)},t.prototype.showVisibility=function(){return!this.isUnlaunchableLtiLink()},t.prototype.usesEditButton=function(){var e=this.scope.content.getContentDisplay();return e.usesEditButton()&&e.canUseEditButton()},t.prototype.openEditContentPanel=function(){this.ultraState.goPeekState(this.scope.content.getContentDisplay().getEditState(),this.scope.content.getContentDisplay().getEditStateParams())},t.prototype.updateContentVisibility=function(){this.targetContent&&this.scope.content?(this.targetContent.applyAvailabilitySettings(this.scope.content),this._updateVisibility(this.targetContent),this._updateVisibility(this.scope.content)):this.scope.content&&this._updateVisibility(this.scope.content)},t.prototype._updateVisibility=function(e){var t=this;e.visibility=this.contentService.determineVisibility(e.isAvailable);var n=["isAvailable","isPartiallyVisible","adaptiveReleaseRules"],o=e.getAssociatedGradingColumn();o&&(o.visible=e.isAvailable,n.push("contentDetail")),e.withParams({fields:"id"}).$save(n).$asPromise().then((function(){t.$rootScope.$broadcast("content-update",e)}))},t.prototype.updateAlly=function(){this.canShowAlly&&this.allyService.update(this.scope,this.scope.content.id,this.allyService.getXythosIdFromContentItem(this.scope.content))},t.prototype.getOverflowMenu=function(){var e=this;return[{icon:"draw",labelKey:"global.edit",show:function(){var t=e.isGettingConfirmationOptions?e.lastIsEditButtonShow:e.usesEditButton();return e.lastIsEditButtonShow=t,t},onClick:this.openEditContentPanel.bind(this)},{icon:"conversation",labelKey:"components.directives.content-item-base.overflow-menu.open-conversation",show:this.hasSupportedConversation.bind(this),onClick:function(){e.ultraState.goPeekState("conversations",{courseId:e.scope.content.courseId,contentId:e.scope.content.id})}},{icon:"beast-analytics",labelKey:"components.directives.content-item-base.overflow-menu.student-activity",show:function(){return e.displayTelemetryUserActivity&&!e.isAnonymouslyGraded()},onClick:function(){e.ultraState.goPeekState(H.a.ContentActivityInDetail.toString(),{contentId:e.scope.content.id})}},{icon:"beast-analytics",uniqueId:"scorm-analytics-report",labelKey:"components.directives.content-item-base.overflow-menu.view-analytics",show:function(){return e.shouldShowScormAnalysisReport()},onClick:function(){e.ultraState.goPeekState("scorm-analytics-report",{courseId:e.scope.content.courseId,contentId:e.scope.content.id})}},{icon:"beast-analytics",uniqueId:"discussion-insights",labelKey:"components.directives.content-item-base.overflow-menu.view-analytics",show:function(){return e.displayTelemetryDiscussionActivity},onClick:function(){var t=e.scope.content.contentDetail["resource/x-bb-courselink"]?e.scope.content.contentDetail["resource/x-bb-courselink"].linkSourceId:e.scope.content.id;e.ultraState.goPeekState(H.a.DiscussionForumInsights.toString(),{contentId:t,forumContentId:e.scope.content.id})}},{icon:"question-analysis",labelKey:"components.directives.content-item-base.overflow-menu.question-analysis",show:function(){return e.canViewQuestionAnalysis&&e.scope.content.isQuestionAnalysisAvailable()},onClick:function(){e.ultraState.goPeekState("question-analysis.report",{qaContentId:e.scope.content.id})}},{icon:"trash",labelKey:"global.delete",show:function(){return e.scope.content.canDelete()},disable:function(){return e.scope.content.isInForcedSequenceModule()},disableInfo:this.localizeService.translateSync({locale:this.localizeService.getLocale(this.scope),key:"course.content.deleteDisabledDueToFS"}),onClick:this.deleteContent.bind(this),confirmationOptions:{lazyLoadTitleKeyAndInstructionsKey:function(){return e.isGettingConfirmationOptions=!0,e.getDeleteConfirmationKeyAndShowType().then((function(t){var n=t.confirmationKey.replace(/^resource\//,"");return e.isGettingConfirmationOptions=!1,e.$q.when(G.a(n))}))}}},{icon:"download",labelKey:"ally.context_menu.download_original_file",show:function(){return e.canShowAlly},onClick:function(){window.open(e.scope.content.getContentDisplay().contentUrl(),"_blank")}},{labelKey:"ally.context_menu.view_accessibility_score",icon:"ally-indicator-unscored",show:function(){return e.canShowAlly},onClick:function(){},additionalAttributes:{"data-ally-show":"instructorfeedback","data-ally-content-ref":this.scope.content.id,"data-ally-invoke":"instructorfeedback",style:"display:none;",onkeydown:"(function(e) {\n              if (e.keyCode === "+J.f+" || e.keyCode === "+J.t+') {\n                $(e.target).closest("li").click();\n              }\n              })(event)'}},{icon:"ally-alt-formats",labelKey:"ally.context_menu.download_alternative_formats",show:function(){return e.canShowAlly},onClick:function(){},additionalAttributes:{"data-ally-show":"alternativeformats","data-ally-content-ref":this.scope.content.id,"data-ally-invoke":"alternativeformats",style:"display:none;",onkeydown:"(function(e) {\n                if (e.keyCode === "+J.f+" || e.keyCode === "+J.t+') {\n                 $(e.target).closest("li").click();\n                }\n              })(event)'}}]},Object.defineProperty(t.prototype,"deployedAssessment",{get:function(){return this.scope.content&&this.scope.content.getDeployedAssessment()},enumerable:!0,configurable:!0}),t.prototype.isAnonymouslyGraded=function(){var e=this.scope.content.getAssociatedGradingColumn();return e&&e.anonymousGrading},t.prototype.editGroups=function(){return Object(o.__awaiter)(this,void 0,void 0,(function(){var e,t,n;return Object(o.__generator)(this,(function(o){switch(o.label){case 0:return t=this.scope.content.id,this.scope.content.isAssignment()||this.scope.content.isTest()?(e=this.deployedAssessment.gradingColumn.id,[3,3]):[3,1];case 1:return e=this.scope.gradeColumn&&this.scope.gradeColumn.id,z.r.ContentHandler.CourseLink.isEqualTo(this.scope.content.contentHandler)&&this.scope.content.contentDetail?[4,this.scope.content.getLinkContentSource().$asPromise()]:[3,3];case 2:n=o.sent(),t=n.id,o.label=3;case 3:return this.ultraState.goPeekState("course-group",{groupCourseId:this.scope.content.courseId||this.ultraState.params.courseId,groupContentId:t,groupColumnId:e}),[2]}}))}))},t.prototype.showOverflowMenu=function(){var e=this.scope.content;return e.canDelete()||e.canViewAsInstructor()||this.usesEditButton()||e.hasConversation()||this.canShowAlly&&!e.isConditionalReleaseLocked()},t.prototype.openAssessmentItem=function(){a.a.isExternalSubmissionsAssessment(this.scope.content)?this.ultraState.goPeekState("assessment.external-overview",{contentId:this.scope.content.id}):this.ultraState.goPeekState("assessment.overview",{contentId:this.scope.content.id})},t.prototype.markCompleted=function(){this.contextCourseMembership.isActAsInstructorMembership()||this.scope.content.state===z.r.StateType.Completed||this.scope.content.updateState(z.r.StateType.Completed,!0)},t.$inject=["$q","$rootScope","element","scope",z.o.serviceName,_.b,u.e,g.b,y.e,C.d,w.b,k.b,x.serviceName,T.c,E.e,$.b,O.b,U.d,d.b,"$injector"],t}(),Q=function(){function e(e){var t=this;this.$injector=e,this.restrict="E",this.scope={content:"=",contents:"=",contextArea:"=",canMove:"="},this.template=q,this.link=function(e,n){e.contentItemBase=t.$injector.instantiate(Y,{scope:e,element:n}),e.$on(I.e,(function(t,o,i,s){s===I.c.FileDrop&&e.content===i.content&&(i.targetElement=n.find(".bb-progress"),e.$root.$broadcast(I.e,o,i,e.content.ui.fileUploadId,i.targetElement,I.c.LinkProgress))}))}}return e.$inject=["$injector"],e}();s.module(W,[p.a,h.a,m.a,b.a,S.a,v.a,f.b,T.b,E.d,A.c,L.a,F.a,B.a,R.a,D.c,x.moduleName,u.d,w.a,_.a,G.b,V.a,M.a,c.a,l.a]).directive("bbContentItemBase",["$injector",function(e){return e.instantiate(Q)}])}).call(this,n("5iHu"))},kbqV:function(e,t,n){var o=n("ziER"),i=n("5JeM"),s=new o({id:"icon-large-grades",use:"icon-large-grades-usage",viewBox:"0 0 38 38",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 38 38" id="icon-large-grades"><path fill="#FFF" d="M7 37.5c-.827 0-1.5-.673-1.5-1.5V2c0-.827.673-1.5 1.5-1.5h14.609l1.979 7.912 7.912 1.979V36c0 .827-.673 1.5-1.5 1.5H7z" /><path fill="#767676" d="M21.219 1l1.811 7.243.146.582.582.146L31 10.781V36c0 .551-.449 1-1 1H7c-.551 0-1-.449-1-1V2c0-.551.449-1 1-1h14.219M22 0H7C5.9 0 5 .9 5 2v34c0 1.1.9 2 2 2h23c1.1 0 2-.9 2-2V10l-8-2-2-8z" /><path fill="#E0E0E0" d="M22.996 10.5c-.825 0-1.496-.673-1.496-1.5V.5h.5c.132 0 .26.053.354.146l9 9.002A.505.505 0 0 1 31.5 10v.5h-8.504z" /><path fill="#767676" d="M22 1l9 9h-8.004C22.447 10 22 9.551 22 9V1m0-1h-1v9c0 1.1.898 2 1.996 2H32v-1a.995.995 0 0 0-.293-.706l-9-9.003A1.0056 1.0056 0 0 0 22 0z" /><path fill="#FFF9CC" d="M19.24 32.5c-.161 0-.32-.087-.415-.229-.055-.08-.134-.248-.048-.464L20.66 27.1a.511.511 0 0 1 .11-.167l9.754-9.754c.284-.284.661-.44 1.062-.44s.778.156 1.062.44l1.41 1.41c.586.586.586 1.539 0 2.125l-9.752 9.752a.4759.4759 0 0 1-.169.112l-4.707 1.883a.4895.4895 0 0 1-.19.039z" /><path fill="#767676" d="M31.587 17.239c.268 0 .52.104.709.294l1.41 1.41c.391.391.391 1.027 0 1.418l-9.753 9.753-4.711 1.879 1.884-4.708 9.752-9.752a.997.997 0 0 1 .709-.294m0-1c-.513 0-1.025.196-1.416.587l-9.752 9.752a.9988.9988 0 0 0-.222.337l-1.883 4.708c-.277.69.259 1.377.926 1.377.123 0 .25-.023.378-.074l4.708-1.883c.126-.05.241-.126.337-.222l9.752-9.752c.782-.782.782-2.05 0-2.832l-1.41-1.41a2.0025 2.0025 0 0 0-1.418-.588z" /><path fill="#FFD8D6" d="M32.646 21.42l1.059-1.058a.997.997 0 0 0 .294-.709.993.993 0 0 0-.294-.709l-1.41-1.41a.997.997 0 0 0-.709-.294.993.993 0 0 0-.709.294l-1.058 1.058" /><path fill="#767676" d="M29.4654 17.5305l4.2426 4.2426-.7071.7071-4.2426-4.2426zM21.6877 26.723l2.8284 2.8283-.7071.7071-2.8284-2.8284z" /><path fill="none" stroke="#CDCDCD" stroke-linecap="round" stroke-miterlimit="10" d="M10.5 15.5h16M10.5 19.5h9M10.5 23.5h5M10.5 31.5h5M10.5 27.5h5" /></symbol>'});i.add(s);e.exports=s},kkIh:function(e,t,n){"use strict";(function(e){n.d(t,"b",(function(){return J})),n.d(t,"a",(function(){return X}));var o=n("D57K"),i=n("nsO7"),s=n("5MwF"),r=n("wgY5"),a=n("/C4M"),c=n("9zo4"),l=n("kxl5"),d=n("gkef"),u=n("Vsv2"),p=n("Dt14"),h=n("IiJs"),m=n("n0mJ"),b=n("nYZ0"),g=n("Fvsw"),v=n("Qbdf"),f=n("ZzN+"),y=n("go4a"),C=n("AI52"),w=n("Sa5G"),S=n("5KgE"),k=n("0+Qs"),I=n("NDLj"),D=n("0JpG"),x=n("pjml"),T=n("w9Zy"),E=n("QIw5"),$=n("lEL+"),O=n("hkqm"),M=n("TnpK"),A=n("1zDl"),P=n("JfV0"),L=n("12mu"),B=n("qSNv"),F=n("jhBu"),j=n("fYJU"),R=n("k+3c"),N=n("ZQey"),_=n("W6wm"),z=n("Sf7l"),G=n("t3at"),V=n("s7x+"),H=n("S1rJ"),U=n("ahTn"),q=n("8nBA"),K=n("cs5G"),J="ultra.course.outline.controller",W=function(e){return Q(x.sb.QueueTaskStatus.Complete,e)},Y=function(e){return Q(x.sb.QueueTaskStatus.CompleteErrors,e)},Q=function(e,t){return"string"==typeof t?t===e.toString():e.isEqualTo(t)},Z="course",X=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(o.__extends)(t,e),t}(function(t){function n(e,n,o,i,r,a,c,l,d,u,p,h,m,g,v,f,C,S,k,I,D,$,O,M,A,P,L,B,F,j,R,z,G,V){var H=t.call(this,e,o,i,j,C,x.r.ContentRootNode.ROOT,_.a.CourseOutline,z,f,g,m,M,L,k)||this;H.$scope=e,H.$rootScope=n,H.CourseModel=o,H.CourseContentModel=i,H.collab=r,H.collabUltra=a,H.CourseMembershipModel=c,H.context=l,H.cloudDrive=d,H.kloudService=u,H.firstTimeHelper=p,H.$modal=h,H.ultraState=m,H.interval=g,H.timeout=v,H.bbLocalize=f,H.contentService=C,H.$log=S,H.$q=k,H.exportService=I,H.toast=D,H.ScheduledTaskModel=$,H.ConversionService=O,H.accessibility=M,H.windowSizeService=A,H.copyContent=P,H.$ngRedux=L,H.entitlementService=B,H.announcementPermissionsService=F,H.contextCourse=j,H.modalService=R,H.allyService=z,H.contextUser=G,H.oneDriveBizLink=V,H.collabUltraEnabled=!1,H.runningSessionFlag=!1,H.attendanceEnabled=!1,H.showVirtualClassroom=!1,H.isCollabConfigLoaded=!1,H.isAnnouncementsEnabled=!1,H.canViewGroups=!1,H.isGroupToolEnabled=!1,H.studentAccessGuidanceKey="student.access",H.navigationGuidanceKey="course.nav",H.alertCourseGuidanceKey="course.alert",H.questionBanksNavGuidanceKey="question.banks.nav.key",H.addContentGuidanceKey="course.addContent",H.canExport=!1,H.canArchive=!1,H.canAccessBatchEdit=!1,H.showContentImportProgress=!1,H.showImportCopyStatusBar=!1,H.showPreviewButton=!1,H.multiContentImportProgress=new Map,H.hasCheckedForImports=!1,H.isLoading=!0,H.refreshingFolderIds={},H.isLearningModuleEnabled=s.a.features.learningModule||!1,H.announcementsPostedCount=-1,H.announcementsTotalCount=-1,H.groupSetCount=-1,H.groupCount=-1,H.groupSets=[],H.isLoadingGroupInfo=!0,H.trayLocalizationKeysPrefix="course.outline.content.copy",H.trayId="granular-content-import-tray",H.COPY_TASK_TYPE="C",H.granularContentImportQueue=[],H.handleOutlineMenuToggle=function(e){H.$scope.isOutlineMenuOpen=e,H.shouldShowCopyDetailsOverflowGuidance=H.hasCurrentCopyDetailsErrors&&e},H.openCopyDetailsPanel=function(){H.copyDetailsNotificationDismissed(),H.goPeekState.call(H,"content-manage.copy-details",{})},H.copyDetailsNotificationDismissed=function(){H.shouldShowCopyDetailsNotification=!1,H.copyContent.resetCopyDetailsNotificationCount()},e.courseOutline=H,H.shouldShowOutlineGuidance=!1,H.canViewGroupsAsAdmin=H.entitlementService.isEntitled(w.w.ViewGroupsAsAdmin),H.showPreviewButton=H.entitlementService.isEntitled("course.content.MODIFY"),e.course&&(e.course.headerKey="course.outline.headerLabel"),H.courseId=j.courseId,H.currentCourse=H.$scope.course.model,H.courseColorClass=y.a(H.$scope.course.membership),H.outlineLocalePrefix=H.currentCourse.isOrganization?"organization.outline":"course.outline",H.exportModalTitleKey=H.currentCourse.isOrganization?"organization.export.modal.modalTitle":"course.export.modal.modalTitle",H.$scope.previewModalTitleKey=H.currentCourse.isOrganization?"organization.outline.previewCourse.modalTitle":"course.outline.previewCourse.modalTitle",H.announcementPermissions=H.announcementPermissionsService.getCourseAnnouncementsPermissions(),H.currentCourse&&(H.canMove=!H.currentCourse.isComplete(),H.setCourseStatus(),H.currentCourse.schedule.$refresh({sort:"location(desc)"}).$allow([403]),H.updateBatchEditStatus()),H._setInstructors(),H.contentService.fetchIndicators(H.courseId,!0).then((function(e){H.updateIndicators(e)})),H.indicatorRefreshInterval=H.interval((function(){H.contentService.fetchIndicators(H.courseId,!0).then((function(e){H.updateIndicators(e)}),(function(e){H.interval.cancel(H.indicatorRefreshInterval)}))}),e,b.b,0,!1),H.courseOutlineRefreshDeregister=e.$on("course-outline.refresh-folder",(function(e,t,n){var o=t?H.rootNode.findInTreeById(t):H.rootNode;t=t||"ROOT",o&&!H.refreshingFolderIds["node-"+t]&&(H.refreshingFolderIds["node-"+t]=!0,o.hasMoreChildren=!0,o.children=null,H.loadMoreChildren(o,n).$then((function(){delete H.refreshingFolderIds["node-"+t]})))})),e.$on("collab-exit",(function(){H.initCollabSession()})),e.$on("bb-announcement-panel-close",(function(){H.getAnnouncementsCount()})),e.$on("group-set-update",(function(){H.$rootScope.$broadcast("course-outline.refresh-folder")})),e.$on("content-update",(function(e,t){H.getGroupAndSetCount(t.courseId)})),e.$watch("courseOutline.rootNode.children.length",(function(e,t){e!==t&&H.recalculateEmptyState()}));var U=H.contentService.indicatorCacheService.$onClassConversationIndicatorRemoved((function(e,t,n,o){t===H.$scope.course.model.id&&(o||H.dismissContentIndicators(n))})),q=H.contentService.indicatorCacheService.$onGroupConversationIndicatorRemoved((function(e,t,n,o){t===H.$scope.course.model.id&&(o||H.dismissContentIndicators(n))}));return e.$on("$destroy",(function(){U(),q()})),H.currentCourse&&H.currentCourse.canEdit()&&H.currentCourse.isOpen()&&(x.o.CourseDuration.DateRange.isEqualTo(H.currentCourse.durationType)?H._openAlertModal():H.currentCourse.term&&x.o.CourseDuration.UseTerm.isEqualTo(H.currentCourse.durationType)&&H.currentCourse.term.$fetch().$asPromise().then((function(e){x.Nb.TermDuration.DateRange.isEqualTo(e.durationType)&&H._openAlertModal()}))),H.currentCourse.getStatus().isEqualTo(N.a.Private)?(H.showVirtualClassroom=!1,H.isCollabConfigLoaded=!1):s.a.features.collab||H.loadCollabConfig(),H.connectToRedux(),H.rootNode.children.$asPromise().then((function(){p.hasBeenShown(H.studentAccessGuidanceKey).then((function(e){H.shouldShowAccessGuidanceOpenToStudent=!e&&H.rootNode.children.canCreate()&&!H.$scope.course.model.isAvailable,H.shouldShowAccessGuidanceOpenToStudent?H.shouldShowNavigationGuidance=!1:p.hasBeenShown(H.navigationGuidanceKey).then((function(e){H.shouldShowNavigationGuidance=!e}))})),p.hasBeenShown(H.questionBanksNavGuidanceKey).then((function(e){H.shouldShowQuestionBanksGuidance=!e})),H.checkIfCollabUltraIsAvailable(),H.checkIfAttendanceIsAvailable(),H.getAnnouncementsCount(),H.getCourseGroupSetCount(),H.shouldShowOutlineGuidance=H.rootNode.children.canCreate(),H.rootNode.children.length>1&&p.fadeAddContentButton(H.$scope,H.addContentGuidanceKey,Z),u.getInstitutionAccount().then((function(e){H.instAccount=e,u.getKloudlessAccounts().then((function(t){H.connectedInstAccount=u.getConnectedInstitutionAccount(e,t),"onedrivebiz"===H.instAccount.type&&H.connectedInstAccount&&u.getOneDriveLink(H.connectedInstAccount).then((function(e){H.oneDriveBizLink=e})).catch((function(e){console.error(e)}))}))})),H.timeout((function(){H.isLoading=!1}),e)})),H.$scope.$on(T.b,(function(e,t){p.hasBeenShown(H.studentAccessGuidanceKey).then((function(e){H.shouldShowAccessGuidanceOpenToStudent=!e&&H.rootNode.children.canCreate()&&!H.$scope.course.model.isAvailable})),p.hasBeenShown(H.navigationGuidanceKey).then((function(e){H.shouldShowNavigationGuidance=!e})),p.hasBeenShown(H.questionBanksNavGuidanceKey).then((function(e){H.shouldShowQuestionBanksGuidance=!e})),H.rootNode.children.length>1&&p.fadeAddContentButton(H.$scope,H.addContentGuidanceKey,Z)})),H.showTooltip=!1,H.isExportSuccess=!1,H.canExport=H.currentCourse.canExport(),H.canArchive=H.currentCourse.canArchive(),(H.canExport||H.canArchive)&&(H.exportService.getExportsAndScheduledTasks(H.courseId,H.currentCourse.courseId,!0,H.canExport,H.canArchive).then((function(e){e.scheduledTasks&&e.scheduledTasks.length>0&&H._setExportTaskStatusCheckInterval()})),e.$on("start-task-status-check",(function(){H._setExportTaskStatusCheckInterval()}))),E.a.Already.isEqualTo(m.params.enrollmentMessage)&&D.show({messageKey:H.outlineLocalePrefix+".alreadyEnrolled"}),e.$on("$destroy",(function(){H.courseOutlineRefreshDeregister(),H.indicatorRefreshInterval&&(H.interval.cancel(H.indicatorRefreshInterval),H.indicatorRefreshInterval=null),(H.canExport||H.canArchive)&&H._cancelExportTaskStatusCheckInterval(),H._cancelCheckImportCopyInterval(),e.course.isEditingCourseName&&(e.course.model.name?e.course.updateCourseName():(e.course.model.name=e.course.previousCourseName,e.course.isEditingCourseName=!1)),(H.currentCourse.canCopy()||H.currentCourse.canImport())&&H.cancelImportWatchers()})),H.currentCourse.canCopy()&&(H._handleInProgressCopyTasks(),H.updateCopyDetailsAlerts(),H.hasCheckedForImports=!0),H.currentCourse.canImport()&&H._checkInProgressImportTask(),e.$on("showContentImportProgress",(function(e,t,n){H.showImportCopyStatusBar&&(H.showImportCopyStatusBar=!1),H.workingImportCopyTaskId=t,H.showContentImportProgress=!0,H._setCheckImportCopyInterval(t)})),e.$on("addImportTaskWatchers",(function(e,t){H._queueLoadingMessagesForTasks(t)})),H.ConversionService.isPreview(H.currentCourse)&&H.ConversionService.showPreviewAlert&&A.isSmallBreakpoint()&&(H.openPreviewAlertModal(),H.ConversionService.showPreviewAlert=!1),e.$on("add-outline-schedule",(function(e,t){H.currentCourse.schedule.push(t)})),e.$on("delete-outline-schedule",(function(e,t){var n;H.currentCourse.schedule.forEach((function(e,o){e.itemSourceId===t.itemSourceId&&(n=o)})),H.currentCourse.schedule.$remove(H.currentCourse.schedule[n])})),e.$on("membership.update",(function(e,t,n,o,i,s,r,a){o||i||s||n?(H.updateCourseRole(),H.fetchCourseAndSetInstructor()):H.updateUserInMemberships(H.$scope.course.model.instructorsMembership,r)})),e.$on("deleteMembership",(function(e,t,n,o){n&&H.fetchCourseAndSetInstructor()})),e.$on("roster-enroll-saved-success",(function(e,t,n){n&&H.fetchCourseAndSetInstructor()})),H.loadGroupSets(),H.loadGroups(),H}return Object(o.__extends)(n,t),n.prototype._queueLoadingMessagesForTasks=function(e){var t=this;i.forEach(e,(function(e){var n=t.$q((function(n,o){t._waitForTaskToComplete(e,n,o)}));t.cancelLoading=t.toast.showLoading({trayId:t.trayId,trayLocalizationKeysPrefix:t.trayLocalizationKeysPrefix,promise:n})}))},n.prototype.updateCourseRole=function(){var e=this;this.CourseModel.$find(this.$scope.course.model.id).memberships.$find(this.$scope.course.membership.id,{fields:"courseRole"}).$then((function(t){e.$scope.course.membership.courseRole=t.courseRole}))},n.prototype.fetchCourseAndSetInstructor=function(){var e=this;this.CourseModel.$find(this.$scope.course.model.id,{fields:"instructorsMembership.*"}).$then((function(t){e.$scope.course.model.instructorsMembership=t.instructorsMembership,e._setInstructors()}))},n.prototype.updateUserInMemberships=function(e,t){if(t){for(var n=e.length,o=0;o<n;o++)if(e[o].user.id===t.id){e[o].user=t;break}this._setInstructors()}},n.prototype.hideExportMoment=function(){this.showTooltip&&(this.showTooltip=!1,e(document)[0].removeEventListener("click",this.hideExportMoment,!0))},n.prototype.showExportMoment=function(){this.showTooltip=!0,e(document)[0].addEventListener("click",this.hideExportMoment.bind(this),!0)},n.prototype.loadCollabConfig=function(){var e=this;return this.isCollabConfigLoaded=!0,this.collab.getCollabSessions(this.courseId).then((function(t){x.p.CollabAccessType.APOLLO.isEqualTo(t.collabAccessType)?(e.showVirtualClassroom=!0,e.collabSessionId=t.sessionId):e.showVirtualClassroom=!1}),(function(t){e.showVirtualClassroom=!1,t.$response.status=null}))},n.prototype.openPreviewAlertModal=function(){this.modalInstance=this.$modal.open({template:z,scope:this.$scope,resolve:{translations:[D.serviceName,function(e){return e.loadBundle("features/course/outline/course-outline")}]}})},n.prototype._openAlertModal=function(){var e=this;this.currentCourse.endDate&&this.currentCourse.endDate<this.context.getServerTime()&&this.$modal.open({template:G,scope:this.$scope,resolve:{translations:[D.serviceName,function(e){return e.loadBundle("features/course/outline/course-outline")}]}}).result.then((function(){e.updateCourseStatus(N.a.Complete)}),(function(){e.firstTimeHelper.hasBeenShown(e.alertCourseGuidanceKey).then((function(t){e.shouldShowAccessGuidanceReadOnly=!t}))}))},n.prototype.checkIfCollabUltraIsAvailable=function(){var e=this;s.a.features.collab&&this.collabUltra.getCollabB2Info().then((function(t){var n=t.$response;403===n.status||404===n.status?e.$log.debug("[Collab-ultra] getCollabB2Info() returned status: "+n.status):200===n.status&&e.initCollabSession()}),(function(t){e.$log.error("[Collab-ultra]: Error in getCourseCollab(): "+t),t.$response.status=null}))},n.prototype.initCollabSession=function(){var t=this;this.collabUltraEnabled=!1,this.runningSessionFlag=!1,this.courseRoomSession=null,this.courseSessionList=[],this.runningSessionList=[],this.$q.all([this.collabUltra.getCourseCollab(this.courseId).then((function(n){var o=n.filter((function(e){return e.sessionInstances&&e.sessionInstances.length>0}));t.runningSessionList=t.runningSessionList.concat(o),t.collabPermissions=e.extend({},n.permissions),Array.isArray(n)&&n.length>0?(t.courseRoomSession=n[0],e.extend(t.collabPermissions,t.courseRoomSession.permissions)):t.$log.debug("[Collab-ultra]: Course room does not exist!"),t.collabUltraEnabled=!0}),(function(e){t.$log.error("[Collab-ultra]: Error in getCourseCollab(): "+e),e.$response.status=null})),this.collabUltra.getAllCollabSessions(this.courseId).then((function(e){t.courseSessionList=e.filter((function(e){return e.active}));var n=t.courseSessionList.filter((function(e){return e.sessionInstances&&e.sessionInstances.length>0}));t.runningSessionList=t.runningSessionList.concat(n),t.collabUltraEnabled=!0}),(function(e){t.$log.error("[Collab-ultra]: Error in getAllCollabSessions(): "+e),e.$response.status=null}))]).then((function(){t.runningSessionFlag=t.runningSessionList.length>0}))},n.prototype.joinSession=function(e){e||(this.courseRoomSession&&this.courseRoomSession.courseRoomEnabled?e=this.courseRoomSession.id:this.courseSessionList&&this.courseSessionList.length>0&&(e=this.courseSessionList[0].id));var t=window.open();this.collabUltra.getLaunchUrl(this.courseId,e).then((function(e){t.location.href=e}),(function(){t.close()}))},n.prototype.canCreateGroups=function(){return this.entitlementService.isEntitled(w.w.CreateGroups)},n.prototype.courseRoomExists=function(){return!!this.courseRoomSession},n.prototype.isCourseRoomEnabled=function(){return!(!this.courseRoomSession||!this.courseRoomSession.courseRoomEnabled)},n.prototype.isCollabSettingsDropDownAvailable=function(){if(this.collabPermissions)for(var e=0,t=Object.keys(this.collabPermissions);e<t.length;e++){var n=t[e];if(!0===this.collabPermissions[n]&&"joinSession"!==n)return!0}return!1},n.prototype.activeSessionCount=function(){var e=0;return this.courseRoomSession&&this.courseRoomSession.courseRoomEnabled&&e++,this.courseSessionList&&(e+=this.courseSessionList.length),e},n.prototype.enableCourseRoom=function(){var e=this;this.collabUltra.enableCourseRoom(this.courseId,this.courseRoomSession.id).then((function(t){e.courseRoomSession.courseRoomEnabled=t.courseRoomEnabled}))},n.prototype.disableCourseRoom=function(){var e=this;this.collabUltra.disableCourseRoom(this.courseId,this.courseRoomSession.id).then((function(t){e.courseRoomSession.courseRoomEnabled=t.courseRoomEnabled}))},n.prototype.checkIfAttendanceIsAvailable=function(){var e=this;this.currentCourse.isToolAvailable("bb-attendance").then((function(t){e.attendanceEnabled=t}))},n.prototype.getAnnouncementsCount=function(){var e=this;this.currentCourse.isToolAvailable("announcements").then((function(t){e.isAnnouncementsEnabled=t,e.isAnnouncementsEnabled&&e.currentCourse.getAnnouncementsCount().then((function(t){t&&(e.announcementsPostedCount=t.postedCount,e.announcementsTotalCount=t.postedCount||0,e.announcementPermissions.viewUnposted&&(e.announcementsTotalCount+=(t.draftCount||0)+(t.scheduledCount||0)))})).catch((function(e){e.$response.status=null}))}))},n.prototype.getCourseGroupSetCount=function(){var e=this;this.currentCourse.isToolAvailable("groups").then((function(t){(e.isGroupToolEnabled=t,e.isGroupToolEnabled)&&(e.entitlementService.areAnyEntitled([w.w.CreateGroups,w.w.ViewGroups,w.w.ViewGroupsAsAdmin,w.w.ModifyGroups,w.w.DeleteGroups])&&e.getGroupAndSetCount(e.currentCourse.id).then((function(t){e.canViewGroups=e.entitlementService.areAnyEntitled([w.w.ViewGroups,w.w.ViewGroupsAsAdmin])})).catch((function(t){e.canViewGroups=!1})))}))},n.prototype.getCourseStatus=function(){return this.bbLocalize.translateSync({locale:this.bbLocalize.getLocale(this.$scope),key:this.$scope.currentCourseStatus.getCourseStatusName()})},n.prototype.getCourseDescription=function(){return this.bbLocalize.translateSync({locale:this.bbLocalize.getLocale(this.$scope),key:this.$scope.currentCourseStatus.getCourseDescription()})},n.prototype.setCourseStatus=function(){this.currentCourse.isOpen()?this.$scope.currentCourseStatus=new R.a(this.currentCourse,N.a.Open):this.currentCourse.isPrivate()?this.$scope.currentCourseStatus=new R.a(this.currentCourse,N.a.Private):this.$scope.currentCourseStatus=new R.a(this.currentCourse,N.a.Complete)},n.prototype.hasConversionReport=function(){return this.context.getUltraConversionReportId()&&this.currentCourse.canConvert()},n.prototype.openModal=function(){var e=this;this.setCourseStatus(),this.ConversionService.isPreview(this.currentCourse)?(this.modalInstance=this.$modal.open({template:V,scope:this.$scope,resolve:{translations:[D.serviceName,function(e){return e.loadBundle("features/course/outline/course-outline")}]}}),this.modalInstance.result.then((function(t){t&&(e.updateCourseStatus(t),e.$rootScope.$broadcast("confirmNewExperience"))}))):(this.$scope.currentAnalyticsId="course.outline.updateStatusModal",this.modalInstance=this.$modal.open({template:H,scope:this.$scope,resolve:{translations:[D.serviceName,function(e){return e.loadBundle("features/course/outline/course-outline")}]}}),this.modalInstance.result.then((function(t){e.updateCourseStatus(t)})))},n.prototype.shouldShowVirtualClassroomLink=function(){var e=this.$scope.currentCourseStatus.getStatus()===N.a.Open;return this.showVirtualClassroom&&e&&!window.Modernizr.touch},n.prototype.updateCourseStatus=function(e){var t=this;if(e){var n=this.currentCourse.getStatus();return this.currentCourse.setStatus(e),this.$scope.currentCourseStatus=new R.a(this.currentCourse,this.currentCourse.ui.status),this.currentCourse.$patch().$then((function(){t.$scope.course.membership.course=t.currentCourse;var o=t.currentCourse.getStatus();return t.$scope.$emit("update-course-status",t.currentCourse.id,o),o.isEqualTo(e)||(t.currentCourse.setStatus(o.toString()),t.$scope.currentCourseStatus=new R.a(t.currentCourse,o)),(W(n)||W(e))&&(t.rootNode.children=t.rootNode.getChildren({limit:t.rootNode.children.length}),t.canMove=!t.currentCourse.isComplete()),s.a.features.collab?t.checkIfCollabUltraIsAvailable():t.isCollabConfigLoaded||s.a.features.collab?void 0:t.loadCollabConfig()}))}},n.prototype._setInstructors=function(){this.mainInstructor=null;var e=this.$scope.course.model.instructorsMembership.filter((function(e){return e.isAvailable}));this.instructors=e.map((function(e){return e.user})),null==e||0===e.length?this.mainInstructor=this.CourseMembershipModel.$build({user:{givenName:this.bbLocalize.translateSync({locale:this.bbLocalize.getLocale(this.$scope),key:this.outlineLocalePrefix+".noInstructor"}),familyName:this.bbLocalize.translateSync({locale:this.bbLocalize.getLocale(this.$scope),key:""})}}):e[0]?(this.mainInstructor=e[0],this.mainInstructor.courseRole.localizedRoleName=this.getLocalizedRoleNameByCourseRole(this.mainInstructor.courseRole)):this.mainInstructor=void 0},n.prototype.getLocalizedRoleNameByCourseRole=function(e){if(e.identifier.toString()in x.y.toBeLocalizedRoleLabels){var t=x.y.toBeLocalizedRoleLabels[e.identifier.toString()];return this.contextCourse.course.isOrganization&&(t=t.replace("global.course","global.organization")),this.bbLocalize.translateSync({locale:this.bbLocalize.getLocale(this.$scope),key:t})}return this.contextCourse.course.isOrganization?e.orgName.rawValue:e.courseName.rawValue},n.prototype.openExportModal=function(){var e=this;this.exportService.getExportsAndScheduledTasks(this.courseId,this.currentCourse.courseId,!1,this.canExport,this.canArchive).then((function(t){if(0===t.courseExports.length&&0===t.scheduledTasks.length||e.ultraState.includes("**.exports")){if(e.canExport&&!e.canArchive)return void e.exportService.createExportTask(!1,e.courseId).then((function(){e._setExportTaskStatusCheckInterval(),e._openExportPeekPanel()}));if(e.canArchive&&!e.canExport)return void e.exportService.createExportTask(!0,e.courseId).then((function(){e._setExportTaskStatusCheckInterval(),e._openExportPeekPanel()}));e.modalInstance=e.$modal.open({template:U,scope:e.$scope,resolve:{translations:[D.serviceName,function(e){return e.loadBundle("features/course/exports/course-export")}]}})}else e._openExportPeekPanel()}))},n.prototype.triggerCourseExport=function(e){var t=this;this.modalInstance.dismiss(),this.exportService.createExportTask(e,this.courseId).then((function(){t._setExportTaskStatusCheckInterval(),t._openExportPeekPanel()}))},n.prototype._setExportTaskStatusCheckInterval=function(){var e=this,t=s.a.production?6e4:5e3;this.checkExportStatusInterval=this.interval((function(){e._checkExportStatus()}),this.$scope,t)},n.prototype._cancelExportTaskStatusCheckInterval=function(){this.checkExportStatusInterval&&(this.interval.cancel(this.checkExportStatusInterval),this.checkExportStatusInterval=null)},n.prototype._checkExportStatus=function(){var e=this;this.exportService.getExportsAndScheduledTasks(this.courseId,this.currentCourse.courseId,!1,this.canExport,this.canArchive).then((function(t){t.scheduledTasks.forEach((function(t){var n=t.taskStatus;t.$fetch().$then((function(t){W(n)||(W(t.taskStatus)||Y(t.taskStatus))&&(e.exportService.getExportsAndScheduledTasks(e.courseId,e.currentCourse.courseId,!0,e.canExport,e.canArchive).then((function(t){t.scheduledTasks&&0!==t.scheduledTasks.length||e._cancelExportTaskStatusCheckInterval(),e.$scope.$broadcast("update-course-exports")})),"exports"!==e.ultraState.current.name.split(".").slice(-1)[0]&&(e.showExportMoment(),e.isExportSuccess=W(t.taskStatus)))}))}))}))},n.prototype._openExportPeekPanel=function(){this.ultraState.goPeekState("exports")},n.prototype._checkInProgressImportTask=function(){var e=this,t="courseImport"+this.currentCourse.id.replace(/_/g,".");this.context.getPreference(t,"false").then((function(t){if("true"===t.value){var n=e.currentCourse.courseId;e._getCourseImportTasks(n).then((function(t){e.hasCheckedForImports=!0;var n=e.getLatestTaskForCourse(t);n&&(W(n.taskStatus)||Y(n.taskStatus)?(e.showImportCopyStatusBar=!0,e.importCopyTaskId=n.taskId):(e.$rootScope.$broadcast("showContentImportProgress",n.taskId,e.rootNode&&e.rootNode.id?e.rootNode.id:"-1"),e.showContentImportProgress=!0,e._setCheckImportCopyInterval(n.taskId)))}))}else e.hasCheckedForImports=!0}))},n.prototype._handleInProgressCopyTasks=function(){var e=this,t=this.currentCourse.courseId;this.$q.all([this._getCourseCopyTasks(t),this._getCourseCopyTasksWithWaitingStatus(t)]).then((function(t){var n=i.filter(t[0],(function(e){return e.taskStatus!==x.sb.QueueTaskStatus.Waiting.toString()})),o=i.filter(n.concat(t[1]),(function(e){return!W(e.taskStatus)&&!Y(e.taskStatus)&&(t=e.taskStatus,!Q(x.sb.QueueTaskStatus.Incomplete,t));var t}));e._queueLoadingMessagesForTasks(i.map(o,(function(e){return e.taskId})))}))},n.prototype.getLatestTaskForCourse=function(e){var t,n=null;return e.length>0?(t=0,e.forEach((function(e){if(e.startDate){var o=e.startDate.getTime();o>t&&(t=o,n=e)}else n=e,t=Number.MAX_VALUE}))):n=e.pop(),n},n.prototype.getTasks=function(e){return this.ScheduledTaskModel.$collection().$refresh(e).$asPromise()},n.prototype._getCourseCopyTasks=function(e){if(this.currentCourse.canCopy()){var t={courseId:e,filterBy:"courseCopyTasks",sort:"startDate(DESC)"};return this.getTasks(t)}return this.$q.when([])},n.prototype._getCourseCopyTasksWithWaitingStatus=function(e){if(this.currentCourse.canCopy()){var t={courseId:e,filterBy:"courseCopyTasks",status:"WAITING"};return this.getTasks(t)}return this.$q.when([])},n.prototype._getCourseImportTasks=function(e){if(this.currentCourse.canImport()){var t={courseId:e,operation:"IMPORT",filterBy:"cxTasks"};return this.getTasks(t)}return this.$q.when([])},n.prototype._setCheckImportCopyInterval=function(e){var t=this;this._cancelCheckImportCopyInterval();var n=s.a.production?6e4:6e3;this.checkContentImportProgress=this.interval((function(){t._checkImportCopy(e)}),this.$scope,n)},n.prototype._cancelCheckImportCopyInterval=function(){this.checkContentImportProgress&&(this.interval.cancel(this.checkContentImportProgress),this.checkContentImportProgress=null)},n.prototype._checkImportCopy=function(e){var t=this;this.ScheduledTaskModel.$new(e).$fetch().$then((function(n){(W(n.taskStatus)||Y(n.taskStatus))&&(t.rootNode.children.$refresh({expand:"assignedGroups,selfEnrollmentGroups.group"}).$then((function(){t.importCopyTaskId=e,t.showContentImportProgress=!1,t.showImportCopyStatusBar=!0})),t._cancelCheckImportCopyInterval(),t.getAnnouncementsCount())}))},n.prototype._waitForTaskToComplete=function(e,t,n){var o=this,i=s.a.production?6e4:6e3,r=this.interval((function(){o._checkTaskCompletion(e)}),this.$scope,i);this.multiContentImportProgress.set(e,{promise:r,complete:t,reject:n})},n.prototype._checkTaskCompletion=function(e){var t=this,n=this.multiContentImportProgress.get(e);n&&this.ScheduledTaskModel.$new(e).$fetch().$then((function(o){(W(o.taskStatus)||Y(o.taskStatus))&&(o.type===t.COPY_TASK_TYPE&&t.copyContent.appendToCurrentCopyTasks([o.taskId]).then((function(e){return t.updateCopyDetailsAlerts()})),n.complete(),t.rootNode.children.$refresh({expand:"assignedGroups,selfEnrollmentGroups.group"}).$then((function(e){e.forEach((function(e){e.depth=t.rootNode.depth+1}))})),t.multiContentImportProgress.delete(e),t.interval.cancel(n.promise),t.getAnnouncementsCount())}))},n.prototype.cancelImportWatchers=function(){var e=this;this.multiContentImportProgress.forEach((function(t){e.interval.cancel(t.promise),t.reject&&t.reject({$status:"canceled"})})),this.cancelLoading&&this.cancelLoading()},n.prototype.updateCopyDetailsAlerts=function(){var e=this;this.copyContent.getCurrentCopyTaskErrorSummaries(this.currentCourse).then((function(t){e.copyContent.copyDetailsNotificationCount(t).then((function(t){e.copyDetailsErrorCount=t,e.shouldShowCopyDetailsNotification=t>0})),e.hasCurrentCopyDetailsErrors=!!i.keys(t).length}))},n.prototype.canCopyOrImport=function(){return(this.currentCourse.canCopy()||this.currentCourse.canImport())&&!this.showImportCopyStatusBar&&!this.ConversionService.isPreview(this.currentCourse)&&!this.showContentImportProgress&&this.hasCheckedForImports&&!this.currentCourse.isComplete()},n.prototype.joinVirtualClassroom=function(){s.a.features.collab||this.collab.joinVirtualClassroom(this.courseId,this.collabSessionId)},n.prototype.isStudentMembership=function(){return this.$scope.course.membership.isStudentMembership()},n.prototype.isActAsInstructorMembership=function(){return this.$scope.course.membership.isActAsInstructorMembership()},n.prototype.openAnnouncementsPanel=function(){this.announcementsTotalCount>0?this.ultraState.goPeekState("announcement-list"):0===this.announcementsTotalCount&&this.announcementPermissions.create&&this.ultraState.goPeekState("announcement-list.peek.announcement-detail",{courseId:this.courseId,mode:a.PanelModeEnum.CREATE,courseName:this.currentCourse.displayName})},n.prototype.shouldShowCreateGroupsLink=function(){return 0===this.groupSetCount&&this.canCreateGroups()&&this.canViewGroupsAsAdmin},n.prototype.shouldShowViewGroupsLink=function(){return this.groupSetCount>0||0===this.groupSetCount&&!this.canCreateGroups()},n.prototype.groupsLinkIsDisabled=function(){return!this.canViewGroupsAsAdmin||0===this.groupSetCount&&(!this.canCreateGroups()||this.currentCourse.isComplete())},n.prototype.openGroupWorkspacePanel=function(){this.groupsLinkIsDisabled()||(0===this.groupSetCount&&!this.currentCourse.isComplete()&&this.canCreateGroups()?this.ultraState.goPeekState("group-set-list.peek.group-set-detail",{courseId:this.courseId,mode:a.PanelModeEnum.CREATE}):this.ultraState.goPeekState("group-set-list"))},n.prototype.disableAnnouncementsClickForStudent=function(){return!this.announcementPermissions.create&&0===this.announcementsTotalCount},n.prototype.getOverflowMenuItems=function(){var e=this;return[{icon:"link",labelKey:this.outlineLocalePrefix+".collab.ultraCollabMenu.guestItem",show:function(){return e.collabPermissions&&e.collabPermissions.inviteGuestsInLti&&e.courseRoomExists()},onClick:this.goPeekState.bind(this,"collab",{launchType:"launchRoomSettings"})},{icon:"settings",labelKey:this.outlineLocalePrefix+".collab.ultraCollabMenu.editItem",show:function(){return e.collabPermissions&&e.collabPermissions.editSettingsInLti&&e.courseRoomExists()},onClick:this.goPeekState.bind(this,"collab",{launchType:"launchRoomSettings"})},{icon:"reports",labelKey:"course.outline.collab.ultraCollabMenu.viewReportItem",show:function(){return e.collabPermissions&&e.collabPermissions.viewReportInLti&&e.courseRoomExists()},onClick:this.goPeekState.bind(this,"collab",{launchType:"launchReports"})},{icon:"collab",labelKey:"course.outline.collab.ultraCollabMenu.viewSessionsItem",show:function(){return e.collabPermissions&&e.collabPermissions.viewAllSessionsInLti},onClick:this.goPeekState.bind(this,"collab",{launchType:"launchSessions"})},{icon:"video",labelKey:"course.outline.collab.ultraCollabMenu.viewRecordingsItem",show:function(){return e.collabPermissions&&e.collabPermissions.viewAllRecordingsInLti},onClick:this.goPeekState.bind(this,"collab",{launchType:"launchRecordings"})},{icon:"disable",labelKey:this.outlineLocalePrefix+".collab.ultraCollabMenu.disableRoomItem",show:function(){return e.collabPermissions&&e.collabPermissions.changeAvailability&&e.isCourseRoomEnabled()},onClick:this.disableCourseRoom.bind(this)},{icon:"complete",labelKey:this.outlineLocalePrefix+".collab.ultraCollabMenu.enableRoomItem",show:function(){return e.collabPermissions&&e.collabPermissions.changeAvailability&&!e.isCourseRoomEnabled()&&e.courseRoomExists()},onClick:this.enableCourseRoom.bind(this)}]},n.prototype.getCourseOperationOverflowMenuItems=function(){var e=this;return[{key:"bulkEditItemKey",icon:"bulk-edit",labelKey:"course.outline.bulkEditLink",show:function(){return!e.currentCourse.isComplete()&&e.canAccessBatchEdit},onClick:function(){return e.goPeekState.call(e,"bulk-edit-content")}},{key:"importItemKey",icon:"import",labelKey:"course.outline.operation.importContent",show:this.currentCourse.canImport.bind(this.currentCourse),onClick:function(){return e.goPeekState.call(e,"content-manage.import",{parentId:e.rootNode.id})}},{key:"copyContentItemKey",icon:"duplicate",labelKey:"course.outline.operation.copyContent",show:this.currentCourse.canCopy.bind(this.currentCourse),onClick:this.goPeekState.bind(this,"content-manage.copy",{positionAfter:"end",depth:"1"})},{key:"exportItemKey",icon:"export",labelKey:this.outlineLocalePrefix+".operation.export",show:function(){return e.canArchive||e.canExport},onClick:this.openExportModal.bind(this)},{key:"copyDetailsItemKey",icon:"attention",status:"alert",labelKey:"course.outline.operation.copyDetails",show:function(){return e.currentCourse.canCopy()&&e.hasCurrentCopyDetailsErrors},onClick:this.openCopyDetailsPanel}]},n.prototype.goPeekState=function(e,t){this.ultraState.goPeekState(e,t)},n.prototype.getLocalizedTextByKey=function(e){var t={locale:this.bbLocalize.getLocale(this.$scope),key:e,noWrap:!0};return this.bbLocalize.translateSync(t)},n.prototype.moveError=function(e){this.$scope.moveErrorTitleKey=e+".title",this.$scope.moveErrorTextKey=e+".text",this.$modal.open({template:q,scope:this.$scope})},n.prototype.connectToRedux=function(){var e=this,t=this.$ngRedux.connect((function(t){return{groupSetCount:P.select.groupWorkspace&&P.select.groupWorkspace.getTotalGroupSetCount(t)||0,groupCount:P.select.groupWorkspace&&P.select.groupWorkspace.getTotalGroupCount(t)||0,groupSets:P.select.groupWorkspace.getRenderedGroupSets(t,e.courseId),getGroupsByGroupSetId:function(e){return P.select.group.getGroupsByGroupSetId(t,e)},isLoadingGroupInfo:P.select.group.isLoading(t)||P.select.groupWorkspace.isLoading(t)}}),(function(t){return{getGroupAndSetCount:function(e){return t(P.actions.groupWorkspace.getGroupAndSetCount(e))},resetGroupWorkspace:function(){return t(P.actions.groupWorkspace.reset())},loadGroupSets:function(){return t(P.actions.groupWorkspace.loadGroupSets(e.courseId))},loadGroups:function(){return t(P.actions.group.loadGroupsByCourse(e.courseId))}}}))(this);this.$scope.$on("$destroy",(function(){e.resetGroupWorkspace(),t()}))},n.prototype.updateBatchEditStatus=function(){var e=this.entitlementService.isEntitled(w.f.ModifyContent),t=this.entitlementService.isEntitled(w.f.ModifyContentAvailability),n=this.entitlementService.isEntitled(w.j.DeleteAdaptiveRelease),o=this.entitlementService.isEntitled(w.j.ModifyAdaptiveRelease),i=this.entitlementService.isEntitled(w.j.ViewAdaptiveRelease),s=this.entitlementService.isEntitled(w.j.ModifyAdaptiveReleaseDates),r=this.entitlementService.isEntitled(w.v.ModifyItemDueDate),a=this.entitlementService.isEntitled(w.f.DeleteContent),c=this.entitlementService.isEntitled(w.j.DeleteAssessment),l=this.entitlementService.isEntitled(w.f.DeployAssessment),d=(t||e)&&n,u=(o||s&&i)&&r,p=a&&e&&c&&l;this.canAccessBatchEdit=d||u||p},n.prototype.showFirstTimeConfirmationModal=function(){var t=this,n=this.$rootScope.$new();n.localizationTokenPrefix=this.contextCourse.course.isOrganization?"organization":"course";var o=this.modalService.open({scope:n,template:B});n.startPreview=function(){o.dismiss(),t.timeout((function(){t.startStudentPreview()}),t.$scope,0)},e(window.document).find("body").addClass("dialog-pop-up-in-preview-mode")},n.prototype.startStudentPreview=function(){var t=this;this.CourseModel.$new(this.courseId).studentPreview.$save().$then((function(){t.$rootScope.$broadcast("TOGGLE-PREVIEW",!0),e(window.document).find("body").addClass("in-preview-mode-parent")}))},n.prototype.launchInstitutionAccount=function(){var e=this;this.kloudService.launchInstitutionAccount(this.instAccount,this.oneDriveBizLink).then((function(){e.kloudService.getKloudlessAccounts().then((function(t){e.connectedInstAccount=e.kloudService.getConnectedInstitutionAccount(e.instAccount,t)}))}))},n.prototype.getCloudStorageIcon=function(){return this.instAccount?this.kloudService.getCloudStorageIcon(this.instAccount.type):""},n.prototype.getInstConnectString=function(){return this.connectedInstAccount?this.connectedInstAccount.name:this.bbLocalize.translateSync({locale:this.bbLocalize.getLocale(this.$scope),key:"base.tools.connectAccount"})},n.prototype.hasInstitutionAccount=function(){return this.instAccount&&this.instAccount.type&&"disabled"!==this.instAccount.type},n.prototype.shouldShowSelfEnrollmentLink=function(){return this.isGroupToolEnabled&&this.isStudentMembership()&&!this.isLoadingGroupInfo},n.prototype.isGroupJoinable=function(e){var t=!!e.maximumEnrollment&&e.studentCount===e.maximumEnrollment;return!e.hasGrades&&!e.hasSubmittedGroupAttempt&&!t},n.prototype.getGroupsToJoinCount=function(){var e=this;return this.groupSets.filter((function(t){if(0===t.groupCount||e.isGroupClosedForSelfEnrollment(t))return!1;var n=e.getGroupsByGroupSetId(t.id),o=n.some((function(t){return t.memberships.some((function(t){return t.userId===e.contextUser.userId}))})),i=n.some(e.isGroupJoinable);return!o&&i})).length},n.prototype.isGroupClosedForSelfEnrollment=function(e){if(!e.isSelfEnrolledAllowed||!e.signUpSheet)return!0;var t=e.signUpSheet,n=t.enrollmentStartDate,o=t.enrollmentEndDate;return n&&r().isBefore(n)||o&&r().isAfter(o)},n.$inject=["$scope","$rootScope",x.o.serviceName,x.r.serviceName,p.b,h.b,x.v.serviceName,g.b,u.c,I.b,S.b,"$modal",M.d,k.b,$.b,D.serviceName,b.e,"$log","$q",C.b,O.b,x.sb.serviceName,f.b,c.c,d.b,A.b,"$ngRedux",F.b,l.b,v.e,L.b,K.b,j.b],n}(m.a))}).call(this,n("5iHu"))},kxl5:function(e,t,n){"use strict";n.d(t,"a",(function(){return d})),n.d(t,"b",(function(){return u}));var o=n("D57K"),i=n("wHJ2"),s=n("pjml"),r=n("Sa5G"),a=n("Qbdf"),c=n("jhBu"),l=n("aHpC"),d="ultra.service.announcements.permissions",u="announcementPermissions",p=function(){function e(e,t){this.currentCourse=e,this.entitlements=t}return e.prototype.isCurrentCourseCompleted=function(){return this.currentCourse.course&&this.currentCourse.course.isComplete()},e.prototype.getCourseAnnouncementsPermissions=function(){return{create:!this.isCurrentCourseCompleted()&&this.entitlements.isEntitled(r.a.CreateCourseAnnouncement),modify:!this.isCurrentCourseCompleted()&&this.entitlements.isEntitled(r.a.ModifyCourseAnnouncement),delete:!this.isCurrentCourseCompleted()&&this.entitlements.isEntitled(r.a.DeleteCourseAnnouncement),viewPosted:this.entitlements.isEntitled(r.a.ViewPostedCourseAnnouncement),viewUnposted:this.entitlements.isEntitled(r.a.ViewUnpostedCourseAnnouncement)}},e.prototype.getSystemAnnouncementsPermissions=function(){return{create:this.entitlements.isEntitled(r.a.CreateSystemAnnouncement),modify:this.entitlements.isEntitled(r.a.ModifySystemAnnouncement),delete:this.entitlements.isEntitled(r.a.DeleteSystemAnnouncement),viewPosted:this.entitlements.isEntitled(r.a.ViewPostedSystemAnnouncement),viewUnposted:this.entitlements.isEntitled(r.a.ViewUnpostedSystemAnnouncement)}},e=Object(o.__decorate)([Object(o.__param)(0,Object(l.b)(a.e)),Object(o.__param)(1,Object(l.b)(c.b))],e)}();!function(e){function t(){return null!==e&&e.apply(this,arguments)||this}Object(o.__extends)(t,e)}(p);i.module(d,[s.R]).service(u,p)},lGua:function(e,t,n){var o=n("ziER"),i=n("5JeM"),s=new o({id:"icon-small-settings",use:"icon-small-settings-usage",viewBox:"0 0 16 16",content:'<symbol fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" id="icon-small-settings"><path d="M7.5977 1.5453c.1998-.2709.6048-.2709.8046 0l.9644 1.307a.5.5 0 0 0 .5534.1798l1.5484-.4906c.3209-.1016.6485.1364.651.473l.0119 1.6242a.5001.5001 0 0 0 .342.4707l1.5411.5133c.3193.1064.4445.4916.2486.7653l-.945 1.321a.5002.5002 0 0 0 0 .582l.945 1.321c.1959.2737.0707.6589-.2486.7653l-1.5411.5133a.5.5 0 0 0-.342.4706l-.0119 1.6243c-.0025.3366-.3301.5746-.651.473L9.92 12.9679a.5.5 0 0 0-.5533.1798l-.9644 1.307c-.1998.2709-.6048.2709-.8046 0l-.9644-1.307a.5.5 0 0 0-.5534-.1798l-1.5484.4906c-.3209.1016-.6485-.1364-.651-.473l-.012-1.6243a.4999.4999 0 0 0-.342-.4706l-1.541-.5133c-.3193-.1064-.4445-.4916-.2486-.7653l.945-1.321a.5.5 0 0 0 0-.582l-.945-1.321c-.1959-.2737-.0707-.6589.2486-.7653l1.541-.5133a.5.5 0 0 0 .342-.4707l.012-1.6242c.0025-.3366.3301-.5746.651-.473l1.5484.4906a.5.5 0 0 0 .5534-.1798l.9644-1.307z" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" /><path d="M10 8c0 1.1046-.8954 2-2 2s-2-.8954-2-2 .8954-2 2-2 2 .8954 2 2z" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" /></symbol>'});i.add(s);e.exports=s},lHMO:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return c}));n("1wt3"),n("GbCx");var o=n("5iHu"),i=n("wHJ2"),s=n("Y88D"),r=n("dJ97"),a=n("av75"),c="ultra.directives.stream.entryBody.streamEntryBody";!function(e){e.fn.truncate=function(n){var o=n.length,i=void 0===o?100:o,s=e.extend({},t,{length:i});return this.each((function(){var t=e(this),n=t.text().length-s.length;n<0||!n&&!s.truncated||e.each(t.contents().get().reverse(),(function(t,o){var i=e(o),r=i.text().length;return r<=n?(s.truncated=!0,n-=r,void i.remove()):3===o.nodeType?(e(o.splitText(r-n-1)).replaceWith(s.ellipsis),!1):(i.truncate(e.extend(s,{length:r-n})),!1)}))}))};var t={length:1/0,ellipsis:""}}(e);var l=function(){function e(e,t){this.id=e,this.content=t,this.showContent=!1}return e.prototype.showTheContent=function(){this.showContent=!0},e.prototype.hideTheContent=function(){this.showContent=!1},e}(),d=function(){function e(e,t){var n=this;this.$compile=e,this.$sce=t,this.replace=!0,this.restrict="E",this.link=function(e,t){var i=e.bodyType()||a.a.SimpleText;if(e.bodyContent()&&e.bodyContent().isInteractive&&(e.interactiveBodyContent=new l(e.$id,e.bodyContent())),e.bodyContent()&&e.bodyType()===a.a.SimpleText){var s=e.bodyContent();if("string"==typeof s.fullText){var r=o("<div></div>").append(s.fullText).truncate({length:100}).html();e.bodyContent().bodyText=r}}t.replaceWith(n.$compile(i.getTemplateHtml())(e))},this.scope={bodyType:"&type",bodyContent:"&content"}}return e.$inject=["$compile","$sce"],e}();i.module(c,["ngSanitize",s.a,r.a]).directive("bbStreamEntryBody",["$injector",function(e){return e.instantiate(d)}])}).call(this,n("5iHu"))},laCM:function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var o=n("D57K"),i=n("t3aq"),s=n.n(i),r=n("cs5G"),a=n("0JpG"),c=n("yC9S"),l=n("aHpC"),d="ultra.directives.bbAllyShow";!function(){function e(e,t,n){this.$element=e,this.$scope=t,this.localize=n,this.showIcon=!1}e.prototype.$postLink=function(){var e={contentRef:this.contentId,widgetType:this.showViewScoreLink?i.WidgetType.ScoreIndicator:i.WidgetType.AlternativeFormats},t=this.localize.getLocale(this.$scope);this.showIcon||(e.text=this.localize.translateSync({locale:t,key:this.showViewScoreLink?"ally.open_feedback_panel":"ally.download_alternative_formats"})),this.showAlternativeFormatsLink&&(e.ariaLabel=this.localize.translateSync({locale:t,key:"ally.download_alternative_formats"})),s.a.renderWidget(this.$element[0],e)},e.prototype.$onDestroy=function(){s.a.destroyComponent(this.$element[0])},e=Object(o.__decorate)([Object(c.a)({module:angular.module(d,[r.a,a.moduleName]),componentName:"bbAllyShow",bindings:{contentId:"@",showViewScoreLink:"<?",showAlternativeFormatsLink:"<?",showIcon:"<?"}}),Object(o.__param)(0,Object(l.b)("$element")),Object(o.__param)(1,Object(l.b)("$scope")),Object(o.__param)(2,Object(l.b)(a.serviceName))],e)}()},ljjZ:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n("ERkP");t.default=function(e){var t=e.contentId,n=e.fileId,i=e.filePreviewUrl;return o.createElement("a",{"data-ally-content-id":t,"data-ally-file-eid":n,"data-ally-file-preview-url":i,style:{display:"none"}})}},lmHs:function(e,t,n){var o=n("ziER"),i=n("5JeM"),s=new o({id:"icon-large-message-a",use:"icon-large-message-a-usage",viewBox:"0 0 38 38",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 38 38" id="icon-large-message-a"><path fill="#FFF" d="M6 29.5c-.827 0-1.5-.673-1.5-1.5V10c0-.827.673-1.5 1.5-1.5h26c.827 0 1.5.673 1.5 1.5v18c0 .827-.673 1.5-1.5 1.5H6z" /><path fill="#FF3B30" d="M32 9c.551 0 1 .449 1 1v18c0 .551-.449 1-1 1H6c-.551 0-1-.449-1-1V10c0-.551.449-1 1-1h26m0-1H6c-1.1 0-2 .9-2 2v18c0 1.1.9 2 2 2h26c1.1 0 2-.9 2-2V10c0-1.1-.9-2-2-2z" /><path fill="#FFF" stroke="#FF3B30" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" d="M5 9l14 11L33 9" /><path fill="#FFF" stroke="#FF3B30" stroke-linecap="round" stroke-miterlimit="10" d="M16 18L5 29M33 29L22 18" /></symbol>'});i.add(s);e.exports=s},lx16:function(e,t,n){"use strict";n("zhNR"),n("JzsJ"),n("KmIE"),n("VCKY"),n("BiyI"),n("qzMN"),n("2i58"),n("Ybms"),n("P2DR"),n("wKTs"),n("vgq2");var o=n("wHJ2"),i=n("D57K"),s=n("dCrD"),r=function(e){function t(t,n,o){return e.call(this,t,n,o)||this}return Object(i.__extends)(t,e),t.$inject=["$injector","scope","element"],t}(s.a),a=function(e){function t(t,n,o){return e.call(this,t,n,o)||this}return Object(i.__extends)(t,e),t.$inject=["$injector","scope","element"],t}(s.a),c=n("Sa5G"),l=function(e){function t(t,n,o){var i=e.call(this,t,n,o)||this;return i.addTextBlock=function(){i.scope.$emit("bb-bbml-editor-add-block",c.d.Text,i.getInsertLocationData())},i.uploadLocalFile=function(){i.element.find(".file-upload-button").click()},i.uploadCloudFile=function(){i.element.find(".js-upload-from-kloudless").click()},i.focusAddButton=function(){i.element.find("button").focus()},i.items=[{key:"addText",className:"js-add-content",name:i.bbLocalize.translateSync({locale:i.bbLocalize.getLocale(i.scope),key:"components.directives.add-content-button.addContent"}),iconProps:{iconName:"notes",iconSize:"small"},onClick:i.addTextBlock},{key:"addLocalFile",className:"js-add-local-file",name:i.bbLocalize.translateSync({locale:i.bbLocalize.getLocale(i.scope),key:"components.directives.add-content-button."+(i.isMobile?"uploadFromDevice":"uploadFromComputer")}),iconProps:{iconName:"upload-file",iconSize:"small"},onClick:i.uploadLocalFile}],i.isCloudServiceAvailablePromise.then((function(e){e&&i.items.push({key:"addCloudFile",className:"js-add-cloud-file",name:i.bbLocalize.translateSync({locale:i.bbLocalize.getLocale(i.scope),key:"components.directives.add-content-button.uploadFromCloudStorage"}),iconProps:{iconName:"upload-cloud",iconSize:"small"},onClick:i.uploadCloudFile})})),i}return Object(i.__extends)(t,e),t.$inject=["$injector","scope","element"],t}(s.a),d=n("HjsN"),u=function(e){function t(t,n,o){return e.call(this,t,n,o)||this}return Object(i.__extends)(t,e),t.prototype.addGroup=function(){this.toggleMenu();var e=this.scope.positionBefore?this.scope.positionBefore():this.scope.positionAfter()+1;this.scope.createFunction(e),this.closeMenu()},t.$inject=["$injector","scope","element"],t}(s.a),p=(n("FwJ5"),n("nsO7")),h=n("Oyr+"),m=function(e){function t(t,n,o){var i=e.call(this,t,n,o)||this;if(i.uploadFile=function(){i.element.find(".file-upload").click()},i.uploadCloudFile=function(){i.element.find(".doc-add-media").click()},i.openContentMarket=function(){var e=i.scope.rootContent(),t=i.getInsertLocationData();i.contentSvc.getParentFolder(t.parentId,i.contextCourse.courseId,e).$then((function(e){if(e.children){var n=""+e.children.getInsertionIndex(t.positionBefore,t.positionAfter,!0,e.hasMoreChildren);i.ultraState.goPeekState("content-market",{position:n,parentId:t.parentId,positionBefore:t.positionBefore,positionAfter:t.positionAfter,depth:t.depth})}}))},i.initContextMenuItems(),n.$on("always-show-time-expires",(function(){i.turnOffAlwaysShow()})),n.$on(h.e,(function(e,t,o){o===h.c.OutlineAddContentButtonFileSelected&&t===n.fileListViewLocalId&&(i.closeMenu(),n.$emit(h.e,n.parentId(),n.positionBefore&&n.positionBefore(),n.positionAfter&&n.positionAfter(),n.depth(),t,n.content,h.c.AssignDropTarget),i.assignPosition())})),i.scope.isRenderByDefault&&i.scope.isRenderByDefault())var s=i.scope.$watch("addContentButton.isMenuVisible",(function(e){e&&(i.scope.addContentButton.removeDefaultRenderClass=!0,s())}));return i.scope.$watch("parentId()",(function(e,t){e!==t&&i.initContextMenuItems()})),i}return Object(i.__extends)(t,e),t.prototype.initContextMenuItems=function(){var e=this,t=this.element.closest("[data-base-state-name]").data("baseStateName"),n=this.getInsertLocationData();this.$q.all({isCloudServiceAvailable:this.isCloudServiceAvailablePromise,createHref:this.ultraState.peekHref("content-manage.create",n,t),copyHref:this.ultraState.peekHref("content-manage.copy",n,t),contentCollectionHref:this.ultraState.peekHref("content-collection",n,t)}).then((function(t){var n=e.bbLocalize.getLocale(e.scope);e.items=[{key:"create",className:"js-create",href:t.createHref,name:e.bbLocalize.translateSync({locale:n,key:"components.directives.add-content-button.create"}),iconProps:{iconName:"add",iconSize:"small"}},{key:"copy",className:"js-copy",href:t.copyHref,name:e.bbLocalize.translateSync({locale:n,key:"components.directives.add-content-button.copy"}),iconProps:{iconName:"duplicate",iconSize:"small"}},{key:"upload-file",className:"js-upload-file",onClick:e.uploadFile,name:e.bbLocalize.translateSync({locale:n,key:"components.directives.add-content-button.upload"}),iconProps:{iconName:"upload",iconSize:"small"}},{key:"content-market",className:"js-content-market",onClick:e.openContentMarket,name:e.bbLocalize.translateSync({locale:n,key:"components.directives.add-content-button.contentMarket"}),iconProps:{iconName:"content-market",iconSize:"small"}},{key:"upload-cloud-file",className:"js-upload-cloud-file",onClick:e.uploadCloudFile,name:e.bbLocalize.translateSync({locale:n,key:"components.directives.add-content-button.importContentFromCloudStorage.title"}),iconProps:{iconName:"upload-cloud",iconSize:"small"}},{key:"content-collection",className:"js-content-collection",href:t.contentCollectionHref,name:e.bbLocalize.translateSync({locale:n,key:"components.directives.add-content-button.contentCollection"}),iconProps:{iconName:"content-collection",iconSize:"small"}}],e.isCloudServiceAvailable||Object(p.remove)(e.items,(function(e){return"upload-cloud-file"===e.key})),e.currentCourse.canCopy()||Object(p.remove)(e.items,(function(e){return"copy"===e.key}))}))},t.$inject=["$injector","scope","element"],t}(s.a),b=function(e){function t(t,n,o){var i=e.call(this,t,n,o)||this,s=o.closest("[data-base-state-name]").data("baseStateName");return i.$q.all([i.ultraState.peekHref("discussion.view.with-grading",i.getInsertLocationData(),s),i.ultraState.peekHref("content-manage.create.folder",i.getInsertLocationData(),s)]).then((function(e){i.items=[{key:"addDiscussion",href:e[0],name:i.bbLocalize.translateSync({locale:i.bbLocalize.getLocale(i.scope),key:"components.directives.add-content-button.addDiscussion"}),iconProps:{iconName:"discussion",iconSize:"small"}}],i.getInsertLocationData().depth<2&&i.scope.canCreateAllContents&&i.items.push({key:"addFolder",href:e[1],name:i.bbLocalize.translateSync({locale:i.bbLocalize.getLocale(i.scope),key:"components.directives.add-content-button.addFolder"}),iconProps:{iconName:"folder-closed",iconSize:"small"}})})),n.$on("always-show-time-expires",(function(){i.turnOffAlwaysShow()})),i}return Object(i.__extends)(t,e),t.$inject=["$injector","scope","element"],t}(s.a),g=function(e){function t(t,n,o){var i=e.call(this,t,n,o)||this,s=o.closest("[data-base-state-name]").data("baseStateName");return i.$q.all([i.ultraState.peekHref("grade-item.create",i.getInsertLocationData(),s),i.ultraState.peekHref("gradebook-item.calculation",i.getInsertLocationData(),s),i.ultraState.peekHref("attendance",null,s)]).then((function(e){i.attendanceHref=e[2],i.items=[{key:"addGradebookItem",href:e[0],className:"doc-add-grade",name:i.bbLocalize.translateSync({locale:i.bbLocalize.getLocale(i.scope),key:"components.directives.grade.grader-column.actions.addItem"}),iconProps:{iconName:"add",iconSize:"small"}},{key:"addCalculation",href:e[1],className:"doc-add-calc",name:i.bbLocalize.translateSync({locale:i.bbLocalize.getLocale(i.scope),key:"components.directives.grade.grader-column.actions.addCalculation"}),iconProps:{iconName:"calculation",iconSize:"small"}}],i.addOrRemoveAddAttendanceMenuItem()})),n.$on("always-show-time-expires",(function(){n.addContentButton.alwaysShow=!1})),n.$on("update-content-menu",(function(){i.items&&i.addOrRemoveAddAttendanceMenuItem()})),i}return Object(i.__extends)(t,e),t.prototype.addOrRemoveAddAttendanceMenuItem=function(){var e=null==this.scope.showAddAttendance||!this.scope.showAddAttendance(),t=this.doesMenuItemExistByKey("addAttendance");e?this.removeMenuItemByKey("addAttendance"):t||this.addAttendanceMenuItem()},t.prototype.doesMenuItemExistByKey=function(e){return this.items.some((function(t){return t.key===e}))},t.prototype.removeMenuItemByKey=function(e){this.items=this.items.filter((function(t){return t.key!==e}))},t.prototype.addAttendanceMenuItem=function(){this.items.push({key:"addAttendance",href:this.attendanceHref,className:"doc-add-attendance",name:this.bbLocalize.translateSync({locale:this.bbLocalize.getLocale(this.scope),key:"components.directives.grade.grader-column.actions.addAttendance"}),iconProps:{iconName:"attendance",iconSize:"small"}})},t.$inject=["$injector","scope","element"],t}(s.a),v=n("J8YL"),f=n("tTiy"),y=n("1Niw"),C=n("UeHE"),w=n("9hp7"),S=n("SE1T"),k=n("6xt4"),I=n("8LHV"),D=n("07HN"),x=function(){function e(e){this.$injector=e,this.handlersAndTemplateTexts={assignment:{handler:r,templateText:v},attempts:{handler:a,templateText:f},"bbml-editor":{handler:l,templateText:y},"cloud-upload":{handler:d.b,templateText:C},"course-group":{handler:u,templateText:S},"course-outline":{handler:m,templateText:k},discussions:{handler:b,templateText:I},grades:{handler:g,templateText:D}}}return e.prototype.getTemplateText=function(e){if(null==e||!(e in this.handlersAndTemplateTexts))throw new Error("valid contextArea must be provided");if(null==this.handlersAndTemplateTexts[e].templateText)throw new Error("No template for context area: "+e);return w.replace("<template></template>",this.handlersAndTemplateTexts[e].templateText)},e.prototype.getHandler=function(e,t,n){if(null==e||!(e in this.handlersAndTemplateTexts))throw new Error("valid contextArea must be provided");return this.$injector.instantiate(this.handlersAndTemplateTexts[e].handler,{scope:t,element:n})},e.$inject=["$injector"],e}(),T=n("2E9T"),E=n("+e2k"),$="ultra.components.directives.content.buttonAddContent",O=function(){function e(){this.restrict="C",this.template=T}return e.$inject=["$injector"],e}();o.module($,[E.a]).directive("buttonAddContent",["$injector",function(e){return e.instantiate(O)}]);var M=n("0JpG"),A=n("qgBt"),P=n("IR+Z"),L=n("H/mg"),B=n("nYZ0"),F=n("3Jgm"),j=n("TnpK");n.d(t,"a",(function(){return R}));var R="ultra.directives.addContentButton",N=function(){function e(e,t,n){var o=this;this.$injector=e,this.$rootScope=t,this.ultraState=n,this.compiled=Object.create(null),this.restrict="E",this.scope={attachHandler:"=?",disableDrag:"&?",content:"=",createFunction:"=?",hideDividerLines:"&?",rootContent:"&?",contextArea:"=",alwaysShow:"=",showAddAttendance:"&?",showBothButtons:"&?",showMenuOverride:"=",positionBefore:"&?",positionAfter:"&?",parentId:"&",depth:"&",canCreateAllContents:"=?",canCopyImport:"=?",folderNestedButton:"&?",fileLocation:"@?",webLocation:"@?",initialUpload:"&?",primaryKey:"&?",ignoredStates:"&?",itemName:"&?",itemType:"&?",itemIndex:"&?",isRenderByDefault:"&?"},this.compile=function(){return function(e,t){var n;n=e.contextArea?e.contextArea:e.$parent.contextArea?e.$parent.contextArea:"course-outline";var i=o.$injector.instantiate(x,{});null==o.compiled[n]&&(o.compiled[n]=o.$injector.get("$compile")(i.getTemplateText(n))),e.addContentButton=i.getHandler(n,e,t),e.fileListViewId="fileListView-"+Math.floor(1e4*Math.random())+"-"+Math.floor(1e4*Math.random()),e.fileListViewLocalId=e.fileListViewId+"Local",o.compiled[n](e,(function(e,n){t.append(e)})),o.$rootScope.$broadcast("add-content-button-ready")}}}return e.$inject=["$injector","$rootScope",j.d,B.e],e}();o.module(R,["ngAnimate",M.moduleName,j.b,$,A.a,P.a,B.d,F.a,L.a]).directive("bbAddContentButton",["$injector",function(e){return e.instantiate(N)}])},"m+3A":function(e,t,n){"use strict";n.r(t),n.d(t,"moduleName",(function(){return h})),n.d(t,"controllerName",(function(){return m}));n("JzsJ"),n("y95c"),n("VCKY"),n("GkCm"),n("dV61"),n("EACR"),n("u0oq");var o=n("wHJ2"),i=n("TB6y"),s=n("Fvsw"),r=n("8VoP"),a=n("AI52"),c=n("ZzYr"),l=n("CPVT"),d=n("pjml"),u=n("yXB1"),p=n("asT1");n.d(t,"template",(function(){return p}));var h="ultra.course.exports",m=r.b;o.module(h,[i.a,a.a,s.a,c.a,l.a,"mm.foundation.modal",d.R,u.a]).controller(r.b,r.a)},n0mJ:function(e,t,n){"use strict";n.d(t,"a",(function(){return g}));var o=n("D57K"),i=n("nsO7"),s=n("wHJ2"),r=n("9zo4"),a=n("cs5G"),c=n("Oyr+"),l=n("0JpG"),d=n("A+IJ"),u=n("lr7J"),p=n("0+Qs"),h=n("pjml"),m=n("TnpK"),b=n("JfV0"),g=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(o.__extends)(t,e),t}(function(){function e(e,t,n,o,i,s,r,a,l,d,u,p,m,b){var g=this;this.$scope=e,this.CourseModel=t,this.CourseContentModel=n,this.contextCourse=o,this.contentService=i,this.rootNodeName=s,this.contextAreaName=r,this.allyService=a,this.bbLocalize=l,this.interval=d,this.ultraState=u,this.accessibility=p,this.$ngRedux=m,this.$q=b,this.CONTENT_LOADING_LIMIT=10,this.contentLoadInProgress=!1,this.canMove=!1,this.dropTargetAssignedFromButton=!1,this.syllabusKey="syllabusKey",this.loadMoreChildren=function(e,t){return void 0===t&&(t=!0),g._loadMoreChildren(e,t)},this.moveItemIntoFolder=function(e){var t=g._findNodeByIdFromParentNode(g.rootNode,e.dragContentId),n=g._findNodeByIdFromParentNode(g.rootNode,e.targetFolderId);if(n.isForcedSequenceModule()||n.isInForcedSequenceModule())return g.moveError("course.outline.addForbidden");e.originalElement.hide();var o=g.loadMoreChildren(n);if(h.r.ContentHandler.LearningModule.isEqualTo(t.contentHandler)&&(h.r.ContentHandler.Folder.isEqualTo(n.contentHandler)||h.r.ContentHandler.LearningModule.isEqualTo(n.contentHandler)))return g.moveError("course.outline.lmMoveError"),o.$then((function(){e.originalElement.show()}));if(h.r.ContentHandler.Folder.isEqualTo(t.contentHandler)&&h.r.ContentHandler.LearningModule.isEqualTo(n.contentHandler)){if(!t.children)return t.getChildren({limit:0}).$asPromise().then((function(i){return i.some((function(e){return e.isUiFolder()}))?(g.moveError("course.outline.lmMoveFolderError"),o.$then((function(){e.originalElement.show()}))):o.$then((function(){g.doMoveItemFolder(t,n,e)}))})),o;if(t.children.some((function(e){return e.isUiFolder()})))return g.moveError("course.outline.lmMoveFolderError"),o.$then((function(){e.originalElement.show()}))}return o.$then((function(){g.doMoveItemFolder(t,n,e)}))},this.moveItem=function(e){var t=g._findNodeByIdFromParentNode(g.rootNode,e.dragContentId),n=g._findNodeByIdFromParentNode(g.rootNode,e.parentFolderId);if(t.isLearningModule()&&0!==n.depth)return g.moveError("course.outline.lmMoveError");if(n.isForcedSequenceModule()||n.isInForcedSequenceModule())return g.moveError("course.outline.addForbidden");if(h.r.ContentHandler.Folder.isEqualTo(t.contentHandler)&&h.r.ContentHandler.LearningModule.isEqualTo(n.contentHandler)){if(!t.children)return void t.getChildren({limit:0}).$asPromise().then((function(o){if(o.some((function(e){return e.isUiFolder()})))return g.moveError("course.outline.lmMoveFolderError");g.doMoveItem(t,n,e)}));if(t.children.some((function(e){return e.isUiFolder()})))return g.moveError("course.outline.lmMoveFolderError")}g.doMoveItem(t,n,e)},this.onFileDropHandler=function(e,t){g.folders=[],t||(t=g.rootNode),g.dropTarget=t,g.dropTargetAssignedFromButton=!1,g.dropTargetInsertLocation=null},this.contextArea=r,"SKIP_LOAD_MORE_CHILDREN"!==this.contextArea&&(this.$scope.course&&(this.$scope.course.membership&&this.$scope.course.membership.isActAsInstructorMembership()&&(this.canMove=!0),this.rootNode=this.contentService.findRootNode(this.$scope.course.model,s),this.rootNode.depth=0,this.rootNode.title=s.toString(),this.rootNode.contentHandler=h.r.ContentHandler.Folder,this.rootNode.hasMoreChildren=!0,this.rootNode.children=null),this._loadMoreChildren(this.rootNode)),this.setDeleteContentEventResponder(),e.$on("content-item-mouseover",(function(t,n){e.$apply((function(){e.$broadcast("content-item-hover",n)}))})),e.$on("content-outline-mouse-leave",(function(){e.$broadcast("content-outline-hover-end")})),e.$on("scorm-content-canceled",(function(e,t){g.cachedNode=g.rootNode.findInTreeById(t.parentId,g.cachedNode),g.deleteNode(t,g.cachedNode,!1)})),e.$on(c.e,(function(e,t,n,o){o===c.c.Folder&&g.folderUpload(t,n)})),e.$on(c.e,(function(e,t,n,o){if(o===c.c.File)if(n.path)var i=g.interval((function(){var e=g.findFolder(n.path,g.folders,n.path.split("/").length-1);null!=e&&e.id&&(g.createFileContent(e,n,t,!0),g.interval.cancel(i))}),g.$scope,1e3,10);else g.createFileContent(g.dropTarget,n,t,!1)})),e.$on(c.e,(function(e,t,n,o,i,s,r,a){a===c.c.AssignDropTarget&&g.assignDropTarget(t,n,o,i,s,r)})),e.$on(c.e,(function(e,t,n){n===c.c.AssignDropTarget&&t===g.syllabusKey&&g.assignDropTarget(g.rootNode.id,"start",void 0,1,t,void 0)})),e.$on(c.e,(function(e,t,n){n===c.c.DeleteContent&&g.$scope.$root.$broadcast("deleteContent",t)})),e.$on(c.e,(function(t,n,o,i,s){(i===c.c.Error||i===c.c.Cancel)&&o&&o.content&&e.$root.$broadcast("deleteContent",o.content)})),e.$on(c.e,(function(e,t,n,o,i,s,r){i===c.c.Uploaded&&g.populateContentFileDetails(o,n).then((function(e){e.$pk?(n.ui.isUploading=!1,n.isAvailable=!1):e.$save().$then((function(e){e.ui.isUploading=!1,e.isAvailable=!1}))}))})),e.$on(c.e,(function(e,t){})),this.subscribeToRedux()}return e.prototype.subscribeToRedux=function(){var e=this.$ngRedux.connect(null,(function(e){return{deleteContentInStore:function(t){return e(b.actions.content.deleteContentInStore(t))},moveContentInStore:function(t,n,o){return e(b.actions.content.moveContentInStore(t,n,o))}}}))(this);this.$scope.$on("$destroy",e)},e.prototype._loadMoreChildren=function(e,t){var n=this;void 0===t&&(t=!0);var o=this._loadMoreChildrenImp(e);return this.$scope.$root&&o.$promise&&t&&this.$scope.$root.$broadcast(u.a,"content-outline-"+e.id,o.$promise),o.$then((function(){e===n.rootNode&&n.recalculateEmptyState(),n.contentService.fetchIndicators(n.contextCourse.courseId).then((function(t){n.updateIndicators(t,e)}))})),o},e.prototype.updateIndicators=function(e,t){t||(t=this.rootNode);var n=i.keyBy(t.children,(function(e){return e.ui.hasIndicator=!1,e.$pk}));e&&e.forEach((function(e){Object.prototype.hasOwnProperty.call(n,e.contentId)&&(n[e.contentId].ui.hasIndicator=e.newData)}))},e.prototype.dismissContentIndicators=function(e){var t=this.rootNode.findInTreeById(e);t&&(t.ui.hasIndicator=!1)},e.prototype.recalculateEmptyState=function(){this.isEmpty=null==this.rootNode.children||0===this.rootNode.children.length},e.prototype.populateContentFileDetails=function(e,t){return t.title=decodeURIComponent(e.fileName),t.contentHandler=h.r.ContentHandler.File,t.contentDetail={"resource/x-bb-file":{file:{fileName:e.fileName,fileLocation:e.fileLocation}}},t.$asPromise()},e.prototype.setDeleteContentEventResponder=function(){var e=this;this.$scope.$on("deleteContent",(function(t,n,o){void 0===o&&(o=!0),e.rootNode&&e.rootNode.children?e.rootNode.children.$then((function(){e.cachedNode=e.rootNode.findInTreeById(n.parentId,e.cachedNode),e.deleteNode(n,e.cachedNode,o)})):e.deleteNode(n,null,o)}))},e.prototype.deleteNode=function(e,t,n){var o=this;if(void 0===n&&(n=!0),!e.ui.isDeleted){var i=this.$q.when();n&&(i=this.deleteContent(e).then((function(){o.deleteContentInStore(e.id)}))),i.then((function(){o.removeNodeFromOutline(e,t)}))}},e.prototype.removeNodeFromOutline=function(e,t){if(t&&t.children){var n=void 0;if(null==e.id&&h.r.ContentHandler.File.isEqualTo(e.contentHandler)&&e.ui.isUploading){var o=t.children.filter((function(t){return t.ui.fileUploadId===e.ui.fileUploadId}))[0];n=t.children.indexOf(o)}else n=t.children.indexOfItemById(e.id);n>=0&&(t.children.splice(n,1),t.children.paging&&t.children.paging.count--,this.updateDeleteFocus(n,t))}},e.prototype.updateDeleteFocus=function(e,t){if(t.children&&t.children.length){var n=t.children[e===t.children.length?e-1:e].id;this.accessibility.setFocusOverrideOnPanel("[data-content-id="+n+"] .content-title",".js-content-outline, .js-engagement-outline")}else t.parentId?this.accessibility.setFocusOverrideOnPanel("[data-content-id="+t.id+"] .content-title",".js-content-outline, .js-engagement-outline"):this.accessibility.setFocusOverrideOnPanel(".bb-close",".bb-offcanvas-panel-wrap")},e.prototype.deleteContent=function(e){return this.contentService.deleteContent(e)},e.prototype._findNodeByIdFromParentNode=function(e,t){return e.findLoadedNodeById(t,3)},e.prototype._loadMoreChildrenImp=function(e){var t,n=this;if(null==e.hasMoreChildren&&(e.hasMoreChildren=!0),e.ui.isUploading&&(e.hasMoreChildren=!1),!e.hasMoreChildren)return this.CourseContentModel.$collection();if(this.contentLoadInProgress)return null!=e.children?e.children:this.CourseContentModel.$collection();this.contentLoadInProgress=!0;var o=null==e.children?0:e.children.length;return null==e.children?(t=e.children=e.getChildren({limit:this.CONTENT_LOADING_LIMIT,resolveLinks:!0,expand:"assignedGroups,selfEnrollmentGroups.group"}),e.children.$then((function(){n._determineHasMoreChildren(e,o),n.contentLoadInProgress=!1}))):t=e.getChildren({offset:e.children.length,limit:this.CONTENT_LOADING_LIMIT,resolveLinks:!0,expand:"assignedGroups,selfEnrollmentGroups.group"}).$then((function(t){t.forEach((function(t){t.$scope=e.children,e.children.push(t)})),n._determineHasMoreChildren(e,o),n.contentLoadInProgress=!1})),t},e.prototype._determineHasMoreChildren=function(e,t){e.children.length-t<this.CONTENT_LOADING_LIMIT&&(e.hasMoreChildren=!1)},e.prototype.folderUpload=function(e,t){var n,o,i=this,r=!0,a={parentId:"",positionBefore:void 0,positionAfter:void 0,depth:0},c=!t.path||t.name===t.path,l=this.interval((function(){c?i.dropTargetInsertLocation?a=i.calculateAddContentButtonInsertLocation():(o=h.r.ContentHandler.Folder.isEqualTo(i.dropTarget.contentHandler))?i.dropTarget.depth<d.l?(a.depth=i.dropTarget.depth+1,a.parentId=i.dropTarget.id):(a.depth=d.l,a.parentId=i.dropTarget.parentId):(a.parentId=i.dropTarget.parentId,a.depth=i.dropTarget.depth):(n=i.findFolder(t.path,i.folders,t.path.split("/").length-1))&&(n.depth<d.l?(a.depth=n.depth+1,a.parentId=n.$pk):(a.depth=d.l,a.parentId=n.parentId));var e=i.rootNode.findInTreeById(a.parentId);if(""!==a.parentId&&e){if(r=!0,s.isUndefined(n)){var u=void 0;if(!i.dropTarget&&i.dropTargetInsertLocation){var p=i.$scope.course.model.contents.$new(i.addContentButtonContentId);o=h.r.ContentHandler.Folder.isEqualTo(p.contentHandler),u=i.finalizeMultiLevelFolderInsertLocation(p,a,o,r),a=u.insertLocation,r=u.keepGoing}else u=i.finalizeMultiLevelFolderInsertLocation(i.dropTarget,a,o,r),a=u.insertLocation,r=u.keepGoing}else if(s.isUndefined(n.children))a.positionAfter="end";else{var m=n.children[n.children.length-1];m.id?a.positionAfter=m.id:r=!1}r&&(i.completeFolderUpload(a,e,t),i.interval.cancel(l))}}),this.$scope,1e3,10)},e.prototype.finalizeMultiLevelFolderInsertLocation=function(e,t,n,o){var i={insertLocation:t,keepGoing:o};if(n)if(s.isUndefined(e.children))i.insertLocation.positionBefore="start";else if(e.children.length>0){var r=e.children[this.dropTarget.children.length-1];r.id?i.insertLocation.positionAfter=r.id:i.keepGoing=!1}else i.insertLocation.positionBefore="start";else null==t.positionBefore&&(i.insertLocation.positionAfter=e.id||e.$pk);return i},e.prototype.completeFolderUpload=function(e,t,n){var o=this;this.allyService.fileUploadEvent();var i=this.interval((function(){if(t.children)return o.interval.cancel(i),o.contentService.makeContentInContentTree(t,o.contextCourse.courseId,e.parentId,e.positionBefore,e.positionAfter,!0).then((function(t){var i=t.content;i.title=n.name,o.folders.push(i),o.fillInDetailsForUploadedContent(i,e),i.contentDetail={"resource/x-bb-folder":{isFolder:!0}},i.contentHandler=h.r.ContentHandler.Folder,i.$save().$then((function(e){e.ui.isUploading=!1}))}))}),this.$scope,100,10)},e.prototype.fillInDetailsForUploadedContent=function(e,t){e.parentId=t.parentId,e.positionBefore=t.positionBefore,e.positionAfter=t.positionAfter,e.isAvailable=!1,e.depth=t.depth,e.description="",e.courseId=this.contextCourse.courseId,e.ui.isUploading=!0},e.prototype.doMoveItemFolder=function(e,t,n){var o=this,i=this._findNodeByIdFromParentNode(this.rootNode,e.parentId);e.moveTo(t,"start",null),e.$patch().$then((function(){i.children.paging.count--,t.children.paging.count++,o.moveContentInStore(n.dragContentId,n.targetFolderId,e.position)})),n.originalElement.show()},e.prototype.moveError=function(e){},e.prototype.doMoveItem=function(e,t,n){var o=this,i=this._findNodeByIdFromParentNode(this.rootNode,e.parentId);t!==i&&(t.children.paging.count++,i.children.paging.count--),e.moveTo(t,n.positionBeforeId,n.positionAfterId),e.$patch().$then((function(){o.moveContentInStore(n.dragContentId,n.parentFolderId,e.position)}))},e.prototype.assignDropTarget=function(e,t,n,o,i,s){this.dropTargetInsertLocation={parentId:e,positionBefore:t,positionAfter:n,depth:o},this.dropTargetAssignedFromButton=!0,this.addContentButtonContentId=s?s.id:"ROOT",this.folders=[]},e.prototype.createFileContent=function(e,t,n,o){var i,s=this,r=h.r.ContentHandler,a=r.Folder,l=r.LearningModule,d=e&&(a.isEqualTo(e.contentHandler)||l.isEqualTo(e.contentHandler)),u=this.calculateFileInsertLocation(e,d,o);if(null!=u)return this.allyService.fileUploadEvent(),this.contentService.makeContentInContentTree(this.rootNode,this.contextCourse.courseId,u.parentId,u.positionBefore,u.positionAfter,!0).then((function(o){i=o.content,s.fillInDetailsForUploadedContent(i,u),i.ui.fileUploadId="fileUpload-"+Math.floor(1e4*Math.random())+"-"+Math.floor(1e4*Math.random()),i.contentHandler=h.r.ContentHandler.File,null!=t&&(i.ui.file=t),d&&!e.ui.isOpen&&i.parentId===e.id&&s.toggleFolder(e),s.$scope.$root.$broadcast(c.e,n,i,c.c.ContentCreated)}))},e.prototype.canCreateDiscussion=function(){return this.canCreateAllContent()||this.canOnlyCreateDiscussion()},e.prototype.canOnlyCreateDiscussion=function(){return this.contentService.canOnlyCreateDiscussion(this.rootNode)},e.prototype.canCreateAllContent=function(){return this.contentService.canCreateAllContent(this.rootNode)},e.prototype.calculateAddContentButtonInsertLocation=function(){var e={parentId:"",positionBefore:void 0,positionAfter:void 0,depth:0};return e.parentId=this.dropTargetInsertLocation.parentId,e.positionBefore=this.dropTargetInsertLocation.positionBefore,e.positionAfter=this.dropTargetInsertLocation.positionAfter,e.depth=this.dropTargetInsertLocation.depth,e},e.prototype.getIdOfLastPersistedChild=function(e){if(null==e.children||0===e.children.length)return null;for(var t=e.children.length-1,n=e.children[t].id;null==n&&t>=0;)n=e.children[t].id,t--;return n},e.prototype.calculateFileDNDInsertLocation=function(e,t,n){if(n){e.parentId=t.id,e.depth=t.depth+1;var o=this.getIdOfLastPersistedChild(t);o?e.positionAfter=o:e.positionBefore="start"}else e.parentId=t.parentId,e.depth=t.depth,e.positionAfter=t.id;return e},e.prototype.calculateFileInsertLocation=function(e,t,n){var o={parentId:"",positionBefore:void 0,positionAfter:void 0,depth:0};return this.dropTargetInsertLocation&&!n?this.calculateAddContentButtonInsertLocation():this.calculateFileDNDInsertLocation(o,e,t)},e.prototype.findFolder=function(e,t,n){if(--n>=0){var o=e.split("/")[n],i=t.filter((function(e){return e.title===o}));if(1===i.length)return i[0];if(i.length>0)return this.findFolder(e,i,n)}},e.prototype.toggleFolder=function(e){this.$scope.$root.$broadcast("toggle-folder",e)},e.$inject=[a.b,l.serviceName,p.b,m.d,r.c,"$ngRedux","$q"],e}())},pGPW:function(e,t,n){},pHHL:function(e,t){e.exports='<div class="grade-color">\n  <div ng-if="!displayGrade.shouldShowRubricButton() && !displayGrade.shouldShowRubricDiv()">\n    <div ng-if="!(isGroupGradeMultiple() && !showNotGraded())"\n         ng-class="{ \'show-total\': displayGrade.gradeDisplayItem.shouldShowTotalPoints(),\n                     \'final-grade\': finalGrade(),\n                     \'na\': displayGrade.gradeDisplayItem.displayValue == null,\n                     \'cursor-pointer\': displayGrade.cursorPointer,\n                     \'defaultCursor\': displayGrade.cursorDefault}"\n         class="wrapping-input-style {{displayGrade.colorClass}}"\n         ready="{{::displayGrade.fullDisplayGrade && !displayGrade.noGradeToDisplay() || undefined}}">\n      <ng-switch on="displayGrade.schema.scaleType">\n        <span ng-switch-default>\n          <span ng-if="displayGrade.fullDisplayGrade != null && !overallGradePeekSref" class="grade-input-display ready" bb-translate-attrs="{ title: \'{{displayGrade.gradeDisplayItem.perfCodeDesc || translateKey}}\'}">{{displayGrade.fullDisplayGrade}}</span>\n          <a ng-if="displayGrade.fullDisplayGrade != null && overallGradePeekSref" \n             class="grade-input-display ready" \n             bb-peek-sref="{{overallGradePeekSref}}" \n             bb-translate-attrs="{ title: \'{{displayGrade.gradeDisplayItem.perfCodeDesc || translateKey}}\'}"\n             analytics-id="components.directives.grade.display-grade.scale.fullDisplayGrade.link">\n            {{displayGrade.fullDisplayGrade}}\n          </a>\n          <span ng-if="displayGrade.fullDisplayGrade == null && !overallGradePeekSref" class="grade-input-display" bb-translate-attrs="{ title: \'{{displayGrade.gradeDisplayItem.perfCodeDesc || translateKey}}\'}">{{::displayGrade.getNoGradeDisplay()}}</span>\n          <a ng-if="displayGrade.fullDisplayGrade == null && overallGradePeekSref" \n             class="grade-input-display" \n             bb-peek-sref="{{overallGradePeekSref}}" \n             bb-translate-attrs="{ title: \'{{displayGrade.gradeDisplayItem.perfCodeDesc || translateKey}}\'}"\n             analytics-id="components.directives.grade.display-grade.scale.getNoGradeDisplay.link">\n            {{::displayGrade.getNoGradeDisplay()}}\n          </a>\n        </span>\n        <span ng-switch-when="SCORE">\n          \x3c!-- Accommodate for hiding of points possible in small format --\x3e\n          <span ng-if="displayGrade.gradeDisplayItem.displayValue != null && !overallGradePeekSref" class="grade-input-display ready">{{displayGrade.gradeDisplayItem.displayValue}}</span>\n          <a ng-if="displayGrade.gradeDisplayItem.displayValue != null && overallGradePeekSref" \n             class="grade-input-display ready" \n             bb-peek-sref="{{overallGradePeekSref}}"\n             analytics-id="components.directives.grade.display-grade.score.fullDisplayGrade.link">\n            {{displayGrade.gradeDisplayItem.displayValue}}\n          </a>\n          <span ng-if="displayGrade.gradeDisplayItem.displayValue == null && !overallGradePeekSref" class="grade-input-display">{{::displayGrade.getNoGradeDisplay()}}</span>\n          <a ng-if="displayGrade.gradeDisplayItem.displayValue == null && overallGradePeekSref" \n             class="grade-input-display" \n             bb-peek-sref="{{overallGradePeekSref}}"\n             analytics-id="components.directives.grade.display-grade.score.getNoGradeDisplay.link">\n            {{::displayGrade.getNoGradeDisplay()}}\n          </a>\n          <span ng-if="displayGrade.shouldShowPointsPossible()" class="points-text" bb-translate translate-values="{total: gradeDetail.pointsPossible || column.possible}">components.directives.grade.display-grade.points</span>\n        </span>\n      </ng-switch>\n    </div>\n    <div ng-if="isGroupGradeMultiple() && !showNotGraded()" class="wrapping-input-style is-multiple">\n      <div ng-if="overallGradePeekSref" class="group-multiple" bb-peek-sref="{{overallGradePeekSref}}" bb-translate>components.directives.grade.display-grade.multiple</div>\n      <div ng-if="!overallGradePeekSref" class="group-multiple" bb-translate>components.directives.grade.display-grade.multiple</div>\n    </div>\n  </div>\n  <div ng-if="displayGrade.shouldShowRubricButton()">\n    <a ng-if="!displayGrade.shouldShowRubricEvaluation()"\n       bb-peek-sref="rubric-view"\n       class="js-rubric-view wrapping-input-style clear cursor-pointer"\n       ng-class="displayGrade.colorClass"\n       analytics-id="components.directives.grade.display-grade.rubric.link">\n      <span>\n        <bb-svg-icon size="small" icon="rubric"></bb-svg-icon>\n        <span class="grade-input-display ready" ng-if="displayGrade.gradeDisplayItem.displayValue != null">{{displayGrade.gradeDisplayItem.displayValue}}&nbsp</span>\n        <span class="grade-input-display ready" ng-if="displayGrade.gradeDisplayItem.displayValue == null">{{::displayGrade.getNoGradeDisplay()}}</span>&nbsp;\n        <span ng-if="displayGrade.shouldShowPointsPossible()" class="points-text" bb-translate translate-values="{total: gradeDetail.pointsPossible || column.possible}">components.directives.grade.display-grade.points</span>\n      </span>\n    </a>\n    <a ng-if="displayGrade.shouldShowRubricEvaluation()"\n       bb-peek-sref="rubric-evaluation({groupId: displayGrade.attempt.groupId})"\n       class="js-rubric-evaluation wrapping-input-style clear cursor-pointer"\n       ng-class="displayGrade.colorClass"\n       analytics-id="components.directives.grade.display-grade.rubricEvaluation.link">\n      <span>\n        <bb-svg-icon size="small" icon="rubric"></bb-svg-icon>\n        <span class="grade-input-display ready" ng-if="displayGrade.gradeDisplayItem.displayValue != null">{{displayGrade.gradeDisplayItem.displayValue}}&nbsp</span>\n        <span class="grade-input-display ready" ng-if="displayGrade.gradeDisplayItem.displayValue == null">{{::displayGrade.getNoGradeDisplay()}}&nbsp</span>&nbsp;\n        <span ng-if="displayGrade.shouldShowPointsPossible()" class="points-text" bb-translate translate-values="{total: gradeDetail.pointsPossible || column.possible}">components.directives.grade.display-grade.points</span>\n      </span>\n    </a>\n  </div>\n  <div ng-if="displayGrade.shouldShowRubricDiv() && displayGrade.shouldShowRubricEvaluation()"\n       class="wrapping-input-style clear"\n       ng-class="displayGrade.colorClass">\n    <span>\n      <bb-svg-icon size="small" icon="rubric"></bb-svg-icon>\n      <span class="grade-input-display ready" ng-if="displayGrade.gradeDisplayItem.displayValue != null">{{displayGrade.gradeDisplayItem.displayValue}}</span>\n      <span class="grade-input-display ready" ng-if="displayGrade.gradeDisplayItem.displayValue == null">{{::displayGrade.getNoGradeDisplay()}}</span>&nbsp;\n      <span ng-if="displayGrade.shouldShowPointsPossible()" class="points-text" bb-translate translate-values="{total: gradeDetail.pointsPossible || column.possible}">components.directives.grade.display-grade.points</span>\n    </span>\n  </div>\n</div>'},pNbS:function(e,t,n){var o=n("ziER"),i=n("5JeM"),s=new o({id:"icon-small-upload-cloud",use:"icon-small-upload-cloud-usage",viewBox:"0 0 16 16",content:'<symbol fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" id="icon-small-upload-cloud"><path d="M1 10c0 3 2 4 4 4h7c2 0 3-1.3431 3-3 0-2-2-3-2-3s1-6-5-6C3 2 3 7 3 7s-2 .5-2 3zM8 6v4M10 8H6" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" /></symbol>'});i.add(s);e.exports=s},pPNb:function(e,t,n){var o=n("ziER"),i=n("5JeM"),s=new o({id:"icon-medium-edit-tool",use:"icon-medium-edit-tool-usage",viewBox:"0 0 24 24",content:'<symbol fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" id="icon-medium-edit-tool"><path d="M22.4282 4.0556c.366.7363.5717 1.5663.5717 2.4444 0 4.0963-3.02 6.4691-7 5.5l-10 10s-2 2-4 0 0-4 0-4L12 8c-.9691-3.98 1.4038-7 5.5-7 .8781 0 1.7081.2058 2.4445.5717l-3.0556 3.095S15.6666 5.8889 15.6666 6.5c0 1.0125.8208 1.8333 1.8333 1.8333.6112 0 1.8334-1.2222 1.8334-1.2222l3.0949-3.0555z" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" /></symbol>'});i.add(s);e.exports=s},pppo:function(e,t,n){var o=n("ziER"),i=n("5JeM"),s=new o({id:"icon-large-post-a",use:"icon-large-post-a-usage",viewBox:"0 0 38 38",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 38 38" id="icon-large-post-a"><g stroke="#FF3B30" stroke-linejoin="round" stroke-miterlimit="10"><path fill="#FBE9E8" d="M33.016 8.297l-22.062 10.75v10.938l7.225-4.91-2.038-1.965z" /><g fill="#FFF"><path d="M16.141 23.104l7.853 7.573c.419.404 1.115.238 1.307-.311l7.714-22.074-16.874 14.812zM10.954 19.041l22.063-10.75-27.374 4.876c-.678.121-.895.986-.354 1.413l5.665 4.461z" /></g><path fill="none" d="M10.954 29.985l5.187-6.875" /></g></symbol>'});i.add(s);e.exports=s},ptBS:function(e,t,n){var o=n("ziER"),i=n("5JeM"),s=new o({id:"icon-medium-messages",use:"icon-medium-messages-usage",viewBox:"0 0 24 24",content:'<symbol fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" id="icon-medium-messages"><path d="M1 4v16h22V4H1z" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" /><path d="M1 4l8.4419 7.6744L12 14l2.5581-2.3256L23 4M23 20c-3.3676-3.5207-5.5754-5.3288-8.4418-8.3256M1 20l8.4419-8.3256" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" /></symbol>'});i.add(s);e.exports=s},px9Z:function(e,t,n){},q0yA:function(e,t){e.exports='<div bb-foundation-defer bb-load-bundle="components/directives/content-visibility" dev-suppress-hide="true">\n  <div class="panel-block restricted-form content-visibility-rules-container">\n    <div class="row collapse">\n      <div class="columns small-12 js-from-checkbox">\n        <input type="checkbox"\n               ng-model="contentVisibilityRulesOptions.startDateSelect"\n               class="from-check"\n               id="from-check-{{contentVisibilityRulesOptions.id}}"\n               name="fromCheck"\n               ng-click="contentVisibilityRulesOptions.handleCheckClick($event)"\n               ng-show="!isReadOnlyMode()"\n               analytics-id="content.visibility.rules.options.startDateSelect.input.checkbox"/>\n        <label class="date-time-label" for="from-check-{{contentVisibilityRulesOptions.id}}" ng-show="!isReadOnlyMode()"\n          bb-translate>components.directives.content-visibility.startDate</label>\n        <label class="date-time-label"\n          ng-show="isReadOnlyMode() && (contentVisibilityRulesOptions.startDateSelect || isAllowedEmpty)"\n          bb-translate>\n          components.directives.content-visibility.startDate\n        </label>\n      </div>\n      <div\n        ng-show="contentVisibilityRulesOptions.startDateSelect || !isReadOnlyMode() || (isAllowedEmpty && isReadOnlyMode())"\n        class="columns small-12">\n        <div class="row collapse date-time-inputs" ng-class="{\'read-only-fields\': isReadOnlyMode()}">\n          <div class="columns small-6 js-date-input-container"\n            ng-class="{\'read-only-form-field\': isReadOnlyMode(), \'form-field-disabled\': !contentVisibilityRulesOptions.startDateSelect || isReadOnlyMode()}">\n            \x3c!-- htmlhint:analytics-id:disable --\x3e\n            <input id="date-from"\n              bb-date-picker\n              ng-model="startDate" name="dateFrom" aria-describedby="date-from-error"\n              first-day-of-week="contentVisibilityRulesOptions.localeSettings.calendar.firstDayOfWeek"\n              bb-validate-date\n              ng-class="{\'read-only-field\': isReadOnlyMode()}"\n              ng-attr-bb-focus="contentVisibilityRulesOptions.shouldFocus(\'start-date\')"\n              ng-blur="contentVisibilityRulesOptions.updateStartAndEndTime()"\n              ng-required="contentVisibilityRulesOptions.isDateRequired(true)"\n              ng-change="contentVisibilityRulesOptions.updateStartAndEndTime()"\n              ng-disabled="!contentVisibilityRulesOptions.startDateSelect || isReadOnlyMode()"\n              bb-translate-attrs="{\'aria-label\': \'components.directives.content-visibility.startDateAria\',\n                   \'placeholder\': \'components.directives.content-visibility.datePlaceholder\'}"\n              analytics-id="content.visibility.rules.options.startDate.input.text"/>\n              \x3c!-- htmlhint:analytics-id:enable --\x3e\n          </div>\n          <div class="columns small-6 input group"\n            ng-class="{\'read-only-form-field\': isReadOnlyMode(), \'form-field-disabled\': !contentVisibilityRulesOptions.startDateSelect || isReadOnlyMode()}">\n            \x3c!-- htmlhint:analytics-id:disable --\x3e\n            <input type="text" id="time-from" bb-time-picker ng-model="startTime" name="timeFrom"\n              aria-describedby="time-from-error" ng-class="{\'read-only-field\': isReadOnlyMode()}"\n              ng-blur="contentVisibilityRulesOptions.updateStartAndEndTime()"\n              ng-required="contentVisibilityRulesOptions.isDateRequired(true)"\n              ng-disabled="!contentVisibilityRulesOptions.startDateSelect || isReadOnlyMode()"\n              bb-translate-attrs="{\'aria-label\': \'components.directives.content-visibility.startTimeAria\',\n                   \'placeholder\': \'components.directives.content-visibility.timePlaceholder\'}"\n              analytics-id="content.visibility.rules.options.startDate.input.text"\n            />\n            \x3c!-- htmlhint:analytics-id:enable --\x3e\n          </div>\n        </div>\n      </div>\n    </div>\n    <div class="row collapse">\n      <div class="columns small-12">\n        <div bb-validation-messages for="dateFrom" class="row collapse" id="date-from-error">\n            <span ng-message="required">\n                <bb-translate>components.directives.content-visibility.startDateError</bb-translate>\n              </span>\n          <span ng-message="date" bb-translate>\n            {{::contentVisibilityRulesOptions.setErrorString(true, true)}}\n          </span>\n          <span ng-message="startAndOrEndDate">\n            <bb-translate>components.directives.content-visibility.startAndOrEndDateError</bb-translate>\n          </span>\n          <span ng-message="startAndOrEndDateOnsubmit">\n            <bb-translate>components.directives.content-visibility.startAndOrEndDateError</bb-translate>\n          </span>\n          <span ng-message="startBeforeDueDate">\n            <bb-translate>components.directives.content-visibility.dueDateBeforeError</bb-translate>\n          </span>\n        </div>\n      </div>\n      <div bb-validation-messages for="timeFrom" class="row collapse" id="time-from-error">\n          <span ng-message="required">\n              <bb-translate>components.directives.content-visibility.startTimeError</bb-translate>\n          </span>\n        <span ng-message="time">\n            {{::contentVisibilityRulesOptions.setErrorString(false, true)}}\n        </span>\n        <span ng-message="required">\n          <bb-translate>components.directives.content-visibility.startTimeError</bb-translate>\n        </span>\n      </div>\n    </div>\n    <div class="row collapse">\n      <div class="columns small-12 js-until-checkbox">\n        <input type="checkbox"\n               ng-model="contentVisibilityRulesOptions.untilDateSelect"\n               class="until-check"\n               id="until-check-{{contentVisibilityRulesOptions.id}}"\n               name="untilCheck"\n               ng-click="contentVisibilityRulesOptions.handleCheckClick($event)"\n               ng-show="!isReadOnlyMode()"\n               analytics-id="content.visibility.rules.options.untilDate.input.checkbox"/>\n        <label class="date-time-label" for="until-check-{{contentVisibilityRulesOptions.id}}"\n          ng-show="!isReadOnlyMode()" bb-translate>components.directives.content-visibility.endDate</label>\n        <label class="date-time-label"\n          ng-show="isReadOnlyMode() && (contentVisibilityRulesOptions.untilDateSelect || isAllowedEmpty)" bb-translate>\n          components.directives.content-visibility.endDate\n        </label>\n      </div>\n      <div\n        ng-show="contentVisibilityRulesOptions.untilDateSelect || !isReadOnlyMode() || (isAllowedEmpty && isReadOnlyMode())"\n        class="columns small-12">\n        <div class="row collapse date-time-inputs" ng-class="{\'read-only-fields\': isReadOnlyMode()}">\n          <div class="columns small-6 js-date-input-container"\n            ng-class="{\'read-only-form-field\': isReadOnlyMode(), \'form-field-disabled\': !contentVisibilityRulesOptions.untilDateSelect || isReadOnlyMode()}">\n            \x3c!-- htmlhint:analytics-id:disable --\x3e\n            <input id="date-until" \n              bb-date-picker \n              ng-model="endDate" \n              first-day-of-week="contentVisibilityRulesOptions.localeSettings.calendar.firstDayOfWeek"\n              bb-validate-date\n              name="dateUntil"\n              aria-describedby="date-until-error" ng-class="{\'read-only-field\': isReadOnlyMode()}"\n              ng-attr-bb-focus="contentVisibilityRulesOptions.shouldFocus(\'end-date\')"\n              ng-blur="contentVisibilityRulesOptions.updateStartAndEndTime()"\n              ng-change="contentVisibilityRulesOptions.updateStartAndEndTime()"\n              ng-required="contentVisibilityRulesOptions.isDateRequired(false)"\n              ng-disabled="!contentVisibilityRulesOptions.untilDateSelect || isReadOnlyMode()"\n              bb-translate-attrs="{\'aria-label\': \'components.directives.content-visibility.endDateAria\',\n                   \'placeholder\': \'components.directives.content-visibility.datePlaceholder\'}"\n              analytics-id="content.visiblity.rules.options.endDate.input.input.text"/>\n          </div>\n          <div class="columns small-6 input group"\n            ng-class="{\'read-only-form-field\': isReadOnlyMode(), \'form-field-disabled\': !contentVisibilityRulesOptions.untilDateSelect || isReadOnlyMode()}">\n            <input type="text" id="time-until" bb-time-picker ng-model="endTime" name="timeUntil"\n              aria-describedby="time-until-error" ng-class="{\'read-only-field\': isReadOnlyMode()}"\n              ng-blur="contentVisibilityRulesOptions.updateStartAndEndTime()"\n              ng-required="contentVisibilityRulesOptions.isDateRequired(false)"\n              ng-disabled="!contentVisibilityRulesOptions.untilDateSelect || isReadOnlyMode()"\n              bb-translate-attrs="{\'aria-label\': \'components.directives.content-visibility.endTimeAria\',\n                   \'placeholder\': \'components.directives.content-visibility.timePlaceholder\'}"\n              analytics-id="content.visibility.rules.options.endDate.input.text"/>\n              \x3c!-- htmlhint:analytics-id:enable --\x3e\n          </div>\n        </div>\n      </div>\n    </div>\n    <div class="row collapse">\n      <div class="columns small-12">\n        <div bb-validation-messages for="dateUntil" class="row collapse" id="date-until-error">\n          <span ng-message="required">\n            <bb-translate>components.directives.content-visibility.endDateError</bb-translate>\n          </span>\n          <span ng-message="date">\n            {{::contentVisibilityRulesOptions.setErrorString(true, false)}}\n          </span>\n          <span ng-message="requiredOnsubmit">\n            <bb-translate>components.directives.content-visibility.endDateError</bb-translate>\n          </span>\n          <span ng-message="untilAfterStart">\n            <bb-translate>components.directives.content-visibility.endDateBeforeError</bb-translate>\n          </span>\n          <span ng-message="untilAfterStartOnsubmit">\n            <bb-translate>components.directives.content-visibility.endDateBeforeError</bb-translate>\n          </span>\n          <span ng-message="untilDueDate">\n            <bb-translate>components.directives.content-visibility.dueDateAfterError</bb-translate>\n          </span>\n        </div>\n      </div>\n      <div bb-validation-messages for="timeUntil" class="row collapse" id="time-until-error">\n        <span ng-message="time">\n           {{::contentVisibilityRulesOptions.setErrorString(false, false)}}\n        </span>\n        <span ng-message="required">\n          <bb-translate>components.directives.content-visibility.endTimeError</bb-translate>\n        </span>\n      </div>\n    </div>\n  </div>\n</div>'},q1bP:function(e,t,n){n("wHJ2");n("SY8P"),e.exports="dibari.angular-ellipsis"},qSNv:function(e,t){e.exports='<bb-modal id="student-preview-modal" role="alertdialog" class="notification" bb-translate-attrs="{\'aria-label\': \'course.outline.studentPreview.modalTitleKey\'}"\n          modal-title-key="{{::localizationTokenPrefix}}.outline.studentPreview.modalTitleKey" aria-describedby="first-time-confimation"\n          analytics-id-tag-prefix="course.outline.studentPreview.firstTimeConfirmation">\n  <div name="modal-contents">\n    <bb-svg-icon size="custom" icon="preview-user-avatar"></bb-svg-icon>\n    <p id="first-time-info" bb-translate course-org-token-resolver>\n      course.outline.studentPreview.firstTimeConfirmation\n    </p>\n  </div>\n  <button name="modal-footer-button-primary"\n          type="button"\n          class="button js-discard-changes js-primary-button"\n          ng-click="startPreview()"\n          analytics-id="course.outline.studentPreview.firstTimeConfirmation.startPreview.button">\n    <span bb-translate="course.outline.studentPreview.startPreview"></span>\n  </button>\n  <button name="modal-footer-button-secondary" type="button" class="button button--secondary js-cancel-discard js-secondary-button" ng-click="$dismiss()"\n          analytics-id="course.outline.studentPreview.cancel.button">\n    <span bb-translate="course.outline.studentPreview.cancel"></span>\n  </button>\n</bb-modal>'},qeC2:function(e,t){e.exports='<div bb-load-bundle="components/directives/usercard" bb-cache-compilation="user-card" title="{{::userName}}">\n\n    <div ng-if="user.ui.anonymousStudent" class="anonymous-student-avatar">\n      <bb-avatar user="user" role="presentation" auto-update="::autoUpdate" inactive="inactive()"></bb-avatar>\n    </div>\n\n    <div ng-if="!user.ui.anonymousStudent"\n         ng-click="bbUsercard.show()"\n         ng-keydown="bbUsercard.keyDown($event)"\n         ng-mouseleave="bbUsercard.hide()"\n         tabindex="{{::bbUsercard.canShow() ? 0 : -1}}"\n         class="usercard-trigger"\n         ng-class="::{\'usercard-clickable\': bbUsercard.canShow(), \'usercard-not-clickable\': !bbUsercard.canShow()}"\n         role="button"\n         aria-haspopup="true"\n         aria-expanded="{{showcard}}"\n         aria-label="{{bbUsercard.getUserNameLabel()}}"\n         analytics-id="components.directives.usercard.showCard"\n    >\n        <div ng-switch="usercardShow" tabindex="-1">\n            <span ng-switch-when="username" class="usercard-button">\n                <bb-username class="name-title" user="user" ng-attr-format="{{attr.format}}" auto-update="{{autoUpdate}}"\n                             ng-class="{ inactive: inactive() }"></bb-username>\n            </span>\n            <span ng-switch-when="avatar" class="usercard-button">\n                <bb-avatar user="user" role="presentation" auto-update="::autoUpdate"\n                  inactive="inactive()"></bb-avatar>\n            </span>\n            <span ng-switch-when="combined" class="usercard-button">\n              <bb-avatar user="user" role="presentation" auto-update="::autoUpdate" inactive="inactive()"></bb-avatar>\n              <bb-username user="user" format="short" auto-update="::autoUpdate" ng-class="{ inactive: inactive() }"></bb-username>\n            </span>\n            <span ng-switch-when="outline" class="usercard-button">\n                <bb-avatar user="user" role="presentation" auto-update="::autoUpdate" inactive="inactive()"></bb-avatar>\n                <div class="element-details">\n                  <div class="name ellipsis">\n                      <bb-username user="user" format="short" auto-update="::autoUpdate" ng-class="{ inactive: inactive() }"></bb-username>\n                  </div>\n                  <div class="content ellipsis">\n                    <p class="user-name js-course-role" bb-translate>{{bbUsercard.getCourseRoleLocalizeId()}}</p>\n                  </div>\n                </div>\n            </span>\n        </div>\n        <div ng-if="showcard" class="element-card usercard usercard-not-clickable" ng-class="{\'showcard\': showcard }" bb-focus>\n            <div class="header" aria-hidden="true">\n                <bb-avatar user="user" ng-attr-auto-update="::autoUpdate" inactive="inactive()"></bb-avatar>\n                <div class="element-details">\n                    <div class="name">\n                        <bb-username class="name-title" user="user" ng-class="{ inactive: inactive() }"\n                                     ng-attr-format="{{attr.format}}" ng-attr-auto-update="{{::autoUpdate}}"></bb-username>\n                    </div>\n                  <div class="userId ellipse" ng-if="user.userName && !user.studentId" title="{{user.userName}}">{{user.userName}}</div>\n                  <div class="userId ellipse" ng-if="!user.userName && user.studentId" bb-translate translate-values="{ studentId: user.studentId }">components.directives.usercard.studentId</div>\n                  <div class="userId ellipse" ng-if="user.userName && user.studentId" bb-translate translate-values="{ username: user.userName, studentId: user.studentId }">components.directives.usercard.usernameAndId</div>\n                  <div class="profile ellipsis" bb-translate>{{bbUsercard.getCourseRoleLocalizeId()}}</div>\n                    <div class="profile exception-link" ng-if="bbUsercard.hasDueDateException()">\n                      <div class="clickable ellipsis" ng-if="bbUsercard.canEditDueDateException()" bb-translate bb-peek-sref="accommodation({membershipId: membershipId})">\n                        components.directives.usercard.studentExceptions\n                      </div>\n                      <span ng-if="!bbUsercard.canEditDueDateException()" bb-translate>\n                        components.directives.usercard.studentExceptions\n                      </span>\n                    </div>\n                </div>\n            </div>\n            <div class="buttons">\n              \x3c!-- I don\'t use one time binding, as user can open a peek panel to config this attribute. This configuration has to take effect immediately--\x3e\n              <button aria-hidden="{{!showcard}}" ng-if="bbUsercard.canSendMessage()"\n                      type="button"\n                      ng-click="bbUsercard.sendMessage()"\n                      class="button large clear mail-button"\n                      title="{{user.mail}}"\n                      bb-translate-attrs="{\'aria-label\': \'components.directives.usercard.sendMessage\'}"\n                      tabindex="{{showcard ? 0 : -1}}"\n                      ng-keydown="bbUsercard.sendMessageViaSpaceBar($event)"\n                      analytics-id="components.directives.usercard.sendMessage.button"\n              >\n                <bb-svg-icon size="medium" icon="messages"></bb-svg-icon>\n              </button>\n            </div>\n        </div>\n    </div>\n\n</div>\n'},qgBt:function(e,t,n){"use strict";n.d(t,"a",(function(){return h}));n("5k3c");var o=n("wHJ2"),i=n("Oyr+"),s=n("0JpG"),r=n("Vsv2"),a=n("zXZW"),c=n("pjml"),l=n("12mu"),d=n("lEL+"),u=n("Tyga"),p=n("VSO+"),h="ultra.directives.bbOneDrive",m=function(){function e(e,t,n,o,i,a,c,l,d){var u=this;this.scope=e,this.$q=t,this.$exceptionHandler=n,this.bbLocalize=o,this.$modal=i,this.cloudDrive=a,this.CloudDriveModel=c,this.CloudDriveTaskModel=l,this.timeout=d,this.provider=r.a.ONE_DRIVE.toString(),this.displaySingleFileUploadOnlyDialog=function(e,t){u.$modal.open({template:p,scope:u.scope,resolve:{translations:[s.serviceName,function(e){return e.loadBundle("components/directives/one-drive")}]}}).result.then((function(n){e.data.files=[e.data.files[0]],t(e)}))},this.bbLocalize.loadBundle("components/directives/one-drive")}return e.prototype.onFileSelect=function(e){this.scope.$emit(i.d,e,this.scope.primaryKey&&this.scope.primaryKey())},e.prototype.getDownloadFileInfo=function(e){return this.CloudDriveModel.$new("OneDrive").contents.$new(e).$fetch({accessToken:this.accessToken}).$asPromise()},e.prototype.getFilesInfoFromFolder=function(e){var t=this,n=[];this.CloudDriveModel.$new("OneDrive").contents.$new(e.id).getChildren({accessToken:this.accessToken}).$then((function(o){o&&o.length>0?(t.scope.folderBranchCounts--,o.forEach((function(o){o.ui=e.ui,"folder"===o.type?(t.scope.folderBranchCounts++,t.scope.isFlatten?t.attachHandler(null,o).then((function(e){t.getFilesInfoFromFolder(o)}),(function(){t.cloudDrive.isGettingFilesInfo=!1})):t.getFilesInfoFromFolder(o)):(t.cloudDrive.isGettingFilesInfo=!1,n.push(o))})),n&&n.length&&t.onFileSelect(n)):(t.scope.folderBranchCounts--,0===t.scope.folderBranchCounts&&(t.cloudDrive.isGettingFilesInfo=!1))}),(function(){t.cloudDrive.isGettingFilesInfo=!1}))},e.prototype.downloadFiles=function(e,t,n){var o=this,s={accessToken:this.accessToken,expand:"mimeType,isMedia"};this.scope.fileLocation&&(s.fileLocation=this.scope.fileLocation),this.scope.webLocation&&(s.webLocation=this.scope.webLocation),(t?this.CloudDriveTaskModel.$new(n||e.id):this.CloudDriveModel.$new("OneDrive").contents.$new(n||e.id).download).$fetch(s).$then((function(t){if("COMPLETE"===t.status)var n=o.scope.$on(i.e,(function(s,r,a){a!==i.c.UploadProgressComplete||e.ui.fileId&&r!==e.ui.fileId||(o.attachHandler(t,e),n())}));else o.timeout((function(){o.downloadFiles(e,!0,t.taskId)}),o.scope,2e3);(t.completePercentage<100||"COMPLETE"===t.status)&&o.scope.$root.$broadcast(i.e,e.ui.index,t.completePercentage,null,i.c.UpdateProgress,e.ui.targetDiv,e.ui.fileId)}),(function(t){o.displayUploadError(),o.scope.$root.$broadcast(i.e,e.ui.fileId,e,i.c.Error,e.ui.targetDiv,o.scope.primaryKey&&o.scope.primaryKey()),o.$exceptionHandler(t,"source")}))},e.prototype.attachHandler=function(e,t){var n=this.$q.defer(),o={fileName:null,fileLocation:null};return e&&(o.fileName=e.fileName,o.fileLocation=e.fileLocation,o.webLocation=e.webLocation,o.mimeType=e.mimeType,o.isMedia=e.isMedia),this.scope.attachHandler(o,t,this.scope.isUploadMultipleFiles).then((function(e){n.resolve(e)}),(function(e){n.reject(e)})),n.promise},e.prototype.displayUploadError=function(){this.$modal.open({template:u,scope:this.scope})},e.$inject=["scope","$q","$exceptionHandler",s.serviceName,l.b,r.c,c.j.serviceName,c.k.serviceName,d.b],e}(),b=function(){function e(e,t,n){var i=this;this.$injector=e,this.$q=t,this.CloudDriveService=n,this.scope={attachHandler:"=",isFlatten:"=?",primaryKey:"&?",primaryKeyValue:"@?",fileLocation:"@?",webLocation:"@?",disableClick:"&?",allowMultiple:"=?"},this.restrict="A",this.link=function(e,t,n){var s=i,a=r.a.ONE_DRIVE.toString();e.oneDrive=i.$injector.instantiate(m,{scope:e}),e.folderBranchCounts=0,e.isInitialized=!(!s.CloudDriveService.cloudDriveStorage[a]||!s.CloudDriveService.cloudDriveStorage[a].isInitialized),e.isInitialized||s.CloudDriveService.initializeCloudDrive(r.a.ONE_DRIVE);var c=function(t){var n=[];if(t.data.files&&t.data.files.length>0){for(var o=0;o<t.data.files.length;o++){var i=t.data.files[o].id;n.push(e.oneDrive.getDownloadFileInfo(i))}s.$q.all(n).then((function(t){s.CloudDriveService.isGettingFilesInfo=!1,e.oneDrive.onFileSelect(t),t.length>1&&(e.isUploadMultipleFiles=!0)}),(function(){s.CloudDriveService.isGettingFilesInfo=!1}))}t.data.folders&&t.data.folders.length>0&&(t.data.folders.forEach((function(t){e.folderBranchCounts++,e.isFlatten?(t.type="folder",e.oneDrive.attachHandler(null,t).then((function(n){e.oneDrive.getFilesInfoFromFolder(t)}),(function(){t.CloudDriveService.isGettingFilesInfo=!1}))):e.oneDrive.getFilesInfoFromFolder(t)})),e.isUploadMultipleFiles=!0)},l=function(){e.disableClick&&e.disableClick()||!e.isInitialized||(s.CloudDriveService.cloudDriveStorage[a].openFilePicker(null,e.allowMultiple).then((function(t){s.CloudDriveService.cloudDriveStorage[a].getAccessToken()?(e.oneDrive.accessToken=s.CloudDriveService.cloudDriveStorage[a].getAccessToken(),e.$root.$broadcast("uploadingByOneDrive"),s.CloudDriveService.isGettingFilesInfo=!0,o.isDefined(e.allowMultiple)&&!1===e.allowMultiple&&t.data.files.length>1?e.oneDrive.displaySingleFileUploadOnlyDialog(t,c):c(t)):l()})),e.$on("$destroy",(function(){s.CloudDriveService.isGettingFilesInfo=!1,t.off("click")})))};t.on("click",l),e.primaryKeyValue&&e.$on("oneDriveUpload",(function(t,n){e.primaryKey()===n&&l()}));var d=e.$watch((function(){return!!s.CloudDriveService.cloudDriveStorage[a]&&s.CloudDriveService.cloudDriveStorage[a].isInitialized}),(function(n,o){n?(e.isInitialized=!0,t.is("a")&&t.attr("tabindex",0),t.removeAttr("disabled"),d()):(e.isInitialized=!1,t.is("a")&&t.attr("tabindex",-1),t.attr("disabled","disabled"))}));e.$on("downloadFile",(function(t,n){n.ui.primaryKey===(e.primaryKey&&e.primaryKey())&&n.file.$url().indexOf("OneDrive")>=0&&e.oneDrive.downloadFiles(n)}))}}return e.$inject=["$injector","$q",r.c],e}();o.module(h,[s.moduleName,r.b,a.a,l.a,d.a]).directive("bbOneDrive",["$injector",function(e){return e.instantiate(b)}])},qzMN:function(e,t,n){var o=n("ziER"),i=n("5JeM"),s=new o({id:"icon-small-content-collection",use:"icon-small-content-collection-usage",viewBox:"0 0 16 16",content:'<symbol fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" id="icon-small-content-collection"><path d="M14 15H2V9h3v1h6V9h3v6zM13 9V4H3v5M4 4V1h8v3" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" /></symbol>'});i.add(s);e.exports=s},"r/An":function(e,t){e.exports='<div bb-load-bundle="components/directives/content-item-base" class="base-content-item" bb-cache-compilation="content-item-base">\n  <div class="content-item-base-container guidance-overflow-fix js-content-item-base" bb-click-to-invoke-child=".content-title">\n    <div ng-switch on="content.ui.importPlaceholder">\n      <div ng-switch-when="true" class="placeholder-container" bb-focus>\n        <div class="placeholder-text" bb-translate>components.directives.content-item-base.copy-placeholder</div>\n        <div class="sr-only" bb-translate>components.directives.content-item-base.please-wait</div>\n      </div>\n      <div ng-switch-default class="row drag-element-row" ng-class="{\n        \'is-restricted\': content.canViewAsInstructor() && content.isHiddenFromStudents(),\n        \'hidden-from-student-cr\': content.canViewAsInstructor() && content.isConditionalReleaseWithHiddenFromStudent(),\n        \'isNotClickable\': content.isConditionalReleaseLocked() || content.isRestricted() && !content.canViewAsInstructor()}">\n        <div class="content-item-row">\n          <div class="content-item-details" ng-class="{\'is-uploading\':content.ui.isUploading}">\n            <div class="element-card outline-item">\n              <ng-switch on="content.ui.isUploading">\n                <div ng-switch-when="true" class="upload-file">\n                  <bb-progress displayResults="false" id="{{content.ui.fileUploadId}}" class="bb-progress"></bb-progress>\n                </div>\n\n                <div class="outline-item-inner" ng-switch-default>\n                  <div class="element-image" ng-if="contentItemBase.isGradeLoaded" bb-content-item-icon="content" show-alert-icon="contentItemBase.shouldShowAlertIcon()">\n                  </div>\n                  <div class="element-details">\n                    <div ng-if="shouldShowContent">\n                      <bb-content-item-course-outline ng-if="!contentItemBase.isEngagementOutline()"></bb-content-item-course-outline>\n                      <bb-content-item-engagement-outline ng-if="contentItemBase.isEngagementOutline()"></bb-content-item-engagement-outline>\n                    </div>\n                    <div ng-if="!contentItemBase.shouldShowContent">\n                      {{contentItemBase.overrideMessage}}\n                    </div>\n                  </div>\n                </div>\n              </ng-switch>\n            </div>\n          </div>\n          <div ng-if="content.id" class="item-controls">\n            \x3c!-- Show this if the user has edit permissions on the content and it is movable //--\x3e\n            <button bb-drag-handle\n                    drag-item-id="{{content.id}}"\n                    drag-item-name="{{content.title}}"\n                    drag-item-type="{{contentItemBase.contentHandler}}"\n                    drag-item-context="{{contextArea}}"\n                    class="super-clear small button icon js-drag-handle"\n                    ng-if="canMove && content.canEdit() && !content.isInForcedSequenceModule()"\n                    translate-attrs-values="{contentTitle: content.title}"\n                    bb-translate-attrs="{\'title\': \'components.directives.content-item-base.move\', \'aria-label\': \'components.directives.content-item-base.aria-label.move\'}"\n                    analytics-id="content.item.base.move.button"\n                    >\n\n              <bb-svg-icon size="small" icon="move-item-up-down"></bb-svg-icon>\n            </button>\n            <bb-ally-content-ref\n                ng-if="contentItemBase.canShowAlly"\n                content-id="{{content.id}}"\n                file-id="{{::contentItemBase.allyService.getXythosIdFromContentItem(content)}}"\n                file-preview-url="{{::content.getContentDisplay().contentUrl()}}"\n            ></bb-ally-content-ref>\n            <bb-ally-show\n              ng-if="contentItemBase.canShowAlly"\n              content-id="{{content.id}}"\n              show-view-score-link="true"\n              show-icon="true"\n              class="ally-icon"\n            ></bb-ally-show>\n            <bb-ally-show\n              ng-if="contentItemBase.canShowAlly"\n              content-id="{{content.id}}"\n              show-alternative-formats-link="true"\n              show-icon="true"\n              class="ally-icon"\n            ></bb-ally-show>\n            \x3c!-- Show this if the user has edit or delete permissions //--\x3e\n            <div class="right" bb-foundation-defer>\n              <bb-overflow-menu ng-show="contentItemBase.showOverflowMenu()"\n                                element-id="{{content.id}}"\n                                element-name="{{content.title}}"\n                                menu-items="contentItemBase.getOverflowMenu()"\n                                on-menu-toggle="contentItemBase.updateAlly()"\n                                analytics-id-tag-prefix="components.directives.content-item-base.overflowMenu">\n              </bb-overflow-menu>\n            </div>\n          </div>\n        </div>\n        <div ng-if="contentItemBase.getDescription()" class="content-item-description">\n          <p class="js-description" ng-bind="contentItemBase.getDescription()"></p>\n        </div>\n      </div>\n    </div>\n  </div>\n</div>'},rElr:function(e,t,n){var o=n("ziER"),i=n("5JeM"),s=new o({id:"icon-small-chat",use:"icon-small-chat-usage",viewBox:"0 0 16 16",content:'<symbol fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" id="icon-small-chat"><path d="M15 8c0 3.866-3.134 7-7 7a6.983 6.983 0 0 1-2.528-.4704L1 15l.5-4.3969C1.1775 9.7984 1 8.9199 1 8c0-3.866 3.134-7 7-7s7 3.134 7 7z" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" /></symbol>'});i.add(s);e.exports=s},rKkA:function(e,t){e.exports='<div ng-cloak bb-cache-compilation="course-outline">\n  <div class="guidance-wrapper guidance-navbar">\n    <bb-guidance ng-if="courseOutline.shouldShowNavigationGuidance" class="guidance-element-overlay" ng-class="{\'push-right\': courseOutline.windowSizeService.isLargeBreakpoint()}"\n                 component-key="{{courseOutline.navigationGuidanceKey}}" page-container-selector=".course-outline">\n      <bb-translate course-org-token-resolver>course.outline.courseNavigation</bb-translate>\n    </bb-guidance>\n  </div>\n\n  <div class="course-outline webkit-render-issue-fix"\n       ng-class="{\'is-empty-page\': courseOutline.isEmpty, \'no-create\': !courseOutline.canCreateAllContent(), \'learning-module-enabled\': courseOutline.isLearningModuleEnabled}"\n       ng-attr-ready="{{::!courseOutline.isLoading || undefined}}">\n\n    <div ui-view="content-create-base"></div>\n\n    <div class="course-outline-row row collapse">\n\n      <aside role="complementary" class="outline-details {{::courseOutline.courseColorClass}}">\n\n        <div class="element-card main-instructor">\n          <bb-usercard class="js-single-instructor" usercard-show="outline" ng-show="courseOutline.instructors.length <= 1"\n            course-id="{{courseOutline.courseId}}" user="courseOutline.mainInstructor.user"\n            can-send-message="(!courseOutline.currentCourse.isPrivate() && !courseOutline.currentCourse.isComplete()) && courseOutline.mainInstructor.isAvailable"\n            course-role="courseOutline.mainInstructor.courseRole.localizedRoleName">\n          </bb-usercard>\n          <bb-multi-user-usercard ng-show="courseOutline.instructors.length > 1"\n            users="courseOutline.instructors" user-type="courseOutline.currentCourse.isOrganization ? \'leader\' : \'instructor\'" view="\'multiple-instructors\'">\n          </bb-multi-user-usercard>\n        </div>\n        <bb-schedule-outline schedule-outline-collection="courseOutline.currentCourse.schedule" week-day-format="long"></bb-schedule-outline>\n      </aside>\n\n    </div>\n    <div class="course-outline-row row">\n\n      <aside role="complementary" class="column medium-12 large-3 outline-actions">\n        <div class="outline-header">\n          <h2 class="js-course-skip-link-target js-details-header" bb-translate="course.outline.detailsActionsLabel"></h2>\n        </div>\n\n        <div class="small-12 medium-4 large-12" id="course-outline-roster-link">\n          <a href="javascript:void(0);"\n             class="element-card js-roster"\n             bb-peek-sref="roster"\n             analytics-id="course.outline.roster.link">\n            <div class="element-image icon" data-status="offline">\n              <bb-svg-icon size="medium" icon="people"></bb-svg-icon>\n            </div>\n            <div class="element-details">\n              <div class="name">\n                <span bb-translate>course.outline.roster.name</span>\n              </div>\n              <div class="content">\n                <p class="blue-link" bb-translate course-org-token-resolver>course.outline.roster.content</p>\n              </div>\n            </div>\n          </a>\n        </div>\n\n        <div class="small-12 medium-4 large-12" id="course-outline-description-link" ng-show="courseOutline.currentCourse.description">\n          <a href="javascript:void(0);"\n             class="element-card"\n             bb-peek-sref="description"\n             analytics-id="course.outline.description.link">\n            <div class="element-image icon">\n              <bb-svg-icon size="medium" icon="information"></bb-svg-icon>\n            </div>\n            <div class="element-details">\n              <div class="name">\n                <span bb-translate course-org-token-resolver>course.outline.courseDescription.name</span>\n              </div>\n              <div class="content">\n                <p class="blue-link" bb-translate course-org-token-resolver>course.outline.courseDescription.content</p>\n              </div>\n            </div>\n          </a>\n        </div>\n\n        <div class="small-12 medium-4 large-12 course-groups" id="groups-link" ng-if="courseOutline.canViewGroups">\n          <a href="javascript:void(0);"\n            class="element-card js-course-groups-list"\n            ng-class="{ \'disabled\': courseOutline.groupsLinkIsDisabled() }"\n            ng-click="courseOutline.openGroupWorkspacePanel()"\n            tabindex="{courseOutline.groupsLinkIsDisabled() ? \'-1\' : \'0\'}"\n            analytics-id="course.outline.groupWorkspaces.link">\n            <div class="element-image icon" data-status="offline">\n              <bb-svg-icon size="medium" icon="groups"></bb-svg-icon>\n            </div>\n            <div class="element-details">\n              <div class="name">\n                <span bb-translate course-org-token-resolver>course.outline.groupWorkspace.title</span>\n              </div>\n              <div class="content">\n                <span class="blue-link"\n                  ng-if="courseOutline.shouldShowViewGroupsLink()"\n                  bb-translate\n                  translate-values="{ groupSetCount: courseOutline.groupSetCount, groupCount: courseOutline.groupCount }"\n                >\n                  course.outline.groupWorkspace.instructor.content.plural\n                </span>\n                <span ng-if="courseOutline.shouldShowCreateGroupsLink()" bb-translate class="create-new blue-link">course.outline.groupWorkspace.instructor.createNew</span>\n              </div>\n            </div>\n          </a>\n        </div>\n\n        <div class="card-private-complete small-12 medium-4 large-12" id="course-outline-status-button" ng-show="courseOutline.isActAsInstructorMembership() && courseOutline.currentCourse.isChild === false ">\n          <button class="course-status js-change-course-status"\n                  ng-click="courseOutline.openModal()"\n                  ng-class="{ \'js-course-open\': courseOutline.currentCourse.isOpen(),\n                             \'js-course-closed\': courseOutline.currentCourse.isPrivate(),\n                             \'js-course-complete\': courseOutline.currentCourse.isComplete() }"\n                  analytics-id="course.outline.courseStatus.edit.button">\n            <div class="element-card">\n              <div class="element-image icon">\n                <bb-svg-icon size="medium" icon="unlock" ng-if="courseOutline.currentCourse.isOpen()"></bb-svg-icon>\n                <bb-svg-icon size="medium" icon="lock" ng-if="courseOutline.currentCourse.isPrivate()"></bb-svg-icon>\n                <bb-svg-icon size="medium" icon="course-complete" ng-if="courseOutline.currentCourse.isComplete()"></bb-svg-icon>\n              </div>\n              <div class="element-details">\n                <div class="name">\n                  <span>{{courseOutline.getCourseStatus()}}</span>\n                </div>\n                <div class="content">\n                  <p class="blue-link">{{courseOutline.getCourseDescription()}}</p>\n                </div>\n              </div>\n            </div>\n          </button>\n          <div class="guidance-wrapper">\n            <div class="guidance-anchor" ng-if="courseOutline.shouldShowAccessGuidanceOpenToStudent"\n                 bb-guidance-target component-key="{{courseOutline.studentAccessGuidanceKey}}">\n            </div>\n            <div class="guidance-anchor" ng-if="courseOutline.shouldShowAccessGuidanceReadOnly"\n                 bb-guidance-target component-key="{{courseOutline.alertCourseGuidanceKey}}">\n            </div>\n            \x3c!--guidance suggesting the instructor open the course to students--\x3e\n            <bb-guidance ng-if="courseOutline.shouldShowAccessGuidanceOpenToStudent"\n                         class="guidance-element-overlay push-left"\n                         component-key="{{courseOutline.studentAccessGuidanceKey}}">\n              <bb-translate course-org-token-resolver>course.outline.unaccessableCourse</bb-translate>\n            </bb-guidance>\n            \x3c!--guidance suggesting the instructor make the ended course read-only to students--\x3e\n            <bb-guidance ng-if="courseOutline.shouldShowAccessGuidanceReadOnly"\n                         class="guidance-element-overlay push-left"\n                         component-key="{{courseOutline.alertCourseGuidanceKey}}">\n              <bb-translate>course.outline.completeCourseNote</bb-translate>\n            </bb-guidance>\n          </div>\n        </div>\n\n        <div class="small-12 medium-4 large-12" ng-show="courseOutline.shouldShowVirtualClassroomLink()">\n          <a href="javascript:void(0);"\n             class="element-card"\n             ng-click="courseOutline.joinVirtualClassroom()"\n             bb-feature-toggle="!collab"\n             analytics-id="course.outline.collab.link">\n            <div class="element-image icon">\n              <bb-svg-icon size="medium" icon="collab"></bb-svg-icon>\n            </div>\n            <div class="element-details">\n              <div class="name">\n                <span bb-translate course-org-token-resolver>course.outline.collab.title</span>\n              </div>\n              <div class="content">\n                <p class="blue-link" bb-translate course-org-token-resolver>course.outline.collab.content</p>\n              </div>\n            </div>\n          </a>\n        </div>\n        <div class="element-card ultra-collab small-12 medium-4 large-12"\n             ng-show="courseOutline.collabUltraEnabled" bb-feature-toggle="collab" ng-class="{\'is-collab-enabled\': courseOutline.courseRoomSession.courseRoomEnabled}">\n          <div class="element-image icon">\n            <bb-collab-session-icon id="collab-icon-outline" running-session-flag="courseOutline.runningSessionFlag"></bb-collab-session-icon>\n          </div>\n          <div class="element-details">\n            <div class="name">\n              <span bb-translate class="large-12 medium-12 small-12">course.outline.collab.ultraCollabTitle</span>\n            </div>\n            <div class="content">\n              <div class="select-wrapper">\n                <div ng-show="courseOutline.activeSessionCount() >= 1" bb-foundation-defer>\n                  <button id="sessions-list-dropdown"\n                          aria-describedby="collab-icon-outline"\n                          class="select-value join-session button-anchor"\n                          data-dropdown="sessions-list"\n                          aria-haspopup="true"\n                          aria-controls="sessions-list"\n                          bb-click-focus="#sessions-list li:first > a"\n                          analytics-id="course.outline.collab.sessionList.dropdown.button">\n                    <span class="blue-link" bb-translate="course.outline.collab.ultraCollabContent.roomEnabled"></span>\n                  </button>\n                  <ul role="menu" id="sessions-list" data-dropdown-content class="f-dropdown collab-scroll-container">\n                    <li ng-if="courseOutline.isCourseRoomEnabled()" role="presentation">\n                      <a href="javascript:void(0);"\n                         role="menuitem"\n                         ng-click="courseOutline.joinSession(courseOutline.courseRoomSession.id)"\n                         analytics-id="course.outline.collab.sessionList.courseRoom.link">\n                        <span bb-translate="course.outline.collab.ultraCollabMenu.courseRoom" course-org-token-resolver></span>\n                      </a>\n                    </li>\n\n                    <li ng-repeat="collabSession in courseOutline.courseSessionList" role="presentation">\n                      <a href="javascript:void(0);"\n                         role="menuitem"\n                         ng-click="courseOutline.joinSession(collabSession.id)"\n                         analytics-id="course.outline.collabSession.link">\n                        <span>{{collabSession.name}}</span>\n                      </a>\n                    </li>\n                  </ul>\n                </div>\n                <div ng-if="courseOutline.activeSessionCount() < 1">\n                  <p ng-if="!(courseOutline.collabPermissions && courseOutline.collabPermissions.viewAllSessionsInLti)" bb-translate="course.outline.collab.ultraCollabContent.studentRoomDisabled"></p>\n                  <p ng-if="courseOutline.collabPermissions && courseOutline.collabPermissions.viewAllSessionsInLti" bb-translate="course.outline.collab.ultraCollabContent.instructorRoomDisabled"></p>\n                </div>\n              </div>\n            </div>\n          </div>\n          <bb-overflow-menu bb-foundation-defer ng-show="courseOutline.collabUltraEnabled && courseOutline.isCollabSettingsDropDownAvailable()"\n                            element-id="collab-dropdown"\n                            element-name="{{courseOutline.getLocalizedTextByKey(\'course.outline.collaborate\')}}"\n                            menu-items="courseOutline.getOverflowMenuItems()"\n                            analytics-id-tag-prefix="course.outline.collab.overflowMenu">\n          </bb-overflow-menu>\n        </div>\n        <div class="small-12 medium-4 large-12" ng-if="courseOutline.attendanceEnabled">\n          <a href="javascript:void(0);"\n             class="element-card js-open-attendance"\n             bb-peek-sref="{{course.canModifyAttendance ? \'attendance\' : \'attendance-student-view\'}}"\n             analytics-id="course.outline.attendance.link">\n            <div class="element-image icon">\n              <bb-svg-icon size="medium" icon="attendance"></bb-svg-icon>\n            </div>\n            <div class="element-details">\n              <div class="name">\n                <span bb-translate>course.outline.attendance.title</span>\n              </div>\n              <div class="content">\n                <p class="blue-link" ng-if="course.canModifyAttendance" bb-translate>course.outline.attendance.markAttendance</p>\n                <p class="blue-link" ng-if="!course.canModifyAttendance" bb-translate>course.outline.attendance.viewRecords</p>\n              </div>\n            </div>\n          </a>\n        </div>\n        <div class="small-12 medium-4 large-12"\n             ng-if="courseOutline.shouldShowSelfEnrollmentLink()"\n             id="course-groups-link">\n          <a href="javascript:void(0);"\n             class="element-card js-open-self-enroll-courses"\n             bb-peek-sref="course-group-enroll"\n             analytics-id="course.outline.groups.openEnroll.link">\n            <div class="element-image icon">\n              <bb-svg-icon size="medium" icon="groups"></bb-svg-icon>\n            </div>\n            <div class="element-details">\n              <div class="name">\n                <span bb-translate>course.outline.groups.title</span>\n                <span ng-if="courseOutline.getGroupsToJoinCount() > 0" class="is-new-label" bb-translate>\n                  course.outline.groupWorkspace.student.new\n                </span>\n              </div>\n              <div class="content">\n                <span class="blue-link"\n                  bb-translate\n                  translate-values="{ groupsToJoinCount: courseOutline.getGroupsToJoinCount() }"\n                >\n                  course.outline.groupWorkspace.student.content.plural\n                </span>\n              </div>\n            </div>\n          </a>\n        </div>\n        <div class="small-12 medium-4 large-12 announcements" id="announcements-link" ng-if="courseOutline.isAnnouncementsEnabled">\n          <a href="javascript:void(0);"\n             class="element-card js-announcement-list"\n             ng-click="courseOutline.openAnnouncementsPanel()"\n             ng-class="{\'isNotClickable\': courseOutline.disableAnnouncementsClickForStudent()}"\n             aria-disabled="courseOutline.disableAnnouncementsClickForStudent()"\n             tabindex="{{courseOutline.disableAnnouncementsClickForStudent() ? -1 : 0}}"\n             analytics-id="course.outline.announcements.link">\n            <div class="element-image icon" data-status="offline">\n              <bb-svg-icon size="medium" icon="announcements"></bb-svg-icon>\n            </div>\n            <div class="element-details">\n              <div class="name">\n                <span bb-translate>course.outline.announcements.title</span>\n              </div>\n              <div ng-if="courseOutline.announcementsTotalCount > -1" class="content">\n                <span ng-if="courseOutline.announcementPermissions.viewUnposted && courseOutline.announcementsTotalCount > 0" class="blue-link" bb-translate translate-values="{ postedCount: courseOutline.announcementsPostedCount, totalCount: courseOutline.announcementsTotalCount }">course.outline.announcements.instructor.content</span>\n                <span ng-if="courseOutline.announcementPermissions.create && courseOutline.announcementsTotalCount === 0" class="js-create-announcement create-new blue-link" bb-translate>course.outline.announcements.instructor.createNew</span>\n                <span ng-if="!courseOutline.announcementPermissions.viewUnposted && courseOutline.announcementsTotalCount > 0" class="js-view-archive blue-link" bb-translate translate-values="{ totalCount: courseOutline.announcementsTotalCount }">course.outline.announcements.student.content</span>\n                <span ng-if="!courseOutline.announcementPermissions.create && courseOutline.announcementsTotalCount === 0" bb-translate class="js-announcement-link disable">course.outline.announcements.student.noContent</span>\n              </div>\n            </div>\n          </a>\n        </div>\n\n        <div class="small-12 medium-4 large-12"\n             id="books-and-tools-link">\n          <a class="element-card"\n             bb-peek-sref="books-and-tools({ parentId: courseOutline.rootNode.id })"\n             analytics-id="course.outline.booksAndTools.link">\n             <div class="element-image icon">\n              <bb-svg-icon size="medium" icon="edit-tool"></bb-svg-icon>\n            </div>\n            <div class="element-details">\n              <div class="name">\n                <span bb-translate>course.outline.booksAndTools.name</span>\n              </div>\n              <div class="content">\n                <p class="blue-link" bb-translate course-org-token-resolver>course.outline.booksAndTools.content</p>\n              </div>\n            </div>\n          </a>\n        </div>\n\n        <div>\n          <div class="card-question-banks small-12 medium-4 large-12"\n               id="question-banks-link"\n               bb-course-entitlement="course.pool.MODIFY" course-id="courseOutline.courseId" entitlement-action="show">\n            <a href="javascript:void(0);"\n               class="element-card js-question-banks"\n               bb-peek-sref="question-banks"\n               analytics-id="course.outline.questionBanks.link">\n              <div class="element-image icon" data-status="offline">\n                <bb-svg-icon size="medium" icon="question-bank"></bb-svg-icon>\n              </div>\n              <div class="element-details">\n                <div class="name">\n                  <span bb-translate>course.outline.questionBanks.name</span>\n                </div>\n                <div class="content">\n                  <p class="blue-link" bb-translate>course.outline.questionBanks.content</p>\n                </div>\n              </div>\n            </a>\n            <div class="guidance-wrapper">\n              <div bb-guidance-target\n                   ng-if="courseOutline.shouldShowQuestionBanksGuidance"\n                   class="guidance-anchor"\n                   component-key="{{::courseOutline.questionBanksNavGuidanceKey}}">\n              </div>\n              <bb-guidance class="guidance-element-overlay push-left"\n                           ng-if="courseOutline.shouldShowQuestionBanksGuidance"\n                           component-key="{{::courseOutline.questionBanksNavGuidanceKey}}">\n                <bb-translate course-org-token-resolver>course.outline.questionBanks.guidance</bb-translate>\n              </bb-guidance>\n            </div>\n          </div>\n        </div>\n\n        <div class="small-12 medium-4 large-12"\n             id="course-outline-conversion-link"\n             ng-if="courseOutline.hasConversionReport()">\n          <a href="javascript:void(0);"\n             class="element-card"\n             bb-peek-sref="conversion-risk-analysis"\n             analytics-id="course.outline.conversionReport.link">\n            <div class="element-image icon">\n              <bb-svg-icon size="medium" icon="default-conversion-exceptions"></bb-svg-icon>\n            </div>\n            <div class="element-details">\n              <div class="name">\n                <span bb-translate>course.outline.conversionException.name</span>\n              </div>\n              <div class="content">\n                <p class="blue-link" bb-translate course-org-token-resolver>course.outline.conversionException.content</p>\n              </div>\n            </div>\n          </a>\n        </div>\n\n        \x3c!-- Institution cloud storage if exists --\x3e\n        <div class="small-12 medium-4 large-12 js-inst-cloud-storage" id="cloud-storage-link" remove-from-dom="true"\n             ng-if="courseOutline.hasInstitutionAccount()">\n          <a href="javascript:void(0);"\n             class="element-card"\n             ng-click="courseOutline.launchInstitutionAccount()"\n             analytics-id="course.outline.institutionAccount.link">\n            <div class="element-image icon" data-status="offline">\n              <bb-svg-icon size="medium" icon="{{courseOutline.getCloudStorageIcon()}}"></bb-svg-icon>\n            </div>\n            <div class="element-details">\n              <div class="name">\n                <span bb-translate="base.tools.{{::courseOutline.instAccount.type}}"></span>\n              </div>\n              <div class="content">\n                <span class="blue-link">{{courseOutline.getInstConnectString()}}</span>\n              </div>\n            </div>\n          </a>\n        </div>\n\n        \x3c!--Student Preview--\x3e\n        <div class="small-12 medium-4 large-12 student-preview" id="student-preview-link" bb-feature-toggle="studentPreview" remove-from-dom="true"\n           ng-if="courseOutline.showPreviewButton && !courseOutline.currentCourse.isComplete()">\n          <a href="javascript:void(0);"\n             class="element-card js-student-preview-list"\n             ng-click="courseOutline.showFirstTimeConfirmationModal()"\n             bb-guidance-target\n             component-key="course.outline.studentPreview.ftue.startPreview.tooltipHeader"\n             analytics-id="course.outline.studentPreview.link">\n            <div class="element-image icon" data-status="offline">\n              <bb-svg-icon size="medium" icon="visible"></bb-svg-icon>\n            </div>\n            <div class="element-details">\n              <div class="name">\n                <span bb-translate course-org-token-resolver>course.outline.studentPreview.name</span>\n              </div>\n              <div class="content enter-preview-mode">\n                <span class="blue-link" bb-translate course-org-token-resolver>course.outline.studentPreview.content</span>\n              </div>\n            </div>\n          </a>\n          <bb-guidance\n            component-key="course.outline.studentPreview.ftue.startPreview.tooltipHeader"\n            class="guidance-element-overlay">\n            <h3 bb-translate course-org-token-resolver>course.outline.studentPreview.ftue.startPreview.tooltipHeader</h3>\n            <p bb-translate course-org-token-resolver>course.outline.studentPreview.ftue.startPreview.tooltipContent</p>\n          </bb-guidance>\n        </div>\n\n      </aside>\n\n      <div class="columns medium-12 large-9 outline-column dropzoneTarget">\n        <div ng-if="courseOutline.isAnnouncementsEnabled">\n          <announcement-slide></announcement-slide>\n        </div>\n        <div class="outline-header inventory-header">\n          <h2 class="js-course-skip-link-target content-header" bb-translate="course.outline.contentHeaderLabel" course-org-token-resolver></h2>\n          <div id="copy-details-ftue" bb-foundation-defer>\n            <bb-guidance ng-if="courseOutline.shouldShowCopyDetailsOverflowGuidance"\n                class="guidance-element-overlay"\n                component-key="course.copyError"\n                page-container-selector=".course-outline">\n              <bb-translate course-org-token-resolver>course.outline.viewCopyDetails</bb-translate>\n            </bb-guidance>\n            <bb-overflow-menu ng-show="courseOutline.canCopyOrImport() || courseOutline.canArchive || courseOutline.canExport || courseOutline.canAccessBatchEdit"\n                              element-id="ddm-course-operation"\n                              element-name="{{courseOutline.getLocalizedTextByKey(courseOutline.outlineLocalePrefix + \'.courseContent\')}}"\n                              on-menu-toggle="courseOutline.handleOutlineMenuToggle(isOpen)"\n                              menu-items="courseOutline.getCourseOperationOverflowMenuItems()"\n                              analytics-id-tag-prefix="course.outline.copyDetails.overflowMenu">\n            </bb-overflow-menu>\n          </div>\n        </div>\n\n        <div class="spinner bb-secondary-color-2" ng-if="courseOutline.isLoading || !$root.bbOffcanvasOpened" aria-hidden="true"></div>\n        <div class="element-card-list inventory js-content-outline" bb-mouse-leave-enter="content-outline">\n          <div ng-show="courseOutline.isEmpty">\n            <div ng-if="!courseOutline.canCreateAllContent()" class="js-student-view-empty">\n              <div class="is-empty-wrapper js-course-skip-link-target">\n                <div class="is-empty-explanation">\n                  <img src="./static/images/ftue/course-outline-zero-state-illustration.png" alt="" bb-translate-attrs="{title: \'course.outline.student.emptyCourse.illustrationAlt\'}" />\n                  <h1 class="is-empty-heading">\n                    <span ng-if="courseOutline.currentCourse.isComplete()" bb-translate="course.outline.student.emptyCourse.complete.header" course-org-token-resolver></span>\n                    <span ng-if="!courseOutline.currentCourse.isComplete()" bb-translate="course.outline.student.emptyCourse.header" course-org-token-resolver></span>\n                  </h1>\n                  <span ng-if="!courseOutline.currentCourse.isComplete()" bb-translate="course.outline.student.emptyCourse.message" course-org-token-resolver></span>\n                </div>\n              </div>\n            </div>\n            <div ng-if="courseOutline.canCreateAllContent()" bb-feature-toggle="!learningModule" remove-from-dom="true">\n              <div class="ready-for-content">\n                <div class="is-empty-wrapper">\n                  <div class="is-empty-explanation">\n                    <img src="./static/images/ftue/course-outline-zero-state-illustration.png" alt="" bb-translate-attrs="{alt: \'course.outline.emptyCourse.illustrationAlt\'}" />\n                    <h1 class="is-empty-heading" bb-translate="course.outline.emptyCourse.header" course-org-token-resolver></h1>\n                    <span bb-translate="course.outline.emptyCourse.message" course-org-token-resolver></span>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n\n          <div class="guidance-wrapper guidance-wrapper-add-control">\n            <bb-guidance ng-if="courseOutline.shouldShowOutlineGuidance && !courseOutline.isEmpty" class="guidance-element push-top"\n                        component-key="{{courseOutline.addContentGuidanceKey}}" page-container-selector=".course-outline">\n              <bb-translate>course.outline.addContent</bb-translate>\n            </bb-guidance>\n            <div bb-guidance-target component-key="{{courseOutline.addContentGuidanceKey}}" keep-guidance-when-focusout="true" class="guidance-click-through"></div>\n          </div>\n          <div id="copy-details-notification-ftue">\n            <bb-guidance ng-if="courseOutline.shouldShowCopyDetailsNotification && courseOutline.hasCurrentCopyDetailsErrors" class="guidance-element-overlay"\n              component-key="course.copyErrorNotification" page-container-selector=".course-outline">\n              <bb-translate>course.outline.copyErrorsNotification</bb-translate>\n            </bb-guidance>\n          </div>\n          <div id="copy-errors-notification" ng-if="courseOutline.shouldShowCopyDetailsNotification && courseOutline.hasCurrentCopyDetailsErrors"\n            role="alert" aria-live="assertive" aria-labelledby="copy-errors-notification-content-title copy-errors-notification-content-message">\n            <bb-svg-icon size="medium" icon="attention" status="alert"></bb-svg-icon>\n            <div id="copy-errors-notification-content">\n              <div id="copy-errors-notification-content-title" bb-translate>course.outline.notificationCopyDetails.title</div>\n              <div>\n                <span id="copy-errors-notification-content-message" bb-translate translate-values="{count: courseOutline.copyDetailsErrorCount}">\n                  course.outline.notificationCopyDetails.message.plural\n                </span>\n                <a href="javascript:void(0);"\n                   bb-translate\n                   ng-click="courseOutline.openCopyDetailsPanel()"\n                   analytics-id="course.outline.notificationCopyDetails.viewDetails">\n                  course.outline.notificationCopyDetails.viewDetails\n                </a>\n              </div>\n            </div>\n            <bb-svg-icon size="small" icon="close" tabindex="0" ng-click="courseOutline.copyDetailsNotificationDismissed()"\n                         analytics-id="course.outline.copyDetailsNotificationDismis.button"></bb-svg-icon>\n          </div>\n          <div ng-if="courseOutline.isEmpty && courseOutline.rootNode.canEdit() && courseOutline.canMove" class="js-student-view-empty" >\n            <div class="is-empty-page">\n              <div class="is-empty-wrapper">\n                <div class="is-empty-explanation">\n                  <img src="./static/images/ftue/ftuMMicon_BuildContent_assessment.svg" alt="" aria-hidden="true" />\n                  <h3 course-org-token-resolver class="is-empty-heading" bb-translate>course.outline.emptyCourse.zeroStateHeader</h3>\n                  <span bb-translate>course.outline.emptyCourse.zeroStateDesc</span>\n                </div>\n              </div>\n            </div>\n          </div>\n          <div ng-switch="courseOutline.canCreateAllContent()">\n            <div ng-switch-when="true">\n              <bb-file-upload url="/v1/files" data="{}" allow-multiple="true" is-content="true" click-enabled="false" hide-transclude-during-upload="false"\n                              use-default-success-method="false" skip-zip-file-check="true">\n                <bb-content-outline\n                  ng-if="::$root.bbOffcanvasOpened || undefined"\n                  show-content-import-progress="{{::courseOutline.showContentImportProgress}}"\n                  context-area="courseOutline.contextArea"\n                  is-first="true"\n                  contents="courseOutline.rootNode.children"\n                  load-more-children="courseOutline.loadMoreChildren"\n                  parent-folder="courseOutline.rootNode"\n                  on-file-drop-handler="courseOutline.onFileDropHandler"\n                  on-move-handler="courseOutline.moveItem"\n                  on-move-into-folder-handler="courseOutline.moveItemIntoFolder"\n                  can-move="courseOutline.canMove"\n                  can-create="courseOutline.rootNode.children.canCreate()"\n                  can-copy-import="courseOutline.canCopyOrImport()"\n                  bb-key-hide-ftue="{{courseOutline.addContentGuidanceKey}}">\n                </bb-content-outline>\n              </bb-file-upload>\n            </div>\n            <div ng-switch-when="false">\n              <bb-content-outline\n                ng-if="::$root.bbOffcanvasOpened || undefined"\n                show-content-import-progress="{{::courseOutline.showContentImportProgress}}"\n                context-area="courseOutline.contextArea"\n                is-first="true"\n                contents="courseOutline.rootNode.children"\n                load-more-children="courseOutline.loadMoreChildren"\n                parent-folder="courseOutline.rootNode"\n                on-move-handler="courseOutline.moveItem"\n                on-move-into-folder-handler="courseOutline.moveItemIntoFolder"\n                can-move="courseOutline.canMove"\n                can-create="courseOutline.rootNode.children.canCreate()"\n                can-copy-import="courseOutline.canCopyOrImport()"\n                bb-key-hide-ftue="{{courseOutline.addContentGuidanceKey}}">\n              </bb-content-outline>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n\n  <div id="roster-content">\n    <div ui-view></div>\n  </div>\n  <div ng-if="courseOutline.isStudentMembership()" bb-feature-toggle="courseNotice" remove-from-dom="true">\n    <bb-notice course-id="{{courseOutline.courseId}}" bb-notice-class="{{::courseOutline.courseColorClass}}"/>\n  </div>\n\n  <bb-content-import-status-bar display="courseOutline.showImportCopyStatusBar"\n                                task-id="courseOutline.importCopyTaskId"\n                                ng-attr-import-task-id="{{::courseOutline.workingImportCopyTaskId}}"\n                                course-id="courseOutline.currentCourse.id"></bb-content-import-status-bar>\n</div>\n'},rtZE:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return a}));var o=n("D57K"),i=n("nsO7"),s=n("wHJ2"),r="ultra.service.RecursionHelper",a="recursionHelper",c=function(){function e(e){this.$compile=e,this.compileContents=i.memoize(this.compileContents)}return e.prototype.compileContents=function(e,t){return this.$compile(t)},e.prototype.compile=function(e,t,n){var i=this;s.isFunction(n)&&(n={post:n});var r=t.contents();return t.empty(),{pre:n&&n.pre?n.pre:null,post:function(t,s){for(var a=[],c=2;c<arguments.length;c++)a[c-2]=arguments[c];var l=i.compileContents(e,r);l(t,(function(e){s.append(e)})),n&&n.post&&n.post.apply(null,Object(o.__spreadArrays)([t,s],a))}}},e.$inject=["$compile"],e}();!function(e){function t(){return null!==e&&e.apply(this,arguments)||this}Object(o.__extends)(t,e)}(c);s.module(r,[]).service(a,c)},"s7x+":function(e,t){e.exports='<bb-modal class="js-course-status-modal-PREVIEW notification" modal-title-key="{{previewModalTitleKey}}"\n          modal-dismiss-key=""\n          analytics-id-tag-prefix="course.outline.previewCourse">\n  <div name="modal-contents">\n    <p bb-translate="course.outline.previewCourse.modalText" course-org-token-resolver></p>\n  </div>\n  <button name="modal-footer-button-primary" \n          ng-click="$parent.$close(\'OPEN\')" \n          class="button js-course-status-OPEN js-primary-button"\n          analytics-id="course.outline.previewCourse.open.button">\n    <span bb-translate="course.outline.previewCourse.makeOpen" course-org-token-resolver></span>\n  </button>\n  <button name="modal-footer-button-secondary" \n          ng-click="$parent.$close()" \n          class="button button--secondary js-course-status- js-secondary-button"\n          analytics-id="course.outline.previewCourse.close.button">\n    <span bb-translate="global.cancel"></span>\n  </button>\n</bb-modal>'},sB2Z:function(e,t){e.exports='<div class="content-wrapper" ng-class="{\'nocontent\': !content.canViewAsInstructor()}">\n  <ng-switch on="content.getContentDisplay().viewHandler()">\n    <div ng-switch-when="resource/x-bb-folder" class="engagement-folder">\n      <bb-content-item-folder></bb-content-item-folder>\n    </div>\n    <a ng-switch-when="resource/x-bb-forumlink" \n       bb-peek-sref="discussion.view.with-grading({contentId:content.id})"\n       bb-prevent-click-if="content.isConditionalReleaseLocked()" \n       ng-attr-tabindex="{{ content.isConditionalReleaseLocked() ? -1 : 0 }}"\n       class="content-title name" \n       draggable="{{canMove}}"\n       analytics-id="content.item.engagement.outline.forumLink.link"\n    >\n      <span>{{ content.title }}</span>\n    </a>\n    <div ng-switch-default class="content-title">{{ content.title }}</div>\n  </ng-switch>\n  <div ng-if="content.canViewAsInstructor() && content.canHaveAttempts() && content.hasDueDate()" class="due-date">\n    \x3c!-- no due date --\x3e\n    <span bb-translate ng-if="!dueDate" class="content-no-due-date-label">components.directives.content-item-base.no-due-date</span>\n    \x3c!-- due date --\x3e\n    <span bb-translate ng-if="dueDate && !gradeDetail" class="content-due-date-label">components.directives.content-item-base.due-date</span>\n    <bb-datetime format="Short" value="dueDate" ng-if="dueDate && !gradeDetail" class="content-due-date"></bb-datetime>\n  </div>\n  <div ng-if="!content.canViewAsInstructor() && content.canHaveAttempts() && content.hasDueDate()" class="due-date"\n       ng-class="{\'is-late\': contentItemBase.isLate}" ng-switch="dueDate != null">\n    \x3c!-- submission card --\x3e\n    \x3c!--  TODO: submissionCard is disabled until LRN-101279 is fixed --\x3e\n    \x3c!-- <bb-submission-card ng-if="gradeDetail"  grade-detail="gradeDetail" inline="true"></bb-submission-card>\n    <bb-submission-card ng-if="!gradeDetail" grading-column="gradingColumn" inline="true"></bb-submission-card> --\x3e\n    \x3c!-- no due date --\x3e\n    <span bb-translate ng-switch-default class="content-no-due-date-label">components.directives.content-item-base.no-due-date</span>\n    \x3c!-- due date --\x3e\n    <span bb-translate ng-switch-when="true" class="content-due-date-label">components.directives.content-item-base.due-date</span>\n    <bb-datetime format="Short" value="dueDate" ng-switch-when="true" class="content-due-date"></bb-datetime>\n  </div>\n  <div ng-if="contentItemBase.isModifyPermissionLoaded && content.canHaveAttempts() && content.isGroupContent" class="group-info">\n    <div class="group-name">\n      <span><bb-svg-icon size="small" icon="groups"></bb-svg-icon></span>\n      <a href="javascript:void(0);" \n         ng-if="contentItemBase.hasViewGroupsAsAdmin" \n         ng-click="contentItemBase.editGroups()"\n         analytics-id="content.item.engagement.outline.contentItemBase.editGroups.link"\n      >\n        <bb-group-count content="content"></bb-group-count>\n      </a>\n      <span ng-if="contentItemBase.canViewGroups && !contentItemBase.hasViewGroupsAsAdmin">\n        <bb-group-count content="content"></bb-group-count>\n      </span>\n      <div ng-if="!contentItemBase.canViewGroups && !contentItemBase.hasViewGroupsAsAdmin" class="title">\n        <bb-group-student-enrollment content="content"></bb-group-student-enrollment>\n      </div>\n    </div>\n  </div>\n  <div ng-if="!content.canViewAsInstructor() && content.isConditionalReleaseLocked()"\n    role="tooltip"\n    class="lock-info"\n    tabindex="0"\n    bb-complex-tooltip\n    enhanced-tooltip="true"\n    tooltip-position="bottom"\n    tooltip-open-on-activation="true"\n    tooltip-disable-on-mouse-over="true"\n    tooltip-scope="contentItemBase.conditionalRelease.tooltipScope"\n    tooltip-template="{{::contentItemBase.conditionalRelease.getConditionalReleaseComplexTooltipTemplate()}}">\n    <span bb-translate="components.directives.content-item-base.conditionalRelease.lock-info"></span>\n    <span class="sr-only">{{contentItemBase.conditionalRelease.tooltips}}</span>\n  </div>\n  <div class="name-controls stop-click-propagation"\n    ng-class="{\n      \'name-conditional-release\': !content.canViewAsInstructor() && content.isConditionalReleaseLocked(),\n      \'selector-disabled\': content.isInForcedSequenceModule()\n    }"\n    ng-if="contentItemBase.showVisibility()">\n    <bb-content-visibility-selector content="content"\n                                    link-content="contentItemBase.targetContent"\n                                    onchange-func="contentItemBase.updateContentVisibility()"\n                                    disable-restricted="contentItemBase.disableRestricted"\n                                    open-panel-on-restricted="true"\n                                    verbose-restricted-label="true"></bb-content-visibility-selector>\n  </div>\n  <div ng-if="content.canViewAsInstructor() && content.isConditionalRelease()" class="conditional-release-control">\n    <div class="rules">\n      <a href="javascript:void(0);"\n        ng-click="contentItemEngagementOutline.openConditionalRelease()"\n        bb-complex-tooltip\n        enhanced-tooltip="true"\n        tooltip-position="bottom"\n        tooltip-enable-on-mouse-over-for-all-breakpoints="true"\n        tooltip-enable-on-mouse-leave-for-all-breakpoints="true"\n        tooltip-auto-update="true"\n        tooltip-scope="contentItemBase.conditionalRelease.tooltipScope"\n        tooltip-template="{{::contentItemBase.conditionalRelease.getConditionalReleaseComplexTooltipTemplate()}}"\n        analytics-id="components.directives.content-item-base.conditionalRelease.{{contentItemBase.conditionalRelease.conditionType}}.link">\n        <span bb-translate="components.directives.content-item-base.conditionalRelease.{{contentItemBase.conditionalRelease.conditionType}}"></span>\n        <span class="sr-only">{{contentItemBase.conditionalRelease.tooltips}}</span>\n      </a>\n    </div>\n  </div>\n</div>\n'},sa5q:function(e,t){e.exports='<div ng-switch on="content.canViewAsInstructor() || !content.shouldRestrict()">\n  \x3c!-- Center content title when it is only one line of text (without edit capability, description, or date restrictions). --\x3e\n  <a class="content-title"\n     bb-peek-sref="content-manage.edit.document({id:content.id})"\n     ng-switch-when="true"\n     ng-class="{\'name-middle\': contentItemBase.shouldAlignMiddle()}"\n     aria-describedby="{{contentItemBase.getAriaDescribedBy()}}"\n     analytics-id="content.item.page.edit.document.link"><span>{{ content.title }}</span></a>\n  <span class="content-title"\n        ng-switch-default\n        ng-class="{\'name-middle\': contentItemBase.shouldAlignMiddle()}">{{ content.title }}</span>\n</div>'},suMx:function(e,t,n){"use strict";n("WXD6"),n("q1bP");var o=n("wHJ2"),i=n("Nyb7"),s="ultra.components.directives.statistics.complexStatistic",r=function(){function e(e,t,n){this.scope=e,this.element=t,this.$compile=n;var o=this.$compile(this.scope.item().complexTemplate)(this.scope.item().complexScope);t.append(o)}return e.$inject=["scope","element","$compile"],e}(),a=function(){function e(e){var t=this;this.$injector=e,this.replace=!0,this.restrict="A",this.template=i,this.scope={item:"&"},this.link=function(e,n){e.complexStatistic=t.$injector.instantiate(r,{scope:e,element:n})}}return e.$inject=["$injector"],e}();o.module(s,[]).directive("bbComplexStatistic",["$injector",function(e){return e.instantiate(a)}]);var c=n("zphb"),l=function(){function e(e,t){this.scope=e,this.$sce=t,this.scope.item().trusted=t.trustAsHtml(this.scope.item().data)}return e.$inject=["scope","$sce"],e}(),d=function(){function e(e){var t=this;this.$injector=e,this.replace=!0,this.restrict="A",this.template=c,this.scope={item:"&"},this.link=function(e){e.simpleStatistic=t.$injector.instantiate(l,{scope:e})}}return e.$inject=["$injector"],e}();o.module("ultra.components.directives.statistics.simpleStatistic",[]).directive("bbSimpleStatistic",["$injector",function(e){return e.instantiate(d)}]);var u=n("c2Z8");n.d(t,"a",(function(){return p}));var p="ultra.components.directives.statistics",h=function(){function e(e){var t=this;this.scope=e,this.smallPerRow=e.smallPerRow()||1,this.largePerRow=e.largePerRow()||4,this.scope.$watch("config()",(function(e){e&&(t.config=e.length>10?e.slice(0,10):e,t.total=t.config.length)}))}return e.$inject=["scope"],e}(),m=function(){function e(e){var t=this;this.$injector=e,this.replace=!0,this.restrict="AE",this.template=u,this.scope={config:"&",smallPerRow:"&",largePerRow:"&"},this.link=function(e){e.statistics=t.$injector.instantiate(h,{scope:e})}}return e.$inject=["$injector"],e}();o.module(p,["dibari.angular-ellipsis",s,"ultra.components.directives.statistics.simpleStatistic"]).directive("bbStatistics",["$injector",function(e){return e.instantiate(m)}])},t3aq:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n("D57K"),i=n("aWzz"),s=n("ERkP"),r=n("7nmT"),a=n("9ZLq");t.AllyWidget=a.default,t.WidgetType=a.WidgetType;var c=n("ljjZ");t.AllyContentId=c.default,function(e){e.InstructorFeedback="instructorfeedback"}(t.UpdateEvent||(t.UpdateEvent={})),t.allyServiceShape=i.shape({getXythosIdFromContentFileUrl:i.func,update:i.func,isAvailable:i.func,getIndexMapFromBbML:i.func,onUpdate:i.func,destroyListeners:i.func});var l={renderContentId:function(e,t){r.render(s.createElement(c.default,o.__assign({},t)),e)},renderWidget:function(e,t){r.render(s.createElement(a.default,o.__assign({},t)),e)},destroyComponent:function(e){r.unmountComponentAtNode(e)}};t.default=l},t3at:function(e,t){e.exports='<bb-modal class="notification"\n          modal-title-key="course.outline.alertCourseCompletion.modalTitle"\n          analytics-id-tag-prefix="course.outline.alertCourseCompletion">\n  <div name="modal-contents">\n    <p bb-translate="course.outline.alertCourseCompletion.modalText"></p>\n  </div>\n  <button name="modal-footer-button-primary" \n          id="complete-course" \n          ng-click="$parent.$close()" \n          class="button js-primary-button"\n          analytics-id="course.outline.alertCourseCompletion.makeComplete.button">\n    <span bb-translate="course.outline.alertCourseCompletion.makeComplete"></span>\n  </button>\n  <button name="modal-footer-button-secondary" \n          ng-click="$parent.$dismiss()" \n          class="button button--secondary js-secondary-button"\n          analytics-id="course.outline.alertCourseCompletion.back.button">\n    <span bb-translate="global.cancelTakeMeBack"></span>\n  </button>\n</bb-modal>'},tTiy:function(e,t){e.exports='<div class="discussion-assignment">\n  <button class="button-add-content js-show-add-options"\n          data-show-add-options ng-click="addContentButton.toggleMenu()"\n          ng-class="{hide: !(addContentButton.isButtonVisible || addContentButton.alwaysShow || addContentButton.isMenuVisible)}"\n          aria-expanded="{{addContentButton.isMenuVisible}}"\n          aria-controls="{{::\'add-content-menu-\' + addMenuId}}"\n          aria-label="{{addContentButton.addButtonAriaLabel}}"\n          ng-focus="addContentButton.showButton()"\n          ng-blur="addContentButton.hideButton()"\n          analytics-id="components.directives.add-content-button.attempts.button">\n  </button>\n  \x3c!-- use ng-show to keep the element when close add buttons, make sure the upload directive handlers will not be lost --\x3e\n  <ul role="menu" class="element-list-add-menu outline-menu angular-animate"\n      aria-expanded="{{addContentButton.isMenuVisible}}"\n      ng-attr-id="{{::\'add-content-menu-\' + addMenuId}}"\n      ng-if="::addContentButton.isMenuVisible || undefined"\n      ng-show="addContentButton.isMenuVisible">\n    <li>\n      <bb-file-upload\n        url="/v1/files"\n        data="{}"\n        monitor-leave="true"\n        allow-multiple="true"\n        target-div="{{\'#\' + fileListViewId}}"\n        disable-drag="disableDrag && disableDrag()"\n        hide-transclude-during-upload="false"  is-third-party-upload="false"\n        third-party-download-handler="addContentButton.downloadFile"\n        skip-zip-file-check="true">\n        <div class="columns medium-12" ng-class="{\'medium-center\': attempt.isMobile}">\n          <a href="javascript:void(0);"\n             role="menuitem"\n             bb-translate-attrs="{\'aria-label\':\'course.content.buildContentArea.addFiles\'}"\n             ng-click="addContentButton.toggleMenu()"\n             analytics-id="components.directives.add-content-button.attempts.fileUpload.link">\n            <bb-svg-icon size="small" icon="upload"></bb-svg-icon>\n            <span bb-translate>course.content.fileUpload.addFiles</span>\n          </a>\n        </div>\n      </bb-file-upload>\n    </li>\n    <li ng-if="::!addContentButton.isMobile">\n      \x3c!-- Skip zip file check, assignment does not support unzip file(LRN-101238) --\x3e\n      <bb-file-upload allow-multiple="true" monitor-leave="true" is-third-party-upload="true"  hide-transclude-during-upload="false" skip-zip-file-check="true"\n                      click-enabled="false" primary-key="fileListViewId" disable-drag="disableDrag && disableDrag()"\n                      third-party-download-handler="addContentButton.downloadFile" target-div="{{\'#\' + fileListViewId}}">\n        <div class="columns medium-12">\n          <a href="javascript:void(0);"\n             role="menuitem"\n             bb-one-drive\n             is-flatten="false"\n             primary-key="fileListViewId"\n             attach-handler="attachHandler || addContentButton.defaultAttachHandler"\n             bb-translate-attrs="{\'aria-label\':\'components.directives.add-content-button.aria-label.content.oneDrive\'}"\n             ng-click="addContentButton.toggleMenu(\'OneDriveUpload\')"\n             analytics-id="components.directives.add-content-button.attempts.oneDrive.link">\n            <div>\n              <i class="icon-cloud"></i><span bb-translate>components.directives.add-content-button.oneDrive</span>\n            </div>\n          </a>\n        </div>\n      </bb-file-upload>\n    </li>\n  </ul>\n</div>\n'},tecA:function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return p}));var o=n("wHJ2"),i=n("+4Px"),s=n("g66W"),r="down",a="text-editor-update-original-value",c="text-editor-reset-to-original-value",l="text-editor-viewValue-initialized",d="text-editor-set-pristine",u="text-editor-empty",p=function(){function e(e,t,n,o,i){var s=this;this.scope=e,this.element=t,this.ctrl=n,this.bbLocalize=o,this.bbUltraState=i,this.focusOnAuthorControls=!1,this.isTextTouched=!1,this.myDirection=r,this.preventBlur=!1,this.currentStateName=i.current.name,e.disableInlineEditing=null!=e.disableInlineEditing&&e.disableInlineEditing,this.scope.$stopDigestPropagation=!0,this.originalNgModel=this.scope.ngModel,e.direction&&null!=e.direction()&&(this.myDirection=e.direction());var p=!(this.scope.ngModel&&this.scope.ngModel.length);e.$emit(u,{textEditor:this,isEmpty:p}),e.$root.$on("bb-bbml-editor-bbml-pre-redraw",(function(){s.updateOriginalValues()})),e.$on(d,(function(){s.isTextTouched=!1})),e.$on(l,(function(){s.truncatedViewValue=s.ctrl.$viewValue})),e.$on(c,(function(){s.isDirty()&&s.updateOriginalValues(),s.resetEditor(!1)})),e.$on(a,(function(){s.updateOriginalValues(),s.isTextTouched=!1})),e.$on("$destroy",(function(){s.isTextTouched=!1}))}return e.prototype.isEditorDirty=function(){return this.isTextTouched},e.prototype.getContentLabel=function(){var e=this.getPlaceholderKey();return this.truncatedViewValue||e},e.prototype.getPlaceholderKey=function(){return this.scope.placeholderAttrsValues===this.originalPlaceholderAttrValues&&null!=this.placeholderText||(this.placeholderText=this.bbLocalize.translateSync({locale:this.bbLocalize.getLocale(this.scope),key:this.scope.placeholderKey,params:this.scope.$eval(this.scope.placeholderAttrsValues)}),this.originalPlaceholderAttrValues=this.scope.placeholderAttrsValues),this.placeholderText},Object.defineProperty(e.prototype,"truncatedViewValue",{get:function(){return this._truncatedViewValue},set:function(e){var t=this.element.find(".editor-element"),n=t.length?t.text():void 0;this._truncatedViewValue=s.h(n,100)},enumerable:!0,configurable:!0}),e.prototype.onChange=function(e){e&&e.keyCode===i.u||this.scope.hasFocus&&(this.isTextTouched=!0,this.scope.onchangeFunc&&this.scope.onchangeFunc({event:e}))},e.prototype.onKeydown=function(e){},e.prototype.isUploadProgressModalOpen=function(){var e=o.element(".progress-indicator-modal");return e&&e.length>0},e.prototype.isAddContentSelectorOpened=function(){return this.bbUltraState.current.name.length>this.currentStateName.length&&s.k(this.bbUltraState.current.name,this.currentStateName)},e.prototype.onBeforeBlur=function(){return!this.preventBlur&&!this.scope.disableInlineEditing},e.prototype.onBlur=function(){return this.scope.hasFocus=!1,this.ctrl.$focused=!1,this.scope.onblurFunc&&this.scope.onblurFunc(),!0},e.prototype.onFocus=function(){this.focusOnAuthorControls=!1,this.scope.readonly()||this.scope.hasFocus||(this.scope.hasFocus=!0,this.ctrl.$focused=!0,this.scope.onFocusFunc&&this.scope.onFocusFunc(),this.scope.$emit("entering-edit-state"))},e.prototype.isDirty=function(){return!(this.originalText||this.isTextTouched)},e.prototype.updateOriginalValues=function(){this.scope.ngModel===this.originalNgModel&&(this.originalText=this.scope.ngModel,this.originalPlainText=this.scope.plainText)},e.prototype.restoreFromOriginalValues=function(){this.originalText||(this.originalText="",this.originalPlainText=""),this.scope.ngModel=this.originalText,this.scope.plainText=this.originalPlainText},e.prototype.resetEditor=function(e){this.restoreFromOriginalValues()},e.prototype.isValidInputLength=function(){var e=null;if(null!=this.scope.getInputMaxLength&&(e=this.scope.getInputMaxLength()),null==e)return!0;if(e){var t=this.scope.plainText;return!!t&&t.trim().length<=e}return!0},e}()},tqR7:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var o=n("wHJ2"),i=n("lEL+"),s="ultra.components.directives.clickOutside",r=function(){function e(e,t,n,o,i){var s=this;this.scope=e,this.element=t,this.attrs=n,this.$document=o,this.timeout=i;var r=function(e){return s.applyExpression(e)},a=this.getContainer()||o;this.scope.$watch(this.attrs.isActive,(function(e,t){e?s.timeout((function(){a.on("click",r)}),s.scope,0,!1):a.off("click",r)})),this.scope.$on("$destroy",(function(){a.off("click",r)}))}return e.prototype.applyExpression=function(e){var t=this.element.is(e.target),n=this.element.has(e.target).length>0;t||n||this.scope.$apply(this.attrs.bbClickOutside)},e.prototype.getContainer=function(){if("currentPanelOnly"in this.attrs)for(var e=this.element;e.parent().length;)if((e=e.parent()).is(".bb-offcanvas-panel,#main-content-inner"))return e},e.$inject=["scope","element","attrs","$document",i.b],e}(),a=function(){function e(e){var t=this;this.$injector=e,this.priority=100,this.restrict="A",this.compile=function(e,n){return{pre:function(e,n,o){return t.$injector.instantiate(r,{scope:e,element:n,attrs:o})}}}}return e.$inject=["$injector"],e}();o.module(s,[]).directive("bbClickOutside",["$injector",function(e){return e.instantiate(a)}])},uAJz:function(e,t,n){var o=n("ziER"),i=n("5JeM"),s=new o({id:"icon-small-peer-review",use:"icon-small-peer-review-usage",viewBox:"0 0 16 16",content:'<symbol fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" id="icon-small-peer-review"><path d="M6.5 10C7.8807 10 9 8.8807 9 7.5S7.8807 5 6.5 5 4 6.1193 4 7.5 5.1193 10 6.5 10zM6.5 10C3.2288 10 1 12.5 1 15M11.5 6C12.8807 6 14 4.8807 14 3.5S12.8807 1 11.5 1 9 2.1193 9 3.5 10.1193 6 11.5 6zM12 6c.7226 0 1.4451.464 2 1.0569M10 13l2 2 3-5" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" /></symbol>'});i.add(s);e.exports=s},uHYt:function(e,t,n){var o=n("ziER"),i=n("5JeM"),s=new o({id:"icon-medium-collab",use:"icon-medium-collab-usage",viewBox:"0 0 24 24",content:'<symbol fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" id="icon-medium-collab"><path fill-rule="evenodd" clip-rule="evenodd" d="M1 5h17v4l5-3.9583V19l-5-4v4H1V5z" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" /><path d="M18 8v8M6 8l2 4-2 4M11 8l2 4-2 4" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" /></symbol>'});i.add(s);e.exports=s},ufNb:function(e,t,n){var o=n("ziER"),i=n("5JeM"),s=new o({id:"icon-medium-away",use:"icon-medium-away-usage",viewBox:"0 0 24 24",content:'<symbol fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" id="icon-medium-away"><path d="M23 12c0 6.0751-4.9249 11-11 11S1 18.0751 1 12 5.9249 1 12 1s11 4.9249 11 11z" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" /><path d="M12 5v7l4 4" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" /></symbol>'});i.add(s);e.exports=s},ujI6:function(e,t,n){"use strict";n.d(t,"c",(function(){return d})),n.d(t,"a",(function(){return u})),n.d(t,"b",(function(){return p}));n("RB+a"),n("Qc1G");var o=n("wHJ2"),i=n("5iHu"),s=n("tqR7"),r=n("H8CZ"),a=n("lEL+"),c=n("+4Px"),l=n("ytQ2"),d="ultra.components.directives.foundationOffcanvas",u="OFFCANVASE-TOGGLE-CLOSE",p="OFFCANVAS-TOGGLE-OPEN",h=function(){function e(e,t,n,o,s,r,a){var l=this;this.scope=e,this.element=t,this.attrs=n,this.$compile=o,this.$parse=s,this.$q=r,this.timeout=a,this.overrideButtonClass=!1,this.isPanelOpen=!1,this.justOpenedPanel=!1,this.isFromKeyBoard=!1,this.wiredup=!1,this.position="right",this.dialogModel=!1,this.initialProperties(),a((function(){if(l.openButtonElement=i("#"+l.attrs.bbFoundationOffcanvasOpenButton),0===l.openButtonElement.length)throw new Error('The bbFoundationOffcanvas directive couldn\'t find an "Open Menu" button with an ID of '+l.attrs.bbFoundationOffcanvasOpenButton);l.openButtonElement.on("click.bbFoundationOffcanvas",(function(){l.scope.$apply((function(){l.togglePanel()}))})),l.openButtonElement.on("keydown.bbFoundationOffcanvas",(function(e){e.keyCode===c.f&&(l.isFromKeyBoard=!0)}))}),e,0,!1)}return e.prototype.initialProperties=function(){var e=this;this.attrs.bbFoundationOffcanvasPosition&&(this.position=this.attrs.bbFoundationOffcanvasPosition),this.attrs.bbFoundationOffcanvasEventDelegate&&(this.scope.$on(p,(function(){e.openPanel()})),this.scope.$on(u,(function(){e.closePanel()}))),this.attrs.bbFoundationOffcanvasDialogModel&&(this.dialogModel=this.attrs.bbFoundationOffcanvasDialogModel)},e.prototype.wireup=function(){var e=this;return this.wiredup=!0,this.timeout((function(){if(e.closeButtonElement=i("#"+e.attrs.bbFoundationOffcanvasCloseButton),0===e.closeButtonElement.length)throw new Error('The bbFoundationOffcanvas directive couldn\'t find a "Close Menu" button with an ID of '+e.attrs.bbFoundationOffcanvasCloseButton);if(e.wrapperElement=e.element,e.offcanvasPanelElement=e.element.children().children(),1!==e.offcanvasPanelElement.length)throw new Error("bbFoundationOffcanvas directive must have exactly one child element. Fix the usage in the html template.");if(e.offcanvasPanelElement.addClass(e.position+"-off-canvas-menu"),e.attrs.bbFoundationOffcanvasOverrideButtonClass&&(e.overrideButtonClass=e.$parse(e.attrs.bbFoundationOffcanvasOverrideButtonClass)(e.scope)),e.offcanvasPanelElement.find("a, button").attr("tabindex","-1"),e.closeButtonElement.addClass("exit-off-canvas-overlay").on("click.bbFoundationOffcanvas",(function(){e.scope.$apply((function(){e.closePanel()}))})),e.offcanvasPanelElement.find("a, button").last().on("keydown.bbFoundationOffcanvas",(function(t){t.keyCode!==c.u||t.shiftKey||(t.preventDefault(),e.scope.$apply((function(){e.closePanel()})))})),e.offcanvasPanelElement.find("a, button").first().on("keydown.bbFoundationOffcanvas",(function(t){t.keyCode===c.u&&t.shiftKey&&(t.preventDefault(),e.scope.$apply((function(){e.closePanel()})))})),e.scope.$on("foundation-offcanvas-close-panel",(function(){e.closePanel()})),null!=e.attrs.bbFoundationOffcanvasCommonParent){if(e.commonParent=i("#"+e.attrs.bbFoundationOffcanvasCommonParent),0===e.commonParent.length)throw new Error("The bbFoundationOffcanvas directive couldn't find a common parent element with an ID of "+e.attrs.bbFoundationOffcanvasCommonParent)}else e.commonParent=i(e.wrapperElement).parents().has(e.closeButtonElement).first();if(e.commonParent.hasClass("group-list")||e.commonParent.addClass("off-canvas-wrap off-canvas-overlay"),!e.overrideButtonClass){var t=e.offcanvasPanelElement.find("li").not(".ng-hide").length;e.commonParent.addClass("buttons-"+t)}r.b(e.commonParent,(function(t){return e.isPanelOpen&&(t.data.noTransitions||"right"===t.originalEvent.propertyName)&&(e.isFromKeyBoard?e.offcanvasPanelElement.find("a, button").first().focus():(e.offcanvasPanelElement.parent().attr("tabindex",0),e.offcanvasPanelElement.parent().focus())),!1})),e.element.foundation(),e.scope.$on("$destroy",(function(){e.element.off("click.bbFoundationOffcanvas"),e.closeButtonElement.off("click.bbFoundationOffcanvas"),e.offcanvasPanelElement.find("a, button").last().off("keydown.bbFoundationOffcanvas"),e.offcanvasPanelElement.find("a, button").first().off("keydown.bbFoundationOffcanvas"),e.commonParent.removeClass("off-canvas-wrap off-canvas-overlay")}))}),this.scope,0,!1)},e.prototype.getPosition=function(){switch(this.position){case"right":return"left";case"top":return"bottom";case"bottom":return"top";case"left":default:return"right"}},e.prototype._openPanel=function(){var e=this;this.offcanvasPanelElement.css("display","block"),this.justOpenedPanel=!0,this.timeout((function(){e.offcanvasPanelElement.foundation("offcanvas","show","move-"+e.getPosition()),e.isPanelOpen=!0,e.offcanvasPanelElement.find("a, button").attr("tabindex","0"),e.justOpenedPanel=!1}),this.scope,0,!1)},e.prototype.openPanel=function(){var e=this;if(this.wiredup)this._openPanel();else{var t=this.$q.defer();this.scope.$watch("::foundationOffcanvas.wiredup",(function(e){e&&t.resolve()})),this.$q.all([this.wireup(),t.promise]).then((function(){e._openPanel()}))}},e.prototype.closePanel=function(){var e=this;this.offcanvasPanelElement.foundation("offcanvas","hide","move-"+this.getPosition()),this.isPanelOpen=!1,this.isFromKeyBoard=!1,this.offcanvasPanelElement.parent().removeAttr("tabindex"),this.offcanvasPanelElement.find("a, button").attr("tabindex","-1"),this.openButtonElement.focus(),this.timeout((function(){e.isPanelOpen||e.offcanvasPanelElement.css("display","none")}),this.scope,300,!1)},e.prototype.handleClickOutside=function(){this.dialogModel||i("body").hasClass("modal-open")||this.justOpenedPanel||this.closePanel()},e.prototype.togglePanel=function(){this.isPanelOpen?this.closePanel():this.openPanel()},e.$inject=["scope","element","attrs","$compile","$parse","$q",a.b],e}(),m=function(){function e(e){var t=this;this.$injector=e,this.transclude=!0,this.restrict="E",this.link=function(e,n,o){if(null==o.bbFoundationOffcanvasOpenButton||null==o.bbFoundationOffcanvasCloseButton)throw new Error('Please provide jQuery selectors for both the "Open Menu" and "Close Menu" buttons');var i=o.$observe("bbFoundationOffcanvasCloseButton",(function(s){s&&(e.foundationOffcanvas=t.$injector.instantiate(h,{scope:e,element:n,attrs:o}),i())}))},this.template=l}return e.$inject=["$injector"],e}();o.module(d,[s.a,a.a]).directive("bbFoundationOffcanvas",["$injector",function(e){return e.instantiate(m)}])},vNjs:function(e,t,n){},"w0/N":function(e,t,n){var o=n("ziER"),i=n("5JeM"),s=new o({id:"icon-small-rubric",use:"icon-small-rubric-usage",viewBox:"0 0 16 16",content:'<symbol fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" id="icon-small-rubric"><path d="M11 12h4v3h-4v-3zM4 12h4v3H4v-3zM1 12v3M1 5v3M11 5h4v3h-4V5zM4 5h4v3H4V5zM8 1H4M15 1h-4" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" /></symbol>'});i.add(s);e.exports=s},wKTs:function(e,t,n){var o=n("ziER"),i=n("5JeM"),s=new o({id:"icon-small-upload",use:"icon-small-upload-usage",viewBox:"0 0 16 16",content:'<symbol fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" id="icon-small-upload"><path d="M14 5h1v9H1V5h1M6 4l2-2 2 2M8 10V2" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" /></symbol>'});i.add(s);e.exports=s},wdQf:function(e,t,n){var o=n("ziER"),i=n("5JeM"),s=new o({id:"icon-medium-course-complete",use:"icon-medium-course-complete-usage",viewBox:"0 0 24 24",content:'<symbol fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" id="icon-medium-course-complete"><path d="M19 1v4" stroke-width="2" /><path stroke-width="2" stroke-linecap="round" stroke-linejoin="round" d="M12 11h5v3h-5zM8 5v18" /><path d="M21 1H3v22h9M3.5 5H21v8" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" /><path d="M12 19l4 4 7-8" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" /></symbol>'});i.add(s);e.exports=s},wnWX:function(e,t,n){},wy9x:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var o=n("wHJ2"),i=n("Jwnl"),s="ultra.components.directives.content.contentItem.contentItemType.contentItemFolder",r=function(){function e(e,t,n){this.scope=e,this.element=t,this.attrs=n}return e.prototype.toggleFolder=function(){this.scope.$emit("toggle-folder",this.scope.content)},e.prototype.shouldAlignMiddle=function(){var e=this.scope.content;return!e.canViewAsInstructor()&&(!e.description&&(!e.isVisible()||!e.adaptiveReleaseRules))},e.$inject=["scope","element","attrs"],e}(),a=function(){function e(e){var t=this;this.$injector=e,this.restrict="E",this.template=i,this.scope=!1,this.link=function(e,n,o){e.contentItemFolder=t.$injector.instantiate(r,{scope:e,element:n,attrs:o})}}return e.$inject=["$injector"],e}();o.module(s,[]).directive("bbContentItemFolder",["$injector",function(e){return e.instantiate(a)}])},xAaQ:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var o=n("wHJ2"),i=n("wy9x"),s=n("jhBu"),r=n("Sa5G"),a=n("TnpK"),c=n("sB2Z"),l="ultra.components.directives.content.contentItem.contentItemEngagementOutline",d=function(){function e(e,t,n){var o=this;this.scope=e,this.entitlementService=t,this.ultraState=n,this.entitlementService.hasCourseEntitlement(r.f.ModifyContent,this.scope.content.courseId).then((function(e){o.entitledToModifyContent=e}))}return Object.defineProperty(e.prototype,"canOpenConditionalRelease",{get:function(){return!!(this.scope.content&&this.scope.content.permissions&&this.scope.content.permissions.adaptiveRelease&&this.scope.content.permissions.adaptiveRelease.view)},enumerable:!0,configurable:!0}),e.prototype.openConditionalRelease=function(){this.isCourseCompletedAndInInstructorView()||this.ultraState.goPeekState("conditional-release",{id:this.scope.content.id})},e.prototype.isCourseCompletedAndInInstructorView=function(){return!this.scope.content.canEdit()&&this.scope.content.canViewAsInstructor()},e.$inject=["scope",s.b,a.d],e}(),u=function(){function e(e){var t=this;this.$injector=e,this.restrict="E",this.template=c,this.scope=!1,this.link=function(e){e.contentItemEngagementOutline=t.$injector.instantiate(d,{scope:e})}}return e.$inject=["$injector"],e}();o.module(l,[i.a,a.b]).directive("bbContentItemEngagementOutline",["$injector",function(e){return e.instantiate(u)}])},xwlO:function(e,t,n){var o=n("ziER"),i=n("5JeM"),s=new o({id:"icon-small-bulk-edit",use:"icon-small-bulk-edit-usage",viewBox:"0 0 16 16",content:'<symbol fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" id="icon-small-bulk-edit"><path d="M7 15H1V4h11v1" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" /><path d="M15 5V1H4v3M15 8l-2-1-3 6v2l2-1 3-6z" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" /></symbol>'});i.add(s);e.exports=s},y95c:function(e,t,n){},yGpi:function(e,t){e.exports='<div bb-load-bundle="components/directives/folder" class="folder" ng-class="{\'is-empty-folder\': content.children.length === 0 && folder.showEmptyMenu, \'learning-module\': content.isLearningModule()}" bb-cache-compilation="content-folder">\n  <div bb-drop-handler on-move-handler="onMoveHandler" on-move-into-folder-handler="onMoveIntoFolderHandler" on-file-drop-handler="onFileDropHandler" content="content" is-folder-open="folder.isOpen" next-content-id="nextContentId" previous-content-id="previousContentId">\n    <div ng-if="::(!content.isLearningModule())" class="row collapse element-list-row folder-row-container js-parent js-course-skip-link-target" can-create="canCreate" bb-content-item-mouseover ng-class="{open: folder.isOpen, \'is-conditional-release\': content.isConditionalReleaseLocked()}" bb-click-to-invoke-child="button.content-title">\n      <bb-content-item-base contents="contents" content="content" context-area="folder.contextArea" can-move="canMove"></bb-content-item-base>\n      <div class="list-tree-toggle" ng-if="folder.canToggle()">\n        <button class="button super-clear"\n                ng-click="folder.toggleFolder()"\n                aria-controls="{{::\'folder-contents-\' + content.id}}"\n                aria-expanded="{{folder.isOpen}}"\n                bb-translate-attrs="{\'aria-label\':\'components.directives.folder.aria-label.toggle-folder\'}"\n                translate-attrs-values="{folderName: content.title}"\n                analytics-id="course.content.folder.toggle.button">\n          <bb-svg-icon size="small" icon="arrow-down"></bb-svg-icon>\n        </button>\n      </div>\n    </div>\n\n    <div ng-if="::(content.isLearningModule())" ng-class="{open: folder.isOpen}">\n      <bb-learning-module-base-item content="content" contents="contents" context-area="folder.contextArea" can-toggle="::folder.canToggle()"\n        toggle-func="folder.toggleFolder()" can-move="canMove" is-open="folder.isOpen">\n      </bb-learning-module-base-item>\n    </div>\n  </div>\n  <div ng-attr-id="{{::(content.isLearningModule() ? \'learning-module-contents-\' : \'folder-contents-\') + content.id}}" class="folder-contents" aria-expanded="{{folder.isOpen}}" ng-class="{\'not-empty\': content.children && content.children.length > 0}">\n    <div ng-if="(content.children.length > 0 || folder.showOutlineOverride) && folder.isOpen">\n      <bb-content-outline hide-add-menu-override="folder.showOutlineOverride" on-file-drop-handler="onFileDropHandler" on-move-handler="onMoveHandler"\n                          on-move-into-folder-handler="onMoveIntoFolderHandler" load-more-children="loadMoreChildren" parent-folder="folder.content"\n                          contents="folder.content.children" can-create="canCreate" can-move="canMove" context-area="folder.contextArea"\n                          can-copy-import="canCopyImport"></bb-content-outline>\n    </div>\n    <div class=\'drag-element\'>\n      <div bb-drop-handler\n        ng-show="content.children.length === 0"\n        on-move-handler="onMoveHandler"\n        on-move-into-folder-handler="onMoveIntoFolderHandler"\n        on-file-drop-handler="onFileDropHandler"\n        content="{id: content.id + \'blank\', parentId: content.id, depth: content.depth + 1}"\n        empty-target\n      >\n        <span class="empty-message" ng-if="content.children.length === 0  && folder.showEmptyMenu"\n          ng-class="{\'foder-in-force-sequence-empty-message\': content.isForcedSequenceItem()}"\n          bb-translate="{{\n            content.isForcedSequenceItem() && canCreate? \'components.directives.folder.emptyInSequence\':\n              (content.isLearningModule() ? \'components.directives.learning-module.empty\' : \'components.directives.folder.empty\')\n          }}">\n        </span>\n        \x3c!-- (|| false) keep showMenuOverride in watch status in add-content-button directive --\x3e\n        \x3c!-- use ng-show instead of ng-if to keep the element when close add buttons, make sure the upload directive handlers will not be lost --\x3e\n        <ng-switch on="::content.isLearningModule()">\n          <bb-add-content-button ng-switch-when="false" show-menu-override="folder.showMenuOverride || false" depth="(content.depth + 1)" content="content"\n                                 root-content="rootContent()" parent-id="content.id" position-before="\'start\'"\n                                 ng-show="canCreate && folder.showEmptyMenu && !content.isForcedSequenceItem()" context-area="folder.contextArea"\n                                 can-copy-import="canCopyImport" folder-nested-button="true"></bb-add-content-button>\n          <bb-add-content-button ng-switch-when="true" show-menu-override="false" depth="(content.depth + 1)" content="content"\n                                 root-content="content" parent-id="content.id" position-before="\'start\'"\n                                 is-render-by-default="true"\n                                 class="empty-lm-add-content-btn"\n                                 ng-show="canCreate && folder.showEmptyMenu && !content.isForcedSequenceItem()" context-area="folder.contextArea"\n                                 can-copy-import="canCopyImport" folder-nested-button="true"></bb-add-content-button>\n        </ng-switch>\n      </div>\n    </div>\n  </div>\n</div>\n'},yMoE:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var o=n("D57K"),i=n("pjml"),s=n("oi1r"),r=n("o5Lu"),a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(o.__extends)(t,e),t}(i.J.ScaleType),c=function(){function e(e,t,n,o,i){this.grade=e,this.$q=t,this.gradeDetail=n,this.scope=o,this.schemaService=i,this.wasValueErased=!1}return e.prototype.init=function(e,t){var n=this;this.column=e;var o=function(e){n.schema=e,n.scaleType=e.scaleType};return t?this.$q.when(o(t)):this.schemaService.loadGradeSchema(e).then((function(e){o(e)}))},e.prototype.shouldShowTotalPoints=function(){return null!=this._displayValue&&(this.schema&&this.schema.scaleType&&i.J.ScaleType.Score.isEqualTo(this.schema.scaleType)&&!this.isDisplayValueTooLargeForTotalPoints())},e.prototype.isDisplayValueTooLargeForTotalPoints=function(){return this._displayValue&&this._displayValue.toString().length>r.e.DEFAULT_GRADEBOOK_SETTINGS_BEFORE_DECIMAL},Object.defineProperty(e.prototype,"displayGrade",{set:function(e){if(e)switch(this._nonFormattedScore=e.score,this._perfCode=e.perfCode,this._perfCode?this.perfCodeDesc=this._perfCode.description:this.perfCodeDesc="",this.displayValue=this.grade.getGradeToDisplay(e,this.scope,this.schema.scaleType),this.schema.scaleType){case i.J.ScaleType.Tabular.toString():var t=null;if(this._perfCode)t={perfCode:this._perfCode};else if(this.column.externalGrade&&this.gradeDetail&&this.gradeDetail.isOverrideGrade()){var n=this.gradeDetail.pointsPossible||this.column.possible||100;t={score:s=this._nonFormattedScore&&this._nonFormattedScore*n/100}}else t={score:this._nonFormattedScore};this._parsedValue=this.grade.getGradeToDisplay(t,this.scope,i.J.ScaleType.Score.toString());break;case i.J.ScaleType.Percent.toString():var s=this._nonFormattedScore&&this._nonFormattedScore/100*this.column.possible;this._parsedValue=this.grade.getGradeToDisplay({score:s},this.scope,i.J.ScaleType.Score.toString());break;case i.J.ScaleType.Score.toString():this._parsedValue=this.displayValue;break;case i.J.ScaleType.Complete.toString():this._parsedValue=this.grade.getGradeToDisplay(Object(o.__assign)(Object(o.__assign)({},e),{grade:null}),this.scope,this.schema.scaleType)}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"displayValue",{get:function(){return this._displayValue},set:function(e){this.wasValueErased=this.grade.wasGradeCleared(this.displayValue,e),this._displayValue=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"parsedValue",{get:function(){return this._parsedValue},set:function(e){this._parsedValue=e},enumerable:!0,configurable:!0}),e.prototype.hasPerfCode=function(){return!!this._perfCode},e.prototype.getGradeColor=function(){return this.gradeDetail&&this.gradeDetail.displayGrade&&this.gradeDetail.displayGrade.isOverride&&this.column.externalGrade?"gray":this.displayValue?a.Percent.isEqualTo(this.scaleType)?this.grade.getPercentileColor(this._nonFormattedScore):this.getGradeColorScoreSchema():void 0},e.prototype.getGradeColorScoreSchema=function(){var e=this.gradeDetail?this.gradeDetail.pointsPossible:this.column.possible;if(e>0){var t=this._nonFormattedScore/e*100;return this.grade.getPercentileColor(t)}return"na"},e.$inject=[r.g,"$q","gradeDetail","scope",s.b],e}()},yV5t:function(e,t){e.exports='<a class="content-title" \n   ng-click="contentItemScormLaunch.scormLaunch()" \n   href="javascript:void(0);"\n   aria-describedby="{{contentItemBase.getAriaDescribedBy()}}"\n   analytics-id="content.item.scormlaunch.link">\n  <span>{{ content.title }}</span>\n</a>'},ytQ2:function(e,t){e.exports='<div ng-if="::foundationOffcanvas.wiredup || undefined"\n      class="bb-foundation-offcanvas"\n      ng-transclude\n      bb-click-outside="foundationOffcanvas.handleClickOutside()"\n      is-active="foundationOffcanvas.isPanelOpen"\n      aria-hidden="{{!foundationOffcanvas.isPanelOpen}}"\n      current-panel-only>\n</div>'},"z+6U":function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var o=n("wHJ2"),i=n("sa5q"),s="ultra.components.directives.content.contentItem.contentItemType.contentItemPage",r=function(){function e(e){this.scope=e}return e.prototype.shouldAlignMiddle=function(){return!this.scope.content.canViewAsInstructor()},e.$inject=["scope"],e}(),a=function(){function e(e){var t=this;this.$injector=e,this.restrict="E",this.template=i,this.scope=!1,this.link=function(e,n,o){e.contentItemPage=t.$injector.instantiate(r,{scope:e,element:n,attrs:o})}}return e.$inject=["$injector"],e}();o.module(s,[]).directive("bbContentItemPage",["$injector",function(e){return e.instantiate(a)}])},zByx:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));n("X+qL"),n("ufNb"),n("82Nl");var o=n("wHJ2"),i=n("0JpG"),s=n("J4qU"),r=n("4qUd"),a="ultra.components.directives.calendar.scheduleOutline",c=function(){function e(e,t,n){this.scope=e,this.scheduleService=t,this.localize=n,this.nextEventDates=Object.create(null),this.showMore=!1}return e.prototype.getSchedules=function(){var e=this.scope.scheduleOutlineCollection();return e.length>2?(this.showMore=!0,e=this.scope.scheduleOutlineCollection().slice(0,2)):this.showMore=!1,e},e.prototype.getWeeklyRepeatLabel=function(e){return this.scheduleService.getWeeklyRepeatLabel(e,"scheduleOutline.weekdayDelimiter",this.scope.weekDayFormat,this.localize.getLocale(this.scope))},e.prototype.getNextEventDate=function(e){return this.scheduleService.getNextMonthlyEventDate(e,this.nextEventDates)},e.prototype.getNextDailyEventDate=function(e){return this.scheduleService.getNextDailyEventDate(e,this.nextEventDates)},e.prototype.areAnyLocationsSet=function(){return this.scope.scheduleOutlineCollection().some((function(e){return!!e.location}))},e.$inject=["scope",s.b,i.serviceName],e}(),l=function(){function e(e){var t=this;this.$injector=e,this.restrict="E",this.template=r,this.scope={scheduleOutlineCollection:"&",compact:"&",weekDayFormat:"@?"},this.link=function(e){e.scheduleOutline=t.$injector.instantiate(c,{scope:e}),e.TRUNCATION_LOCATION_COURSE_CARD=20,e.TRUNCATION_LOCATION_OUTLINE=35}}return e.$inject=["$injector"],e}();o.module(a,[s.a]).directive("bbScheduleOutline",["$injector",function(e){return e.instantiate(l)}])},zphb:function(e,t){e.exports='<div class="simple-statistic-contents" ng-class="::item().cssClass">\n  <div bb-tooltip enhanced-tooltip="true" data-tooltip-on-overflow-only="true" title="{{ ::item().data }}">\n    <div class="stat-data"\n         ng-attr-aria-label="{{ item().aria ? item().aria : undefined }}"\n         data-ng-bind-html="::item().trusted"\n         data-ellipsis></div>\n  </div>\n  <div ng-if="::item().subtext" class="stat-sub-text" bb-translate>{{ ::item().subtext }}</div>\n  <div ng-if="::!item().subtext && item().reserveSubtextSpace" class="stat-sub-text" aria-hidden="true">&nbsp;</div>\n</div>'}}]);