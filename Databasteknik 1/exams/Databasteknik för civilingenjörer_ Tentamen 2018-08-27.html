<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- saved from url=(0091)http://basen.oru.se/kurser/dbciv/2019-2020-p4/tentor/tenta-2018-08-27/tenta-2018-08-27.html -->
<html lang="sv"><script data-dapp-detection="">
(function() {
  let alreadyInsertedMetaTag = false

  function __insertDappDetected() {
    if (!alreadyInsertedMetaTag) {
      const meta = document.createElement('meta')
      meta.name = 'dapp-detected'
      document.head.appendChild(meta)
      alreadyInsertedMetaTag = true
    }
  }

  if (window.hasOwnProperty('web3')) {
    // Note a closure can't be used for this var because some sites like
    // www.wnyc.org do a second script execution via eval for some reason.
    window.__disableDappDetectionInsertion = true
    // Likely oldWeb3 is undefined and it has a property only because
    // we defined it. Some sites like wnyc.org are evaling all scripts
    // that exist again, so this is protection against multiple calls.
    if (window.web3 === undefined) {
      return
    }
    __insertDappDetected()
  } else {
    var oldWeb3 = window.web3
    Object.defineProperty(window, 'web3', {
      configurable: true,
      set: function (val) {
        if (!window.__disableDappDetectionInsertion)
          __insertDappDetected()
        oldWeb3 = val
      },
      get: function () {
        if (!window.__disableDappDetectionInsertion)
          __insertDappDetected()
        return oldWeb3
      }
    })
  }
})()</script><head><meta http-equiv="Content-Type" content="text/html; charset=windows-1252">

<title>Databasteknik för civilingenjörer: Tentamen 2018-08-27</title>
<style type="text/css">
     P.breakhere {page-break-before: always}
</style>
</head>

<body bgcolor="#ffffff" text="#000000" link="#0000cc" vlink="#551a8b" alink="#ff0000">

Örebro universitet
<br>
Institutionen för naturvetenskap och teknik
<br>
<a href="http://www.aass.oru.se/~tpy/">Thomas Padron-McCarthy</a>
(<a href="mailto:thomas.padron-mccarthy@oru.se?subject=Databasteknik%20f%C3%B6r%20civilingenj%C3%B6rer:%20Tentamen%202018-08-27">thomas.padron-mccarthy@oru.se</a>)

<pre>




</pre>
<center>
<font size="+2">Tentamen i</font>
<p>
<font size="+4">Databasteknik</font>
</p><p>
måndag 27 augusti 2018
</p><p>
<font size="-1">
Gäller som tentamen för:
<br>
DT504G Databasteknik för civilingenjörer, provkod 0100
</font>
</p></center>

<p>

</p><hr noshade="">

<p>

</p><table>
<tbody><tr><td valign="top">
<b>Hjälpmedel:</b>
</td><td valign="top">
Ordbok för översättning.
</td></tr>
<tr><td valign="top">
<b>Poängkrav:</b>
</td><td valign="top">
Maximal poäng är 36.
För godkänt betyg krävs 18 poäng,
varav minst fyra poäng på uppgift 1 och minst fem poäng på uppgift 2.
<!--
För den som följt kursen våren 2018
ger varje i tid inlämnad inlämningsuppgift en extra poäng.
Den som <i>inte</i> gått kursen våren 2018 får dessa (fem) extrapoäng ändå.
-->
</td></tr>
<tr><td valign="top">
<b>Resultat:</b>
</td><td valign="top">
Meddelas på kursens hemsida eller via e-post senast måndag 17 september 2018.
</td></tr>
<tr><td valign="top">
<b>Återlämning av tentor:</b>
</td><td valign="top">
Elektroniskt via Studentforum.
</td></tr>
<tr><td valign="top">
<b>Examinator och jourhavande:</b>
</td><td valign="top">
Thomas Padron-McCarthy, telefon 070 - 73 47 013.
</td></tr>
</tbody></table>

<p>

</p><hr noshade="">

<p>

<font size="-1">
</font></p><ul><font size="-1">

<li>
Skriv tydligt och klart. Lösningar som inte går att läsa kan
naturligtvis inte ge några poäng.
Oklara och tvetydiga formuleringar kommer att misstolkas.

</li><li>
Skriv den personliga tentamenskoden på varje inlämnat blad.
Skriv <i>inte</i> namn eller personnummer på bladen.

</li><li>
Skriv bara på en sida av papperet.
Använd inte röd skrift.

</li><li>
Antaganden utöver de som står i uppgifterna måste anges. Gjorda
antaganden får inte förändra den givna uppgiften.

</li><li>
Skriv gärna förklaringar om hur du tänkt.
Även ett svar som är fel kan ge poäng,
om det finns med en förklaring som visar att huvudtankarna var rätt.
</li></font></ul><font size="-1">
</font>

<p>

</p><hr noshade="">

<p>

</p><center>LYCKA TILL!</center>



<p class="breakhere">



<a name="scenario"></a>
</p><h2>Scenario till uppgifterna</h2>

Institutionen för naturvetenskap och teknik har tjugo stycken legorobotar
som används i en del programmeringskurser.
Här är skåpet där de ska stå, och där finns det tre robotar:

<p>

<img src="./Databasteknik för civilingenjörer_ Tentamen 2018-08-27_files/robotar.jpg" width="564" height="411" alt="Legorobotar" title="Legorobotar">

</p><p>

Var är alla de andra robotarna?
Ingen vet, och snart börjar nästa kurs som ska använda dem!
Förut fanns det en pärm där man kunde skriva upp om man lånar en robot,
men den pärmen har kommit bort.

</p><p>

Nu ska vi skapa en databas för robotar och vem som har dem,
och det som ska lagras i databasen är följande:

</p><ol>

  <li>
    <b>Robotar</b>.
    Det finns tjugo robotar, och varje robot har ett unikt nummer från <b>1</b> till <b>20</b>.
    Det behövs också en <b>status</b>, som är en kort text som beskriver robotens status,
    till exempel "fungerar", "trasig" eller "isärplockad".

  </li><li>
    <b>Personer</b>
    som bokar robotarna.
    Varje person har ett unikt <b>namn</b>.

  </li><li>
    <b>Bokningar</b>.
    Varje bokning gäller från ett visst datum, till ett visst annat datum,
    den gäller en eller flera robotar.
    och den har gjorts av en eller flera personer.

</li></ol>

Databasen är vad som brukar kallas en historisk databas,
till skillnad från en snapshot-databas,
så gamla bokningar ligger kvar i databasen.
Samma robot kan alltså vara bokad flera gånger.



<p class="breakhere">



<a name="uppgift-1"></a>
</p><h2>Uppgift 1 (5 p)</h2>

Rita ett ER- eller EER-diagram för den beskrivna databasen.
Använd informationen i scenariot ovan,
men tänk också på att det ska gå att svara på frågorna i uppgift 3 nedan.

<p>

ER- och EER-diagram kan ritas på flera olika sätt.
Om du använder en annan notation än kursboken, måste du förklara den notation som du använder.



<a name="uppgift-2"></a>
</p><h2>Uppgift 2 (6 p)</h2>

Implementera den beskrivna databasen i relationsmodellen, dvs
översätt ER-diagrammet till tabeller.

<p>

Du behöver inte skriva <b>create table</b>-kommandon i SQL,
men du ska ange vilka relationer som finns och vilka attribut varje relation innehåller.
Ange också alla kandidatnycklar, vilken av dessa som är primärnyckel,
samt vilka referensattribut som finns och vad de refererar till.

</p><p>

Implementationen ska vara bra.



<a name="uppgift-3"></a>
</p><h2>Uppgift 3 (11 p)</h2>

Formulera följande frågor i SQL.
Definiera gärna vyer eller CTE:er om det underlättar, men skapa inte nya tabeller.

<p>

a) (1p)
En robot är trasig om den har någon av statustexterna "trasig", "kass" och "kaputt".
Vilka robotar är trasiga?
Vi vill veta numren på de robotarna.

</p><p>

b) (1p)
Om en robot är isärplockad måste vi montera ihop den.
En robot är isärplockad om den har statustexten "isärplockad".
Hur många robotar är isärplockade?
Vi vill veta antalet, inte numren.

</p><p>

c) (2p)
Vilka robotar är bokade just nu?
Vi vill veta numren på de robotarna.
(Ledtråd: Bokningen ska ha ett från-datum som är mindre än eller lika med 2018-08-27,
och ett till-datum som är större än eller lika med 2018-08-27.)

</p><p>

d) (2p)
Vilka robotar är lediga just nu?
Vi vill veta numren på de robotarna.

</p><p>

e) (2p)
Jag har hittat robot nummer 7 kvarglömd i en labbsal.
Vem eller vilka personer har någonsin bokat den roboten?
Vi vill veta de personernas namn.

</p><p>

f) (3p)
Hur många gånger är varje robot bokad?
Robotar som inte är bokade alls ska vara med i svaret, med antalet noll. 


</p><p class="breakhere">



<a name="uppgift-4"></a>
</p><h2>Uppgift 4 (3 p)</h2>

Det finns tjugo robotar,
ett tiotal personer som bokar dem,
och man gör kanske tio bokningar per år.
Diskutera behovet av index i databasen!


<a name="uppgift-5"></a>
<h2>Uppgift 5 (3 p)</h2>

Inför terminsstarten är det flera olika bokningar som behöver göras,
och alla lärarna som ska boka robotar gör det i sista minuten.
Diskutera behovet av transaktioner i databasen!



<a name="uppgift-6"></a>
<h2>Uppgift 6 (3 p)</h2>

Vilken databashanterare skulle vara lämplig för den här databasen?
Ange tre olika databashanterare,
och beskriv för var och en varför, eller varför inte, den är lämplig!



<a name="uppgift-7"></a>
<h2>Uppgift 7 (5 p)</h2>

Man kan skriva SQL-frågor inuti en lagrad procedur,
och man kan skriva SQL-frågor i ett Python-program.
Beskriv hur det skiljer sig åt, och fördelar och nackdelar!

<p>

</p><hr>



</body></html>